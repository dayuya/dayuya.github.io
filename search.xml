<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Swingjava窗体应用总结一</title>
      <link href="/53735.html"/>
      <url>/53735.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="认识-控件"><a href="#认识-控件" class="headerlink" title="认识 控件"></a>认识 控件</h1><h1 id="认识-布局"><a href="#认识-布局" class="headerlink" title="认识 布局"></a>认识 布局</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">JFrame</span> <span class="variable">jFrame</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JFrame</span>(<span class="string">&quot;登录&quot;</span>);</span><br><span class="line">jFrame.setLayout(<span class="keyword">new</span> <span class="title class_">GridLayout</span>(<span class="number">4</span>,<span class="number">2</span>));<span class="comment">//四行两列</span></span><br></pre></td></tr></table></figure><h2 id="GridLayout布局使用"><a href="#GridLayout布局使用" class="headerlink" title="GridLayout布局使用"></a>GridLayout布局使用</h2><table><thead><tr><th align="center">——-</th><th align="center">——-</th></tr></thead><tbody><tr><td align="center">1</td><td align="center">2</td></tr><tr><td align="center">3</td><td align="center">4</td></tr><tr><td align="center">5</td><td align="center">6</td></tr><tr><td align="center">7</td><td align="center">8</td></tr></tbody></table><figure class="highlight java"><figcaption><span>添加的控件就会和上图表格里面序号的位置</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">JFrame</span> <span class="variable">jFrame</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JFrame</span>(<span class="string">&quot;登录&quot;</span>); <span class="comment">//创建一个对象</span></span><br><span class="line"><span class="type">JLabel</span> <span class="variable">jLabel</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JLabel</span>(<span class="string">&quot;账号&quot;</span>);</span><br><span class="line"><span class="type">JLabel</span> <span class="variable">jLabel1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JLabel</span>(<span class="string">&quot;密码&quot;</span>);</span><br><span class="line">jFrame.add(jLabel);</span><br><span class="line">jFrame.add(jLabel1);</span><br></pre></td></tr></table></figure><h1 id="登入界面代码"><a href="#登入界面代码" class="headerlink" title="登入界面代码"></a>登入界面代码</h1><figure class="highlight java"><figcaption><span>丢main方法里面使用</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">JFrame</span> <span class="variable">jFrame</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JFrame</span>(<span class="string">&quot;登录&quot;</span>);</span><br><span class="line">       jFrame.setSize(<span class="number">300</span>, <span class="number">200</span>);</span><br><span class="line">       jFrame.setDefaultCloseOperation(jFrame.EXIT_ON_CLOSE);</span><br><span class="line"></span><br><span class="line">       jFrame.setLocationRelativeTo(<span class="literal">null</span>);</span><br><span class="line">       jFrame.setLayout(<span class="keyword">new</span> <span class="title class_">GridLayout</span>(<span class="number">4</span>,<span class="number">2</span>));</span><br><span class="line">       <span class="type">JLabel</span> <span class="variable">jLabel</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JLabel</span>(<span class="string">&quot;账号&quot;</span>);</span><br><span class="line">       jFrame.add(jLabel);</span><br><span class="line">       <span class="type">JTextField</span> <span class="variable">jTextField</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JTextField</span>();</span><br><span class="line">       jFrame.add(jTextField);</span><br><span class="line">       <span class="type">JLabel</span> <span class="variable">jLabel1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JLabel</span>(<span class="string">&quot;密码&quot;</span>);</span><br><span class="line">       jFrame.add(jLabel1);</span><br><span class="line">       <span class="type">JPasswordField</span> <span class="variable">jPasswordField</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JPasswordField</span>();</span><br><span class="line">       jFrame.add(jPasswordField);</span><br><span class="line"></span><br><span class="line">       jFrame.add(<span class="keyword">new</span> <span class="title class_">JLabel</span>());</span><br><span class="line">       jFrame.add(<span class="keyword">new</span> <span class="title class_">JLabel</span>());</span><br><span class="line">       <span class="type">JButton</span> <span class="variable">jButton</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JButton</span>(<span class="string">&quot;登录&quot;</span>);</span><br><span class="line">       jFrame.add(jButton);</span><br><span class="line">       <span class="type">JButton</span> <span class="variable">jButton1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JButton</span>(<span class="string">&quot;取消&quot;</span>);</span><br><span class="line">       jFrame.add(jButton1);</span><br><span class="line"></span><br><span class="line">       jButton.addActionListener(<span class="keyword">new</span> <span class="title class_">ActionListener</span>() &#123;</span><br><span class="line">           <span class="meta">@Override</span></span><br><span class="line">           <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">actionPerformed</span><span class="params">(ActionEvent e)</span> &#123;</span><br><span class="line">               <span class="type">char</span>[] password = jPasswordField.getPassword();</span><br><span class="line">               <span class="type">User</span> <span class="variable">login</span> <span class="operator">=</span> userController.login(jTextField.getText(),<span class="keyword">new</span> <span class="title class_">String</span>(password) );</span><br><span class="line">               <span class="keyword">if</span> (login != <span class="literal">null</span>) &#123;</span><br><span class="line">                   JOptionPane.showMessageDialog(jFrame,<span class="string">&quot;登录成功，欢迎&quot;</span>+login.getName(),JOptionPane.ICON_PROPERTY,JOptionPane.INFORMATION_MESSAGE);</span><br><span class="line">               &#125;</span><br><span class="line">               JOptionPane.showMessageDialog(jFrame,<span class="string">&quot;登录成功，欢迎&quot;</span>+login.getName(),JOptionPane.ICON_PROPERTY,JOptionPane.INFORMATION_MESSAGE);</span><br><span class="line"></span><br><span class="line">           &#125;</span><br><span class="line">       &#125;);</span><br><span class="line"></span><br><span class="line">       jFrame.setVisible(<span class="literal">true</span>);</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> swing </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JFrame </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ATM系统</title>
      <link href="/56849.html"/>
      <url>/56849.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="ATM-Test"><a href="#ATM-Test" class="headerlink" title="ATM_Test"></a>ATM_Test</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 程序启动类</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ATM_Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// 创建ATM对象，调用方法</span></span><br><span class="line">        <span class="type">ATM</span> <span class="variable">atm</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ATM</span>();</span><br><span class="line">        atm.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="ATM"><a href="#ATM" class="headerlink" title="ATM"></a>ATM</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Random;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ATM 操作类：专门负责完成用户对于账户的操作</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ATM</span> &#123;</span><br><span class="line">    <span class="comment">// 准备一个集合，用来存储多个Account账户</span></span><br><span class="line">    <span class="keyword">private</span> ArrayList&lt;Account&gt; accounts = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ATM</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// 初始化几个账户</span></span><br><span class="line">       <span class="type">Account</span> <span class="variable">a1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Account</span>(<span class="string">&quot;11112222&quot;</span>, <span class="string">&quot;吴彦祖&quot;</span>, <span class="string">&quot;男&quot;</span>, <span class="string">&quot;123456&quot;</span>, <span class="number">50000</span>, <span class="number">30000</span>);</span><br><span class="line">        <span class="type">Account</span> <span class="variable">a2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Account</span>(<span class="string">&quot;88886666&quot;</span>, <span class="string">&quot;刘德华&quot;</span>, <span class="string">&quot;男&quot;</span>, <span class="string">&quot;123456&quot;</span>, <span class="number">10000</span>, <span class="number">2000</span>);</span><br><span class="line">        <span class="type">Account</span> <span class="variable">a3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Account</span>(<span class="string">&quot;12345678&quot;</span>, <span class="string">&quot;黎明&quot;</span>, <span class="string">&quot;男&quot;</span>, <span class="string">&quot;123456&quot;</span>, <span class="number">500</span>, <span class="number">3000</span>);</span><br><span class="line">       <span class="type">Account</span> <span class="variable">a4</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Account</span>(<span class="string">&quot;33338888&quot;</span>, <span class="string">&quot;蔡徐坤&quot;</span>, <span class="string">&quot;男&quot;</span>, <span class="string">&quot;123456&quot;</span>, <span class="number">500000</span>, <span class="number">1000</span>);</span><br><span class="line">        accounts.add(a1);</span><br><span class="line">        accounts.add(a2);</span><br><span class="line">        accounts.add(a3);</span><br><span class="line">        accounts.add(a4);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 创建键盘录入对象</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">Scanner</span> <span class="variable">sc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">start</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">            <span class="comment">// 展示用户看到的界面</span></span><br><span class="line">            System.out.println(<span class="string">&quot;====欢迎进入黑马银行ATM系统====&quot;</span>);</span><br><span class="line">            System.out.println(<span class="string">&quot;1、用户登录&quot;</span>);</span><br><span class="line">            System.out.println(<span class="string">&quot;2、用户开户&quot;</span>);</span><br><span class="line">            System.out.println(<span class="string">&quot;3、退出&quot;</span>);</span><br><span class="line">            System.out.println(<span class="string">&quot;请选择您要操作的命令：&quot;</span>);</span><br><span class="line">            <span class="type">int</span> <span class="variable">choose</span> <span class="operator">=</span> sc.nextInt();</span><br><span class="line">            <span class="keyword">switch</span> (choose) &#123;</span><br><span class="line">                <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">                    login();</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">                    openAccount();</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">                    System.out.println(<span class="string">&quot;欢迎您再次使用~&quot;</span>);</span><br><span class="line">                    <span class="keyword">return</span>;</span><br><span class="line">                <span class="keyword">default</span>:</span><br><span class="line">                    System.out.println(<span class="string">&quot;您的输入有误，请重新输入。&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 银行开户</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">openAccount</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;==系统开户操作==&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;请输入账户用户名：&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> sc.next();</span><br><span class="line">        System.out.println(<span class="string">&quot;请输入账户性别：&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">gender</span> <span class="operator">=</span> sc.next();</span><br><span class="line">        String password;</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;请输入账户密码：&quot;</span>);</span><br><span class="line">            password = sc.next();</span><br><span class="line">            System.out.println(<span class="string">&quot;请输入账户确认密码：&quot;</span>);</span><br><span class="line">            <span class="type">String</span> <span class="variable">password2</span> <span class="operator">=</span> sc.next();</span><br><span class="line">            <span class="comment">// 判断两次密码是否一致</span></span><br><span class="line">            <span class="keyword">if</span> (!password.equals(password2)) &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;两次密码不一致，请重新输入。&quot;</span>);</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;请输入开户初始金额：&quot;</span>);</span><br><span class="line">        <span class="type">int</span> <span class="variable">money</span> <span class="operator">=</span> sc.nextInt();</span><br><span class="line">        System.out.println(<span class="string">&quot;请输入账户每日取款限额：&quot;</span>);</span><br><span class="line">        <span class="type">int</span> <span class="variable">dayLimit</span> <span class="operator">=</span> sc.nextInt();</span><br><span class="line">        <span class="comment">// 调用方法获取一个银行卡号</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">cardNo</span> <span class="operator">=</span> getCardNo();</span><br><span class="line">        <span class="comment">// 创建Account对象，将上面的数据，封装到对象中。</span></span><br><span class="line">        <span class="type">Account</span> <span class="variable">acc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Account</span>(cardNo,name,gender,password,money,dayLimit);</span><br><span class="line">        <span class="comment">// 将创建好的账户对象，存入集合，开户成功</span></span><br><span class="line">        accounts.add(acc);</span><br><span class="line">        System.out.println(<span class="string">&quot;恭喜您，&quot;</span>+acc.getName() + acc.getGender()+<span class="string">&quot;，您开户成功，您的卡号是：&quot;</span>+ cardNo);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 用户登录</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">login</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 获取银行卡号</span></span><br><span class="line">    <span class="keyword">private</span> String <span class="title function_">getCardNo</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">Random</span> <span class="variable">r</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Random</span>();</span><br><span class="line">        String cardNo;</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">            cardNo = <span class="string">&quot;&quot;</span>;</span><br><span class="line">            <span class="comment">// 循环8次，随机拼接8个数字</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">8</span>; i++) &#123;</span><br><span class="line">                <span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> r.nextInt(<span class="number">10</span>);</span><br><span class="line">                cardNo += num;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 判断生成的卡号，是否在集合中，已存在。</span></span><br><span class="line">            <span class="type">Account</span> <span class="variable">acc</span> <span class="operator">=</span> getAccountByCardNo(cardNo);</span><br><span class="line">            <span class="keyword">if</span> (acc != <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="comment">// 卡号已存在。</span></span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// acc = null,则表示卡号不存在。</span></span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> cardNo;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 通过卡号，获取账户对象</span></span><br><span class="line">    <span class="keyword">private</span> Account <span class="title function_">getAccountByCardNo</span><span class="params">(String cardNo)</span> &#123;</span><br><span class="line">        <span class="comment">// 遍历集合，找有没有重复的卡号</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; accounts.size(); i++) &#123;</span><br><span class="line">            <span class="type">Account</span> <span class="variable">acc</span> <span class="operator">=</span> accounts.get(i);</span><br><span class="line">            <span class="comment">// 判断集合中的账户的卡号，是否与传入的卡号相同</span></span><br><span class="line">            <span class="keyword">if</span> (acc.getCardNo().equals(cardNo)) &#123;</span><br><span class="line">                <span class="comment">// 相同，则返回该账户对象</span></span><br><span class="line">                <span class="keyword">return</span> acc;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 没有相同，则返回null</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="Account"><a href="#Account" class="headerlink" title="Account"></a>Account</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Account</span> &#123;</span><br><span class="line">    <span class="comment">// 卡号、姓名、性别、密码、余额、每次取现额度、每日取款限额、累计取款额度、账户锁定、注销</span></span><br><span class="line">    <span class="keyword">private</span> String cardNo;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> String gender;</span><br><span class="line">    <span class="keyword">private</span> String password;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> money;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">onceLimit</span> <span class="operator">=</span> <span class="number">2000</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> dayLimit;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> totalMoney;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">boolean</span> lock;   <span class="comment">// false = 可用    true = 被锁定   默认false</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">boolean</span> logout;  <span class="comment">// false = 可用   true = 被注销   默认false</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> errCount;  <span class="comment">// 密码错误次数   默认0</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Account</span><span class="params">(String cardNo, String name, String gender, String password, <span class="type">double</span> money, <span class="type">int</span> dayLimit)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.cardNo = cardNo;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.gender = gender;</span><br><span class="line">        <span class="built_in">this</span>.password = password;</span><br><span class="line">        <span class="built_in">this</span>.money = money;</span><br><span class="line">        <span class="built_in">this</span>.dayLimit = dayLimit;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Account</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getCardNo</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> cardNo;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setCardNo</span><span class="params">(String cardNo)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.cardNo = cardNo;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getGender</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> gender.equals(<span class="string">&quot;男&quot;</span>) ? <span class="string">&quot;先生&quot;</span> : <span class="string">&quot;女士&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setGender</span><span class="params">(String gender)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.gender = gender;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getPassword</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> password;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setPassword</span><span class="params">(String password)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.password = password;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">getMoney</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> money;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setMoney</span><span class="params">(<span class="type">double</span> money)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.money = money;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getOnceLimit</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> onceLimit;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setOnceLimit</span><span class="params">(<span class="type">int</span> onceLimit)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.onceLimit = onceLimit;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getDayLimit</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> dayLimit;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setDayLimit</span><span class="params">(<span class="type">int</span> dayLimit)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.dayLimit = dayLimit;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">getTotalMoney</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> totalMoney;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setTotalMoney</span><span class="params">(<span class="type">double</span> totalMoney)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.totalMoney = totalMoney;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isLock</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> lock;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setLock</span><span class="params">(<span class="type">boolean</span> lock)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.lock = lock;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isLogout</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> logout;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setLogout</span><span class="params">(<span class="type">boolean</span> logout)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.logout = logout;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getErrCount</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> errCount;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setErrCount</span><span class="params">(<span class="type">int</span> errCount)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.errCount = errCount;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javaSe </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>微信多开</title>
      <link href="/63138.html"/>
      <url>/63138.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="微信pc躲开"><a href="#微信pc躲开" class="headerlink" title="微信pc躲开"></a>微信pc躲开</h2><ul><li>微信pc多开<figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line"></span><br><span class="line"><span class="built_in">start</span> &quot;&quot; &quot;D:\app\WeChat\WeChat.exe&quot;</span><br><span class="line"></span><br><span class="line"><span class="built_in">start</span> &quot;&quot; &quot;D:\app\WeChat\WeChat.exe&quot;</span><br><span class="line"></span><br><span class="line"><span class="keyword">exit</span></span><br><span class="line">:: 等待用户操作</span><br><span class="line"><span class="built_in">pause</span></span><br></pre></td></tr></table></figure></li></ul>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>uniapp教程</title>
      <link href="/27964.html"/>
      <url>/27964.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="js-promise-封装"><a href="#js-promise-封装" class="headerlink" title="js promise 封装"></a>js promise 封装</h3><figure class="highlight js"><figcaption><span>promise 封装 这里url拼接要正确  要有 http开头</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// request.js</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> config <span class="keyword">from</span> <span class="string">&#x27;@/config/env.js&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">request</span>(<span class="params">options = &#123;&#125;</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> defaultHeader = &#123;</span><br><span class="line">    <span class="string">&#x27;Content-Type&#x27;</span>: <span class="string">&#x27;application/json&#x27;</span></span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="keyword">const</span> &#123; url, method = <span class="string">&#x27;GET&#x27;</span>, data, header = defaultHeader, contentype = <span class="number">1</span> &#125; = options;</span><br><span class="line"><span class="comment">// 使用环境配置的基础URL</span></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    uni.<span class="title function_">request</span>(&#123;</span><br><span class="line">      <span class="attr">url</span>: config.<span class="property">apiBaseUrl</span>+url,</span><br><span class="line">      <span class="attr">data</span>: data,</span><br><span class="line">      method,</span><br><span class="line">      <span class="attr">header</span>: header,</span><br><span class="line">      <span class="attr">success</span>: <span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (res.<span class="property">statusCode</span> === <span class="number">200</span>) &#123;</span><br><span class="line">          <span class="title function_">resolve</span>(res.<span class="property">data</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (res.<span class="property">statusCode</span> === <span class="number">401</span>) &#123;</span><br><span class="line">          uni.<span class="title function_">showToast</span>(&#123;</span><br><span class="line">            <span class="attr">icon</span>: <span class="string">&#x27;none&#x27;</span>,</span><br><span class="line">            <span class="attr">title</span>: <span class="string">&quot;未登录或登录超时&quot;</span>,</span><br><span class="line">            <span class="attr">duration</span>: <span class="number">1500</span></span><br><span class="line">          &#125;);</span><br><span class="line">          <span class="title function_">reject</span>(<span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&quot;未登录或登录超时&quot;</span>));</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (res.<span class="property">statusCode</span> === <span class="number">405</span>) &#123;</span><br><span class="line">          uni.<span class="title function_">showToast</span>(&#123;</span><br><span class="line">            <span class="attr">icon</span>: <span class="string">&#x27;none&#x27;</span>,</span><br><span class="line">            <span class="attr">title</span>: <span class="string">&quot;请求方法错误&quot;</span>,</span><br><span class="line">            <span class="attr">duration</span>: <span class="number">1500</span></span><br><span class="line">          &#125;);</span><br><span class="line">          <span class="title function_">reject</span>(<span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&quot;请求方法错误&quot;</span>));</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          uni.<span class="title function_">showToast</span>(&#123;</span><br><span class="line">            <span class="attr">icon</span>: <span class="string">&#x27;none&#x27;</span>,</span><br><span class="line">            <span class="attr">title</span>: <span class="string">&quot;请求错误&quot;</span> + res.<span class="property">statusCode</span>,</span><br><span class="line">            <span class="attr">duration</span>: <span class="number">1500</span></span><br><span class="line">          &#125;);</span><br><span class="line">          <span class="title function_">reject</span>(<span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&quot;请求错误：&quot;</span> + res.<span class="property">statusCode</span>));</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">fail</span>: <span class="function">(<span class="params">err</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;err&quot;</span>,err);</span><br><span class="line">        uni.<span class="title function_">showToast</span>(&#123;</span><br><span class="line">          <span class="attr">icon</span>: <span class="string">&#x27;none&#x27;</span>,</span><br><span class="line">          <span class="attr">title</span>: err.<span class="property">errMsg</span>,</span><br><span class="line">          <span class="attr">duration</span>: <span class="number">1500</span></span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="title function_">reject</span>(err);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123; request &#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="js-基础url定义封装"><a href="#js-基础url定义封装" class="headerlink" title="js 基础url定义封装"></a>js 基础url定义封装</h3><figure class="highlight js"><figcaption><span>基础url定义封装</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// env.js</span></span><br><span class="line"><span class="keyword">let</span> config = &#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 开发环境</span></span><br><span class="line"><span class="keyword">if</span> (process.<span class="property">env</span>.<span class="property">NODE_ENV</span> === <span class="string">&#x27;development&#x27;</span>) &#123;</span><br><span class="line">  config = &#123;</span><br><span class="line">    <span class="attr">apiBaseUrl</span>: <span class="string">&#x27;http://127.0.0.1:3000&#x27;</span>,</span><br><span class="line">    <span class="comment">// 其他开发环境特定的配置</span></span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 生产环境</span></span><br><span class="line"><span class="keyword">if</span> (process.<span class="property">env</span>.<span class="property">NODE_ENV</span> === <span class="string">&#x27;production&#x27;</span>) &#123;</span><br><span class="line">  config = &#123;</span><br><span class="line">    <span class="attr">apiBaseUrl</span>: <span class="string">&#x27;localhost:9999&#x27;</span>,</span><br><span class="line">    <span class="comment">// 其他生产环境特定的配置</span></span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 导出配置对象</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = config;</span><br><span class="line"> </span><br></pre></td></tr></table></figure><h3 id="常见问题"><a href="#常见问题" class="headerlink" title="常见问题"></a>常见问题</h3><h2 id="改baseurl-还是没有变"><a href="#改baseurl-还是没有变" class="headerlink" title="改baseurl 还是没有变"></a>改baseurl 还是没有变</h2><ul><li>import {xx} from “xx” 改 import xx from “xx”<br>一般导出一个对象，引入的时候就不要用 {xx}</li></ul><h2 id="127-0-0-1-url-拼接还加上了运行的地址"><a href="#127-0-0-1-url-拼接还加上了运行的地址" class="headerlink" title="127.0.0.1+url 拼接还加上了运行的地址"></a>127.0.0.1+url 拼接还加上了运行的地址</h2><ul><li>加上 <a href="http://127.0.0.1/">http://127.0.0.1</a></li></ul>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>nodejs教程</title>
      <link href="/64525.html"/>
      <url>/64525.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install express</span><br></pre></td></tr></table></figure><h3 id="案例"><a href="#案例" class="headerlink" title="案例"></a>案例</h3><h2 id="运行"><a href="#运行" class="headerlink" title="运行"></a>运行</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">node app.js</span><br></pre></td></tr></table></figure><h2 id="案例-1"><a href="#案例-1" class="headerlink" title="案例"></a>案例</h2><figure class="highlight js"><figcaption><span>app.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">express</span>();</span><br><span class="line"><span class="keyword">const</span> port = <span class="number">3000</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * cors</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> cors = <span class="built_in">require</span>(<span class="string">&#x27;cors&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> corsOptions = &#123;</span><br><span class="line">    <span class="attr">origin</span>: <span class="string">&#x27;http://127.0.0.1:8081&#x27;</span></span><br><span class="line">&#125;;</span><br><span class="line">app.<span class="title function_">use</span>(<span class="title function_">cors</span>(corsOptions));<span class="comment">//app.use();  这样写就是全部添加</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 其他的路由和中间件...</span></span><br><span class="line">app.<span class="title function_">get</span>(<span class="string">&#x27;/a&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">    res.<span class="title function_">status</span>(<span class="number">200</span>).<span class="title function_">json</span>(&#123; <span class="attr">success</span>: <span class="literal">true</span>, <span class="attr">message</span>: <span class="string">&#x27;Login successful&#x27;</span> &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">listen</span>(port, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Example app listening at http://localhost:<span class="subst">$&#123;port&#125;</span>`</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="nodejs取参四种方法req-body-req-params-req-param-req-body"><a href="#nodejs取参四种方法req-body-req-params-req-param-req-body" class="headerlink" title="nodejs取参四种方法req.body,req.params,req.param,req.body"></a>nodejs取参四种方法req.body,req.params,req.param,req.body</h2><p>摘要: nodejs取参四种方法req.body,req.params,req.param,req.body 获取请求很中的参数是每个web后台处理的必经之路，nodejs提供了四种方法来实现。<br>获取请求很中的参数是每个web后台处理的必经之路，nodejs的 express框架 提供了四种方法来实现。</p><p>req.body</p><p>req.query</p><p>req.params</p><p>req.param()</p><p>首先介绍第一个req.body</p><p>官方文档解释：<br>Contains key-value pairs of data submitted in the request body. By default, it is undefined,<br> and is populated when you use body-parsing middleware such as body-parser and multer.</p><p>稍微翻译一下：包含了提交数据的键值对在请求的body中，默认是underfined,<br>你可以用body-parser或者multer来解析body<br>解析body不是nodejs默认提供的，你需要载入body-parser中间件才可以使用req.body</p><p>此方法通常用来解析POST请求中的数据</p><p>第二种是req.query</p><p>官方文档解释：<br>An object containing a property for each query string parameter in the route.<br>If there is no query string, it is the empty object, {}.<br>翻译一下:包含在路由中每个查询字符串参数属性的对象。如果没有，默认为{}<br>有nodejs默认提供，无需载入中间件</p><p>举例说明(官方摘抄)：</p><p>&#x2F;&#x2F; GET &#x2F;search?q&#x3D;tobi+ferret<br>req.query.q<br>&#x2F;&#x2F; &#x3D;&gt; “tobi ferret”</p><p>&#x2F;&#x2F; GET &#x2F;shoes?order&#x3D;desc&amp;shoe[color]&#x3D;blue&amp;shoe[type]&#x3D;converse<br>req.query.order<br>&#x2F;&#x2F; &#x3D;&gt; “desc”<br>req.query.shoe.color<br>&#x2F;&#x2F; &#x3D;&gt; “blue”<br>req.query.shoe.type<br>&#x2F;&#x2F; &#x3D;&gt; “converse”<br>此方法多适用于GET请求，解析GET里的参数<br>第三种是 req.params</p><p>官方文档：<br>An object containing properties mapped to the named route “parameters”.<br>For example, if you have the route &#x2F;user&#x2F;:name,<br>then the “name” property is available as req.params.name. This object defaults to {}.</p><p>翻译：包含映射到指定的路线“参数”属性的对象。<br>例如，如果你有route&#x2F;user&#x2F;：name，那么“name”属性可作为req.params.name。<br>该对象默认为{}。<br>nodejs默认提供，无需载入其他中间件</p><p>举例说明<br>&#x2F;&#x2F; GET &#x2F;user&#x2F;tj<br>req.params.name<br>&#x2F;&#x2F; &#x3D;&gt; “tj”<br>多适用于restful风格url中的参数的解析</p><p>req.query与req.params的区别<br>req.params包含路由参数（在URL的路径部分），而req.query包含URL的查询参数（在URL的？后的参数）。</p><p>最后一种req.param()</p><p>此方法被弃用，请看官方解释</p><p>Deprecated. Use either req.params, req.body or req.query, as applicable.<br>翻译：被弃用，用其他三种方式替换</p><p> 取得 GET Request 的 Query Strings：</p><p>GET &#x2F;test?name&#x3D;fred&amp;tel&#x3D;0926xxx572</p><p>app.get(‘&#x2F;test’, function(req, res) {<br>    console.log(req.query.name);<br>    console.log(req.query.tel);<br>});<br> 如果是表单且是用 POST method：</p><form action='/test' method='post'>     <input type='text' name='name' value='fred'>     <input type='text' name='tel' value='0926xxx572'>     <input type='submit' value='Submit'> </form>app.post('/test', function(req, res) {    console.log(req.query.id);    console.log(req.body.name);    console.log(req.body.tel);}); 当然也可以 Query Strings 和 POST method 的表单同时使用：<form action='/test?id=3' method='post'>     <input type='text' name='name' value='fred'>     <input type='text' name='tel' value='0926xxx572'>     <input type='submit' value='Submit'> </form>app.post('/test', function(req, res) {    console.log(req.query.id);    console.log(req.body.name);    console.log(req.body.tel);}); 顺带补充，还有另一种方法传递参数给 Server，就是使用路径的方式，可以利用 Web Server 的 HTTP Routing 來解析，常见于各种 Web Framework。這不算是传统标准规范的做法，是属于 HTTP Routing 的延伸应用。<p>GET &#x2F;hello&#x2F;fred&#x2F;0926xxx572</p><p>app.get(‘&#x2F;hello&#x2F;:name&#x2F;:tel’, function(req, res) {<br>    console.log(req.params.name);<br>    console.log(req.params.tel);<br>});</p>]]></content>
      
      
      <categories>
          
          <category> nodejs </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>看板娘</title>
      <link href="/22125.html"/>
      <url>/22125.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="官网"><a href="#官网" class="headerlink" title="官网"></a>官网</h2><p><a href="https://github.com/stevenjoezhang/live2d-widget">github地址</a></p><p><a href="https://github.com/stevenjoezhang/live2d-widget/blob/master/demo/login.html">看板娘登入</a></p><p><a href="https://github.com/stevenjoezhang/live2d-widget/blob/master/live2d.min.js">看板娘依赖</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>文章浏览量设置</title>
      <link href="/8034.html"/>
      <url>/8034.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>创建Lean Cloud应用<br>首先一句话介绍 Lean Cloud:</p><p>LeanCloud（aka. AVOS Cloud）提供一站式后端云服务，从数据存储、实时聊天、消息推送到移动统计，涵盖应用开发的多方面后端需求。</p><p>我们只用到它的数据存储部分,具体步骤如下：</p><p>首先到『控制台』创建一个应用，名字随便取。<br>点击新建应用的『数据』选项，选择『创建Class』，取名为 ” Counter “ 。<br>点击新建应用右上角的齿轮，在『应用Key』选项里得到 APP ID 和 APP Key，在后面会用到。<br>修改 Hexo 页面<br>新建 popular_posts.ejs<br>首先在theme&#x2F;你的主题 &#x2F;layout&#x2F;_widget 目录下新建 popular_posts.ejs 文件,其内容为</p><p>&lt;% if (site.posts.length){ %&gt;<br>    <div class="widget-wrap"><br>    <h3 class="widget-title">浏览数目</h3><br>    <div class="widget"><br>      <ul class="popularlist"><br>      </ul><br>    </div><br>  </div><br>&lt;% } %&gt;<br>修改head.ejs<br>修改theme&#x2F;你的主题&#x2F;layout&#x2F;_partial&#x2F;head.ejs文件,在head标签的最后插入：</p><script src="https://leancloud.cn/scripts/lib/av-0.4.6.min.js"></script>  <script>AV.initialize("你的APP ID", "你的APP Key");</script><p>修改after-footer.ejs<br>修改 theme&#x2F; 你的主题 &#x2F;layout&#x2F;_partial&#x2F;after-footer.ejs ,在最后插入：</p><!--page counter part--><script>function addCount (Counter) {        url=$('.article-date').attr('href').trim();    title = $('.article-title').text().trim();    var query=new AV.Query(Counter);    //use url as unique idnetfication    query.equalTo("url",url);    query.find({        success: function(results){            if(results.length>0)            {                var counter=results[0];                counter.fetchWhenSave(true); //get recent result                counter.increment("time");                counter.save();            }            else            {                var newcounter=new Counter();                newcounter.set("title",title);                newcounter.set("url",url);                newcounter.set("time",1);                newcounter.save(null,{                    success: function(newcounter){                    //alert('New object created');                    },                    error: function(newcounter,error){                    alert('Failed to create');                    }                    });            }        },        error: function(error){            //find null is not a error            alert('Error:'+error.code+" "+error.message);        }    });}$(function(){    var Counter=AV.Object.extend("Counter");    //only increse visit counting when intering a page    if ($('.article-title').length == 1)       addCount(Counter);    var query=new AV.Query(Counter);    query.descending("time");    // the sum of popular posts    query.limit(10);     query.find({        success: function(results){                for(var i=0;i<results.length;i++)                    {                    var counter=results[i];                    title=counter.get("title");                    url=counter.get("url");                    time=counter.get("time");                    // add to the popularlist widget                    showcontent=title+" ("+time+")";                    //notice the "" in href                    $('.popularlist').append('<li><a href="'+url+'">'+showcontent+'</a></li>');                }            },        error: function(error){            alert("Error:"+error.code+" "+error.message);        }        }    )    });这段代码的核心逻辑就是对 Counter 对象的增加和查询，每一篇文章都会有一个 time 字段来记录访问次数。这里查询的时候我用的是文章通过 Hexo 生成的 URL 作为主键的，所以 post 文件夹目录下的文件名一旦取好就不要轻易修改了，要不然访问次数会重新计算的:)。修改 config.yml最后，修改 theme/ 你的主题 /config.yml 文件,在 widgets: 选项找个位置下添加 - popular_posts 即可。小结插件的效果可以见我博客的右侧”浏览数目“插件，样式和文章显示数目可以直接在代码里改,浏览量数据都存在 “Counter” 表中PS：这个浏览量数据是可以自己改的]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>购物清单</title>
      <link href="/34434.html"/>
      <url>/34434.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>价格:3.68 地址：<a href="https://item.taobao.com/item.htm?spm=a1z09.2.0.0.55422e8dhySFUg&id=753536408852&_u=q3br34hud279">经典舵机sg90 180°</a><br>三根线 GND、VCC、PWM<br>价格:￥2.38<a href="https://item.taobao.com/item.htm?spm=a1z09.2.0.0.55422e8dhySFUg&id=569640651397&_u=q3br34hu79c9">2P 插头+弯针+端子 PH2.0mm接插件（50套）</a><br>价格:￥21.80 <a href="https://item.taobao.com/item.htm?spm=a1z09.2.0.0.55422e8dhySFUg&id=744030311292&_u=q3br34hu2555">合金越野攀爬车男孩遥控车</a><br>价格:￥3.55 <a href="https://item.taobao.com/item.htm?spm=a1z09.2.0.0.55422e8dhySFUg&id=675247934222&_u=q3br34hu4ec3">385电机</a><br>12v直流电机<br>价格:￥4.60 <a href="https://item.taobao.com/item.htm?spm=a1z09.2.0.0.55422e8dhySFUg&id=615779197448&_u=q3br34hucf20">经典舵机sg90 180°</a><br>价格:￥9.28<a href="https://item.taobao.com/item.htm?spm=a1z09.2.0.0.55422e8dhySFUg&id=692845207183&_u=q3br34hu0cd7">继电器智能插座+ESP-01S</a></p><p>价格:￥4.60<a href="https://item.taobao.com/item.htm?spm=a1z09.2.0.0.55422e8dhySFUg&id=40511001950&_u=q3br34hub419">烧录下载器 ESP-01S</a><br>价格:￥3.20 <a href="https://item.taobao.com/item.htm?spm=a1z09.2.0.0.55422e8dhySFUg&id=616819799466&_u=q3br34hud5c5">2路直流电机驱动模块 L298n</a><br>描述:这是个电机驱动  GPIO 和 pwm 可以一起用</p><p>价格：￥9.52<a href="https://item.taobao.com/item.htm?spm=a1z09.2.0.0.55422e8dhySFUg&id=747401601906&_u=q3br34hue4dd">ESP32-C3</a><br>带蓝牙 wifi  ADC接口</p><p>价格：￥3.36<a href="">吸锡带-2mmm-1.5</a><br>这个也不咋地好用</p><p>价格：￥3.36<a href="">Anker pd20w 充电头</a><br>还可以</p><p>air001<br>描述：无蓝牙wifi 。 4kflsh  。最小系统。感觉啥也玩不了  因为不能无线</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>cqhttp通知</title>
      <link href="/48296.html"/>
      <url>/48296.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br></pre></td><td class="code"><pre><span class="line">!(<span class="title function_">async</span>() =&gt; &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">const</span> envs = <span class="keyword">await</span> <span class="title function_">getEnvs</span>();</span><br><span class="line">    <span class="keyword">if</span> (!envs[<span class="number">0</span>]) &#123;</span><br><span class="line">        $.<span class="title function_">msg</span>($.name, <span class="string">&#x27;【提示】请先获取京东账号一cookie\n直接使用NobyDa的京东签到获取&#x27;</span>, <span class="string">&#x27;https://bean.m.jd.com/bean/signIndex.action&#x27;</span>, &#123;</span><br><span class="line">            <span class="string">&quot;open-url&quot;</span>: <span class="string">&quot;https://bean.m.jd.com/bean/signIndex.action&quot;</span></span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">$.<span class="title function_">log</span>(<span class="string">`\n默认不自动启用CK，开启变量CHECKCK_CKAUTOENABLE=&#x27;true&#x27;`</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; envs.<span class="property">length</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (envs[i].<span class="property">value</span>) &#123;</span><br><span class="line"><span class="keyword">var</span> tempid=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">if</span>(envs[i].<span class="property">_id</span>)&#123;</span><br><span class="line">tempid=envs[i].<span class="property">_id</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(envs[i].<span class="property">id</span>)&#123;</span><br><span class="line">tempid=envs[i].<span class="property">id</span>;</span><br><span class="line">&#125;</span><br><span class="line">            cookie = <span class="keyword">await</span> <span class="title function_">getEnvById</span>(tempid);</span><br><span class="line">            $.<span class="title class_">UserName</span> = (cookie.<span class="title function_">match</span>(<span class="regexp">/pt_pin=([^; ]+)(?=;?)/</span>) &amp;&amp; cookie.<span class="title function_">match</span>(<span class="regexp">/pt_pin=([^; ]+)(?=;?)/</span>)[<span class="number">1</span>])</span><br><span class="line">            $.<span class="title class_">UserName2</span> = <span class="built_in">decodeURIComponent</span>($.<span class="title class_">UserName</span>);</span><br><span class="line">            $.index = i + <span class="number">1</span>;</span><br><span class="line">            $.isLogin = <span class="literal">true</span>;</span><br><span class="line">            $.error = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">            $.<span class="title class_">NoReturn</span> = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">            $.nickName = <span class="string">&quot;&quot;</span>;</span><br><span class="line">            <span class="title class_">TempErrorMessage</span> = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">            <span class="title class_">TempSuccessMessage</span> = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">            <span class="title class_">TempDisableMessage</span> = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">            <span class="title class_">TempEnableMessage</span> = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">            <span class="title class_">TempOErrorMessage</span> = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line"></span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`开始检测【京东账号<span class="subst">$&#123;$.index&#125;</span>】<span class="subst">$&#123;$.UserName2&#125;</span> ....\n`</span>);</span><br><span class="line">            <span class="keyword">if</span> (<span class="title class_">MessageUserGp4</span>) &#123;</span><br><span class="line">                userIndex4 = <span class="title class_">MessageUserGp4</span>.<span class="title function_">findIndex</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> item === $.<span class="title class_">UserName</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (<span class="title class_">MessageUserGp2</span>) &#123;</span><br><span class="line"></span><br><span class="line">                userIndex2 = <span class="title class_">MessageUserGp2</span>.<span class="title function_">findIndex</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> item === $.<span class="title class_">UserName</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (<span class="title class_">MessageUserGp3</span>) &#123;</span><br><span class="line"></span><br><span class="line">                userIndex3 = <span class="title class_">MessageUserGp3</span>.<span class="title function_">findIndex</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> item === $.<span class="title class_">UserName</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (userIndex2 != -<span class="number">1</span>) &#123;</span><br><span class="line">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`账号属于分组2`</span>);</span><br><span class="line">                <span class="title class_">IndexGp2</span> += <span class="number">1</span>;</span><br><span class="line">                <span class="title class_">ReturnMessageTitle</span> = <span class="string">`【账号<span class="subst">$&#123;IndexGp2&#125;</span>🆔】<span class="subst">$&#123;$.UserName2&#125;</span>`</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (userIndex3 != -<span class="number">1</span>) &#123;</span><br><span class="line">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`账号属于分组3`</span>);</span><br><span class="line">                <span class="title class_">IndexGp3</span> += <span class="number">1</span>;</span><br><span class="line">                <span class="title class_">ReturnMessageTitle</span> = <span class="string">`【账号<span class="subst">$&#123;IndexGp3&#125;</span>🆔】<span class="subst">$&#123;$.UserName2&#125;</span>`</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (userIndex4 != -<span class="number">1</span>) &#123;</span><br><span class="line">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`账号属于分组4`</span>);</span><br><span class="line">                <span class="title class_">IndexGp4</span> += <span class="number">1</span>;</span><br><span class="line">                <span class="title class_">ReturnMessageTitle</span> = <span class="string">`【账号<span class="subst">$&#123;IndexGp4&#125;</span>🆔】<span class="subst">$&#123;$.UserName2&#125;</span>`</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (userIndex4 == -<span class="number">1</span> &amp;&amp; userIndex2 == -<span class="number">1</span> &amp;&amp; userIndex3 == -<span class="number">1</span>) &#123;</span><br><span class="line">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`账号没有分组`</span>);</span><br><span class="line">                <span class="title class_">IndexAll</span> += <span class="number">1</span>;</span><br><span class="line">                <span class="title class_">ReturnMessageTitle</span> = <span class="string">`【账号<span class="subst">$&#123;IndexAll&#125;</span>🆔】<span class="subst">$&#123;$.UserName2&#125;</span>`</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">await</span> <span class="title class_">TotalBean</span>();</span><br><span class="line">            <span class="keyword">if</span> ($.<span class="title class_">NoReturn</span>) &#123;</span><br><span class="line">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`接口1检测失败，尝试使用接口2....\n`</span>);</span><br><span class="line">                <span class="keyword">await</span> <span class="title function_">isLoginByX1a0He</span>();</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> ($.isLogin) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (!$.nickName) &#123;</span><br><span class="line">                        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`获取的别名为空，尝试使用接口2验证....\n`</span>);</span><br><span class="line">                        <span class="keyword">await</span> <span class="title function_">isLoginByX1a0He</span>();</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`成功获取到别名: <span class="subst">$&#123;$.nickName&#125;</span>,Pass!\n`</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> ($.error) &#123;</span><br><span class="line">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`有错误，跳出....`</span>);</span><br><span class="line">                <span class="title class_">TempOErrorMessage</span> = $.error;</span><br><span class="line"></span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">const</span> strnowstatus = <span class="keyword">await</span> <span class="title function_">getstatus</span>(tempid);</span><br><span class="line">                <span class="keyword">if</span> (strnowstatus == <span class="number">99</span>) &#123;</span><br><span class="line">                    strnowstatus = envs[i].<span class="property">status</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (!$.isLogin) &#123;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">if</span> (strnowstatus == <span class="number">0</span>) &#123;</span><br><span class="line">                        <span class="keyword">const</span> <span class="title class_">DisableCkBody</span> = <span class="keyword">await</span> <span class="title class_">DisableCk</span>(tempid);</span><br><span class="line">                        <span class="keyword">if</span> (<span class="title class_">DisableCkBody</span>.<span class="property">code</span> == <span class="number">200</span>) &#123;</span><br><span class="line">                            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`京东账号<span class="subst">$&#123;$.index&#125;</span> : <span class="subst">$&#123;$.nickName || $.UserName2&#125;</span> 已失效,自动禁用成功!\n`</span>);</span><br><span class="line">                            <span class="keyword">if</span>(envs[i].<span class="property">remarks</span>)&#123;</span><br><span class="line">                                remarksArray = envs[i].<span class="property">remarks</span>.<span class="title function_">split</span>(<span class="string">&#x27;@&#x27;</span>);</span><br><span class="line">                                <span class="variable language_">console</span>.<span class="title function_">log</span>(remarksArray[<span class="number">1</span>])</span><br><span class="line">                                <span class="keyword">await</span> notify.<span class="title function_">sendNotifybyGoCqHttp</span>(<span class="string">`京东账号: <span class="subst">$&#123;$.nickName || $.UserName2&#125;</span> 已失效,自动禁用成功!\n`</span>,remarksArray[<span class="number">1</span>]);</span><br><span class="line">                            &#125;</span><br><span class="line">                            <span class="title class_">TempDisableMessage</span> = <span class="title class_">ReturnMessageTitle</span> + <span class="string">` (自动禁用成功!)\n`</span>;</span><br><span class="line">                            <span class="title class_">TempErrorMessage</span> = <span class="title class_">ReturnMessageTitle</span> + <span class="string">` 已失效,自动禁用成功!\n`</span>;</span><br><span class="line">                        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`京东账号<span class="subst">$&#123;$.index&#125;</span> : <span class="subst">$&#123;$.nickName || $.UserName2&#125;</span> 已失效,自动禁用失败!\n`</span>);</span><br><span class="line">                            <span class="keyword">if</span>(envs[i].<span class="property">remarks</span>)&#123;</span><br><span class="line">                                remarksArray = envs[i].<span class="property">remarks</span>.<span class="title function_">split</span>(<span class="string">&#x27;@&#x27;</span>);</span><br><span class="line">                                <span class="variable language_">console</span>.<span class="title function_">log</span>(remarksArray[<span class="number">1</span>])</span><br><span class="line">                                <span class="keyword">await</span> notify.<span class="title function_">sendNotifybyGoCqHttp</span>(<span class="string">`京东账号: <span class="subst">$&#123;$.nickName || $.UserName2&#125;</span> 已失效,自动禁用失败!\n`</span>,remarksArray[<span class="number">1</span>]);</span><br><span class="line">                            &#125;</span><br><span class="line">                            <span class="title class_">TempDisableMessage</span> = <span class="title class_">ReturnMessageTitle</span> + <span class="string">` (自动禁用失败!)\n`</span>;</span><br><span class="line">                            <span class="title class_">TempErrorMessage</span> = <span class="title class_">ReturnMessageTitle</span> + <span class="string">` 已失效,自动禁用失败!\n`</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`京东账号<span class="subst">$&#123;$.index&#125;</span> : <span class="subst">$&#123;$.nickName || $.UserName2&#125;</span> 已失效,已禁用!\n`</span>);</span><br><span class="line">                        <span class="keyword">if</span>(envs[i].<span class="property">remarks</span>)&#123;</span><br><span class="line">                            remarksArray = envs[i].<span class="property">remarks</span>.<span class="title function_">split</span>(<span class="string">&#x27;@&#x27;</span>);</span><br><span class="line">                            <span class="variable language_">console</span>.<span class="title function_">log</span>(remarksArray[<span class="number">1</span>])</span><br><span class="line">                            <span class="keyword">await</span> notify.<span class="title function_">sendNotifybyGoCqHttp</span>(<span class="string">`京东账号: <span class="subst">$&#123;$.nickName || $.UserName2&#125;</span> 已失效,已禁用!\n`</span>,remarksArray[<span class="number">1</span>]);</span><br><span class="line">                        &#125;</span><br><span class="line">                        </span><br><span class="line">                        <span class="title class_">TempErrorMessage</span> = <span class="title class_">ReturnMessageTitle</span> + <span class="string">` 已失效,已禁用.\n`</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="keyword">if</span> (strnowstatus == <span class="number">1</span>) &#123;</span><br><span class="line"></span><br><span class="line">                        <span class="keyword">if</span> (<span class="title class_">CKAutoEnable</span> == <span class="string">&quot;true&quot;</span>) &#123;</span><br><span class="line">                            <span class="keyword">const</span> <span class="title class_">EnableCkBody</span> = <span class="keyword">await</span> <span class="title class_">EnableCk</span>(tempid);</span><br><span class="line">                            <span class="keyword">if</span> (<span class="title class_">EnableCkBody</span>.<span class="property">code</span> == <span class="number">200</span>) &#123;</span><br><span class="line">                                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`京东账号<span class="subst">$&#123;$.index&#125;</span> : <span class="subst">$&#123;$.nickName || $.UserName2&#125;</span> 已恢复,自动启用成功!\n`</span>);</span><br><span class="line">                                <span class="title class_">TempEnableMessage</span> = <span class="title class_">ReturnMessageTitle</span> + <span class="string">` (自动启用成功!)\n`</span>;</span><br><span class="line">                                <span class="title class_">TempSuccessMessage</span> = <span class="title class_">ReturnMessageTitle</span> + <span class="string">` (自动启用成功!)\n`</span>;</span><br><span class="line">                            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`京东账号<span class="subst">$&#123;$.index&#125;</span> : <span class="subst">$&#123;$.nickName || $.UserName2&#125;</span> 已恢复,但自动启用失败!\n`</span>);</span><br><span class="line">                                <span class="title class_">TempEnableMessage</span> = <span class="title class_">ReturnMessageTitle</span> + <span class="string">` (自动启用失败!)\n`</span>;</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`京东账号<span class="subst">$&#123;$.index&#125;</span> : <span class="subst">$&#123;$.nickName || $.UserName2&#125;</span> 已恢复，可手动启用!\n`</span>);</span><br><span class="line">                            <span class="title class_">TempEnableMessage</span> = <span class="title class_">ReturnMessageTitle</span> + <span class="string">` 已恢复，可手动启用.\n`</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`京东账号<span class="subst">$&#123;$.index&#125;</span> : <span class="subst">$&#123;$.nickName || $.UserName2&#125;</span> 状态正常!\n`</span>);</span><br><span class="line">                        <span class="title class_">TempSuccessMessage</span> = <span class="title class_">ReturnMessageTitle</span> + <span class="string">`\n`</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (userIndex2 != -<span class="number">1</span>) &#123;</span><br><span class="line">                <span class="title class_">ErrorMessageGp2</span> += <span class="title class_">TempErrorMessage</span>;</span><br><span class="line">                <span class="title class_">SuccessMessageGp2</span> += <span class="title class_">TempSuccessMessage</span>;</span><br><span class="line">                <span class="title class_">DisableMessageGp2</span> += <span class="title class_">TempDisableMessage</span>;</span><br><span class="line">                <span class="title class_">EnableMessageGp2</span> += <span class="title class_">TempEnableMessage</span>;</span><br><span class="line">                <span class="title class_">OErrorMessageGp2</span> += <span class="title class_">TempOErrorMessage</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (userIndex3 != -<span class="number">1</span>) &#123;</span><br><span class="line">                <span class="title class_">ErrorMessageGp3</span> += <span class="title class_">TempErrorMessage</span>;</span><br><span class="line">                <span class="title class_">SuccessMessageGp3</span> += <span class="title class_">TempSuccessMessage</span>;</span><br><span class="line">                <span class="title class_">DisableMessageGp3</span> += <span class="title class_">TempDisableMessage</span>;</span><br><span class="line">                <span class="title class_">EnableMessageGp3</span> += <span class="title class_">TempEnableMessage</span>;</span><br><span class="line">                <span class="title class_">OErrorMessageGp3</span> += <span class="title class_">TempOErrorMessage</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (userIndex4 != -<span class="number">1</span>) &#123;</span><br><span class="line">                <span class="title class_">ErrorMessageGp4</span> += <span class="title class_">TempErrorMessage</span>;</span><br><span class="line">                <span class="title class_">SuccessMessageGp4</span> += <span class="title class_">TempSuccessMessage</span>;</span><br><span class="line">                <span class="title class_">DisableMessageGp4</span> += <span class="title class_">TempDisableMessage</span>;</span><br><span class="line">                <span class="title class_">EnableMessageGp4</span> += <span class="title class_">TempEnableMessage</span>;</span><br><span class="line">                <span class="title class_">OErrorMessageGp4</span> += <span class="title class_">TempOErrorMessage</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (userIndex4 == -<span class="number">1</span> &amp;&amp; userIndex2 == -<span class="number">1</span> &amp;&amp; userIndex3 == -<span class="number">1</span>) &#123;</span><br><span class="line">                <span class="title class_">ErrorMessage</span> += <span class="title class_">TempErrorMessage</span>;</span><br><span class="line">                <span class="title class_">SuccessMessage</span> += <span class="title class_">TempSuccessMessage</span>;</span><br><span class="line">                <span class="title class_">DisableMessage</span> += <span class="title class_">TempDisableMessage</span>;</span><br><span class="line">                <span class="title class_">EnableMessage</span> += <span class="title class_">TempEnableMessage</span>;</span><br><span class="line">                <span class="title class_">OErrorMessage</span> += <span class="title class_">TempOErrorMessage</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`等待2秒.......\n`</span>);</span><br><span class="line">        <span class="keyword">await</span> $.<span class="title function_">wait</span>(<span class="number">2</span> * <span class="number">1000</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> ($.<span class="title function_">isNode</span>()) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="title class_">MessageUserGp2</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="title class_">OErrorMessageGp2</span>) &#123;</span><br><span class="line">                allMessageGp2 += <span class="string">`👇👇👇👇👇检测出错账号👇👇👇👇👇\n`</span> + <span class="title class_">OErrorMessageGp2</span> + <span class="string">`\n\n`</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (<span class="title class_">DisableMessageGp2</span>) &#123;</span><br><span class="line">                allMessageGp2 += <span class="string">`👇👇👇👇👇自动禁用账号👇👇👇👇👇\n`</span> + <span class="title class_">DisableMessageGp2</span> + <span class="string">`\n\n`</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (<span class="title class_">EnableMessageGp2</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (<span class="title class_">CKAutoEnable</span> == <span class="string">&quot;true&quot;</span>) &#123;</span><br><span class="line">                    allMessageGp2 += <span class="string">`👇👇👇👇👇自动启用账号👇👇👇👇👇\n`</span> + <span class="title class_">EnableMessageGp2</span> + <span class="string">`\n\n`</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    allMessageGp2 += <span class="string">`👇👇👇👇👇账号已恢复👇👇👇👇👇\n`</span> + <span class="title class_">EnableMessageGp2</span> + <span class="string">`\n\n`</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (<span class="title class_">ErrorMessageGp2</span>) &#123;</span><br><span class="line">                allMessageGp2 += <span class="string">`👇👇👇👇👇失效账号👇👇👇👇👇\n`</span> + <span class="title class_">ErrorMessageGp2</span> + <span class="string">`\n\n`</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                allMessageGp2 += <span class="string">`👇👇👇👇👇失效账号👇👇👇👇👇\n 一个失效的都没有呢，羡慕啊...\n\n`</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (<span class="title class_">ShowSuccess</span> == <span class="string">&quot;true&quot;</span> &amp;&amp; <span class="title class_">SuccessMessage</span>) &#123;</span><br><span class="line">                allMessageGp2 += <span class="string">`👇👇👇👇👇有效账号👇👇👇👇👇\n`</span> + <span class="title class_">SuccessMessageGp2</span> + <span class="string">`\n`</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (<span class="title class_">NoWarnError</span> == <span class="string">&quot;true&quot;</span>) &#123;</span><br><span class="line">                <span class="title class_">OErrorMessageGp2</span> = <span class="string">&quot;&quot;</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> ($.<span class="title function_">isNode</span>() &amp;&amp; (<span class="title class_">EnableMessageGp2</span> || <span class="title class_">DisableMessageGp2</span> || <span class="title class_">OErrorMessageGp2</span> || <span class="title class_">CKAlwaysNotify</span> == <span class="string">&quot;true&quot;</span>)) &#123;</span><br><span class="line">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;京东CK检测#2：&quot;</span>);</span><br><span class="line">                <span class="variable language_">console</span>.<span class="title function_">log</span>(allMessageGp2);</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> (strAllNotify)</span><br><span class="line">                    allMessageGp2 += <span class="string">`\n`</span> + strAllNotify;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">await</span> notify.<span class="title function_">sendNotify</span>(<span class="string">&quot;京东CK检测#2&quot;</span>, <span class="string">`<span class="subst">$&#123;allMessageGp2&#125;</span>`</span>, &#123;</span><br><span class="line">                    <span class="attr">url</span>: <span class="string">`https://bean.m.jd.com/beanDetail/index.action?resourceValue=bean`</span></span><br><span class="line">                &#125;)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (<span class="title class_">MessageUserGp3</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="title class_">OErrorMessageGp3</span>) &#123;</span><br><span class="line">                allMessageGp3 += <span class="string">`👇👇👇👇👇检测出错账号👇👇👇👇👇\n`</span> + <span class="title class_">OErrorMessageGp3</span> + <span class="string">`\n\n`</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (<span class="title class_">DisableMessageGp3</span>) &#123;</span><br><span class="line">                allMessageGp3 += <span class="string">`👇👇👇👇👇自动禁用账号👇👇👇👇👇\n`</span> + <span class="title class_">DisableMessageGp3</span> + <span class="string">`\n\n`</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (<span class="title class_">EnableMessageGp3</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (<span class="title class_">CKAutoEnable</span> == <span class="string">&quot;true&quot;</span>) &#123;</span><br><span class="line">                    allMessageGp3 += <span class="string">`👇👇👇👇👇自动启用账号👇👇👇👇👇\n`</span> + <span class="title class_">EnableMessageGp3</span> + <span class="string">`\n\n`</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    allMessageGp3 += <span class="string">`👇👇👇👇👇账号已恢复👇👇👇👇👇\n`</span> + <span class="title class_">EnableMessageGp3</span> + <span class="string">`\n\n`</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (<span class="title class_">ErrorMessageGp3</span>) &#123;</span><br><span class="line">                allMessageGp3 += <span class="string">`👇👇👇👇👇失效账号👇👇👇👇👇\n`</span> + <span class="title class_">ErrorMessageGp3</span> + <span class="string">`\n\n`</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                allMessageGp3 += <span class="string">`👇👇👇👇👇失效账号👇👇👇👇👇\n 一个失效的都没有呢，羡慕啊...\n\n`</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (<span class="title class_">ShowSuccess</span> == <span class="string">&quot;true&quot;</span> &amp;&amp; <span class="title class_">SuccessMessage</span>) &#123;</span><br><span class="line">                allMessageGp3 += <span class="string">`👇👇👇👇👇有效账号👇👇👇👇👇\n`</span> + <span class="title class_">SuccessMessageGp3</span> + <span class="string">`\n`</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (<span class="title class_">NoWarnError</span> == <span class="string">&quot;true&quot;</span>) &#123;</span><br><span class="line">                <span class="title class_">OErrorMessageGp3</span> = <span class="string">&quot;&quot;</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> ($.<span class="title function_">isNode</span>() &amp;&amp; (<span class="title class_">EnableMessageGp3</span> || <span class="title class_">DisableMessageGp3</span> || <span class="title class_">OErrorMessageGp3</span> || <span class="title class_">CKAlwaysNotify</span> == <span class="string">&quot;true&quot;</span>)) &#123;</span><br><span class="line">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;京东CK检测#3：&quot;</span>);</span><br><span class="line">                <span class="variable language_">console</span>.<span class="title function_">log</span>(allMessageGp3);</span><br><span class="line">                <span class="keyword">if</span> (strAllNotify)</span><br><span class="line">                    allMessageGp3 += <span class="string">`\n`</span> + strAllNotify;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">await</span> notify.<span class="title function_">sendNotify</span>(<span class="string">&quot;京东CK检测#3&quot;</span>, <span class="string">`<span class="subst">$&#123;allMessageGp3&#125;</span>`</span>, &#123;</span><br><span class="line">                    <span class="attr">url</span>: <span class="string">`https://bean.m.jd.com/beanDetail/index.action?resourceValue=bean`</span></span><br><span class="line">                &#125;)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (<span class="title class_">MessageUserGp4</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="title class_">OErrorMessageGp4</span>) &#123;</span><br><span class="line">                allMessageGp4 += <span class="string">`👇👇👇👇👇检测出错账号👇👇👇👇👇\n`</span> + <span class="title class_">OErrorMessageGp4</span> + <span class="string">`\n\n`</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (<span class="title class_">DisableMessageGp4</span>) &#123;</span><br><span class="line">                allMessageGp4 += <span class="string">`👇👇👇👇👇自动禁用账号👇👇👇👇👇\n`</span> + <span class="title class_">DisableMessageGp4</span> + <span class="string">`\n\n`</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (<span class="title class_">EnableMessageGp4</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (<span class="title class_">CKAutoEnable</span> == <span class="string">&quot;true&quot;</span>) &#123;</span><br><span class="line">                    allMessageGp4 += <span class="string">`👇👇👇👇👇自动启用账号👇👇👇👇👇\n`</span> + <span class="title class_">EnableMessageGp4</span> + <span class="string">`\n\n`</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    allMessageGp4 += <span class="string">`👇👇👇👇👇账号已恢复👇👇👇👇👇\n`</span> + <span class="title class_">EnableMessageGp4</span> + <span class="string">`\n\n`</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (<span class="title class_">ErrorMessageGp4</span>) &#123;</span><br><span class="line">                allMessageGp4 += <span class="string">`👇👇👇👇👇失效账号👇👇👇👇👇\n`</span> + <span class="title class_">ErrorMessageGp4</span> + <span class="string">`\n\n`</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                allMessageGp4 += <span class="string">`👇👇👇👇👇失效账号👇👇👇👇👇\n 一个失效的都没有呢，羡慕啊...\n\n`</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (<span class="title class_">ShowSuccess</span> == <span class="string">&quot;true&quot;</span> &amp;&amp; <span class="title class_">SuccessMessage</span>) &#123;</span><br><span class="line">                allMessageGp4 += <span class="string">`👇👇👇👇👇有效账号👇👇👇👇👇\n`</span> + <span class="title class_">SuccessMessageGp4</span> + <span class="string">`\n`</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (<span class="title class_">NoWarnError</span> == <span class="string">&quot;true&quot;</span>) &#123;</span><br><span class="line">                <span class="title class_">OErrorMessageGp4</span> = <span class="string">&quot;&quot;</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> ($.<span class="title function_">isNode</span>() &amp;&amp; (<span class="title class_">EnableMessageGp4</span> || <span class="title class_">DisableMessageGp4</span> || <span class="title class_">OErrorMessageGp4</span> || <span class="title class_">CKAlwaysNotify</span> == <span class="string">&quot;true&quot;</span>)) &#123;</span><br><span class="line">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;京东CK检测#4：&quot;</span>);</span><br><span class="line">                <span class="variable language_">console</span>.<span class="title function_">log</span>(allMessageGp4);</span><br><span class="line">                <span class="keyword">if</span> (strAllNotify)</span><br><span class="line">                    allMessageGp4 += <span class="string">`\n`</span> + strAllNotify;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">await</span> notify.<span class="title function_">sendNotify</span>(<span class="string">&quot;京东CK检测#4&quot;</span>, <span class="string">`<span class="subst">$&#123;allMessageGp4&#125;</span>`</span>, &#123;</span><br><span class="line">                    <span class="attr">url</span>: <span class="string">`https://bean.m.jd.com/beanDetail/index.action?resourceValue=bean`</span></span><br><span class="line">                &#125;)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (<span class="title class_">OErrorMessage</span>) &#123;</span><br><span class="line">            allMessage += <span class="string">`👇👇👇👇👇检测出错账号👇👇👇👇👇\n`</span> + <span class="title class_">OErrorMessage</span> + <span class="string">`\n\n`</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (<span class="title class_">DisableMessage</span>) &#123;</span><br><span class="line">            allMessage += <span class="string">`👇👇👇👇👇自动禁用账号👇👇👇👇👇\n`</span> + <span class="title class_">DisableMessage</span> + <span class="string">`\n\n`</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (<span class="title class_">EnableMessage</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="title class_">CKAutoEnable</span> == <span class="string">&quot;true&quot;</span>) &#123;</span><br><span class="line">                allMessage += <span class="string">`👇👇👇👇👇自动启用账号👇👇👇👇👇\n`</span> + <span class="title class_">EnableMessage</span> + <span class="string">`\n\n`</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                allMessage += <span class="string">`👇👇👇👇👇账号已恢复👇👇👇👇👇\n`</span> + <span class="title class_">EnableMessage</span> + <span class="string">`\n\n`</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (<span class="title class_">ErrorMessage</span>) &#123;</span><br><span class="line">            allMessage += <span class="string">`👇👇👇👇👇失效账号👇👇👇👇👇\n`</span> + <span class="title class_">ErrorMessage</span> + <span class="string">`\n\n`</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            allMessage += <span class="string">`👇👇👇👇👇失效账号👇👇👇👇👇\n 一个失效的都没有呢，羡慕啊...\n\n`</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (<span class="title class_">ShowSuccess</span> == <span class="string">&quot;true&quot;</span> &amp;&amp; <span class="title class_">SuccessMessage</span>) &#123;</span><br><span class="line">            allMessage += <span class="string">`👇👇👇👇👇有效账号👇👇👇👇👇\n`</span> + <span class="title class_">SuccessMessage</span> + <span class="string">`\n`</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (<span class="title class_">NoWarnError</span> == <span class="string">&quot;true&quot;</span>) &#123;</span><br><span class="line">            <span class="title class_">OErrorMessage</span> = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> ($.<span class="title function_">isNode</span>() &amp;&amp; (<span class="title class_">EnableMessage</span> || <span class="title class_">DisableMessage</span> || <span class="title class_">OErrorMessage</span> || <span class="title class_">CKAlwaysNotify</span> == <span class="string">&quot;true&quot;</span>)) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;京东CK检测：&quot;</span>);</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(allMessage);</span><br><span class="line"><span class="keyword">if</span> (strAllNotify)</span><br><span class="line">                    allMessage += <span class="string">`\n`</span> + strAllNotify;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">await</span> notify.<span class="title function_">sendNotify</span>(<span class="string">`<span class="subst">$&#123;$.name&#125;</span>`</span>, <span class="string">`<span class="subst">$&#123;allMessage&#125;</span>`</span>, &#123;</span><br><span class="line">                <span class="attr">url</span>: <span class="string">`https://bean.m.jd.com/beanDetail/index.action?resourceValue=bean`</span></span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;)()</span><br><span class="line">.<span class="title function_">catch</span>(<span class="function">(<span class="params">e</span>) =&gt;</span> $.<span class="title function_">logErr</span>(e))</span><br><span class="line">.<span class="title function_">finally</span>(<span class="function">() =&gt;</span> $.<span class="title function_">done</span>())</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">sendNotifybyGoCqHttp</span>(<span class="params">text,qquid,timeout=<span class="number">2100</span></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="variable constant_">GOBOT_URL</span>) &#123;</span><br><span class="line">            <span class="keyword">const</span> options = &#123;</span><br><span class="line">                <span class="attr">url</span>: <span class="string">`<span class="subst">$&#123;GOBOT_URL&#125;</span>?access_token=<span class="subst">$&#123;GOBOT_TOKEN&#125;</span>&amp;user_id=<span class="subst">$&#123;qquid&#125;</span>`</span>,</span><br><span class="line">                <span class="attr">json</span>: &#123;</span><br><span class="line">                    <span class="attr">message</span>: <span class="string">`<span class="subst">$&#123;text&#125;</span>`</span></span><br><span class="line">                &#125;,</span><br><span class="line">                <span class="attr">headers</span>: &#123;</span><br><span class="line">                    <span class="string">&#x27;Content-Type&#x27;</span>: <span class="string">&#x27;application/json&#x27;</span>,</span><br><span class="line">                &#125;,</span><br><span class="line">                timeout,</span><br><span class="line">            &#125;;</span><br><span class="line">            <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">                $.<span class="title function_">post</span>(options, <span class="function">(<span class="params">err, resp, data</span>) =&gt;</span> &#123;</span><br><span class="line">                    <span class="keyword">try</span> &#123;</span><br><span class="line">                        <span class="keyword">if</span> (err) &#123;</span><br><span class="line">                            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;发送go-cqhttp通知调用API失败！！\n&#x27;</span>);</span><br><span class="line">                            <span class="variable language_">console</span>.<span class="title function_">log</span>(err);</span><br><span class="line">                        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                            data = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(data);</span><br><span class="line">                            <span class="keyword">if</span> (data.<span class="property">retcode</span> === <span class="number">0</span>) &#123;</span><br><span class="line">                                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;go-cqhttp发送通知消息成功🎉\n&#x27;</span>);</span><br><span class="line">                            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (data.<span class="property">retcode</span> === <span class="number">100</span>) &#123;</span><br><span class="line">                                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`go-cqhttp发送通知消息异常: <span class="subst">$&#123;data.errmsg&#125;</span>\n`</span>);</span><br><span class="line">                            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`go-cqhttp发送通知消息异常\n<span class="subst">$&#123;<span class="built_in">JSON</span>.stringify(data)&#125;</span>`</span>);</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">                        $.<span class="title function_">logErr</span>(e, resp);</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">finally</span> &#123;</span><br><span class="line">                        <span class="title function_">resolve</span>(data);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;);</span><br><span class="line">            &#125;, time);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="title function_">resolve</span>();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  sendNotify,</span><br><span class="line">  sendNotifybyGoCqHttp,</span><br><span class="line">  <span class="variable constant_">BARK_PUSH</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>springboot项目搭建</title>
      <link href="/61185.html"/>
      <url>/61185.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><figure class="highlight java"><figcaption><span>启动文件 ps:alt+回车 导入依赖</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">app</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        SpringApplication.run(app.class,args);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight xml"><figcaption><span>pom.xml jdk8支持2.x spring-boot-devtools：热启动</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.5.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-devtools<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> idea </tag>
            
            <tag> maven </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>esp32-cam项目</title>
      <link href="/54107.html"/>
      <url>/54107.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="web摄像头实时传输"><a href="#web摄像头实时传输" class="headerlink" title="web摄像头实时传输"></a>web摄像头实时传输</h3><p>功能：<br>esp32cam 连接家里的wifi<br>手机通过浏览器访问esp32cam的ip 观看视频<br>我想吧视频存在网络硬盘怎么办<br> 可以使用降低延迟的技术吗</p><figure class="highlight c++"><figcaption><span>这里可能是部分代码</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;WiFi.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;WiFiClient.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ESPAsyncWebServer.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ESPAsyncTCP.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;esp_camera.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 替换为您家里的 Wi-Fi 凭证</span></span><br><span class="line"><span class="type">const</span> <span class="type">char</span>* ssid = <span class="string">&quot;Your_WiFi_SSID&quot;</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">char</span>* password = <span class="string">&quot;Your_WiFi_Password&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 服务器端口</span></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> serverPort = <span class="number">80</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建 AsyncWebServer 实例</span></span><br><span class="line"><span class="function">AsyncWebServer <span class="title">server</span><span class="params">(serverPort)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 初始化 ESP32-CAM 相机模块</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">initCamera</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="type">camera_config_t</span> config;</span><br><span class="line">  config.ledc_channel = LEDC_CHANNEL_0;</span><br><span class="line">  config.ledc_timer = LEDC_TIMER_0;</span><br><span class="line">  config.pin_d0 = <span class="number">5</span>;</span><br><span class="line">  config.pin_d1 = <span class="number">18</span>;</span><br><span class="line">  config.pin_d2 = <span class="number">19</span>;</span><br><span class="line">  config.pin_d3 = <span class="number">21</span>;</span><br><span class="line">  config.pin_d4 = <span class="number">36</span>;</span><br><span class="line">  config.pin_d5 = <span class="number">39</span>;</span><br><span class="line">  config.pin_d6 = <span class="number">34</span>;</span><br><span class="line">  config.pin_d7 = <span class="number">35</span>;</span><br><span class="line">  config.pin_xclk = <span class="number">0</span>;</span><br><span class="line">  config.pin_pclk = <span class="number">22</span>;</span><br><span class="line">  config.pin_vsync = <span class="number">25</span>;</span><br><span class="line">  config.pin_href = <span class="number">23</span>;</span><br><span class="line">  config.pin_sscb_sda = <span class="number">26</span>;</span><br><span class="line">  config.pin_sscb_scl = <span class="number">27</span>;</span><br><span class="line">  config.pin_reset = <span class="number">-1</span>;</span><br><span class="line">  config.xclk_freq_hz = <span class="number">20000000</span>;</span><br><span class="line">  config.pixel_format = PIXFORMAT_JPEG;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">if</span> (<span class="built_in">psramFound</span>()) &#123;</span><br><span class="line">    config.frame_size = FRAMESIZE_UXGA;</span><br><span class="line">    config.jpeg_quality = <span class="number">10</span>;</span><br><span class="line">    config.fb_count = <span class="number">2</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    config.frame_size = FRAMESIZE_SVGA;</span><br><span class="line">    config.jpeg_quality = <span class="number">12</span>;</span><br><span class="line">    config.fb_count = <span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="type">esp_err_t</span> err = <span class="built_in">esp_camera_init</span>(&amp;config);</span><br><span class="line">  <span class="keyword">if</span> (err != ESP_OK) &#123;</span><br><span class="line">    Serial.<span class="built_in">println</span>(<span class="string">&quot;Camera initialization failed!&quot;</span>);</span><br><span class="line">    ESP.<span class="built_in">restart</span>();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 处理根路径的请求，返回视频流</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">handleRoot</span><span class="params">(AsyncWebServerRequest *request)</span> </span>&#123;</span><br><span class="line">  request-&gt;<span class="built_in">send_P</span>(<span class="number">200</span>, <span class="string">&quot;multipart/x-mixed-replace; boundary=esp32cam&quot;</span>, <span class="string">&quot;&quot;</span>);</span><br><span class="line">  WiFiClient client = request-&gt;<span class="built_in">client</span>();</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">    <span class="type">camera_fb_t</span> *fb = <span class="built_in">esp_camera_fb_get</span>();</span><br><span class="line">    <span class="keyword">if</span> (!fb) &#123;</span><br><span class="line">      <span class="keyword">continue</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    client.<span class="built_in">write</span>(<span class="string">&quot;--esp32cam\r\n&quot;</span>);</span><br><span class="line">    client.<span class="built_in">write</span>(<span class="string">&quot;Content-Type: image/jpeg\r\n&quot;</span>);</span><br><span class="line">    client.<span class="built_in">write</span>(<span class="string">&quot;Content-Length: &quot;</span> + <span class="built_in">String</span>(fb-&gt;len) + <span class="string">&quot;\r\n\r\n&quot;</span>);</span><br><span class="line">    client.<span class="built_in">write</span>(fb-&gt;buf, fb-&gt;len);</span><br><span class="line">    client.<span class="built_in">write</span>(<span class="string">&quot;\r\n&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">esp_camera_fb_return</span>(fb);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">setup</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  Serial.<span class="built_in">begin</span>(<span class="number">115200</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 连接到 Wi-Fi</span></span><br><span class="line">  WiFi.<span class="built_in">begin</span>(ssid, password);</span><br><span class="line">  <span class="keyword">while</span> (WiFi.<span class="built_in">status</span>() != WL_CONNECTED) &#123;</span><br><span class="line">    <span class="built_in">delay</span>(<span class="number">1000</span>);</span><br><span class="line">    Serial.<span class="built_in">println</span>(<span class="string">&quot;Connecting to WiFi...&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  Serial.<span class="built_in">println</span>(<span class="string">&quot;Connected to WiFi&quot;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 初始化相机模块</span></span><br><span class="line">  <span class="built_in">initCamera</span>();</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 设置根路径的处理函数</span></span><br><span class="line">  server.<span class="built_in">on</span>(<span class="string">&quot;/&quot;</span>, HTTP_GET, handleRoot);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 启动服务器</span></span><br><span class="line">  server.<span class="built_in">begin</span>();</span><br><span class="line">  Serial.<span class="built_in">println</span>(<span class="string">&quot;Server started&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">loop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="comment">// 等待客户端请求</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> arduino </tag>
            
            <tag> esp32-cam </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>mqt服务器</title>
      <link href="/51936.html"/>
      <url>/51936.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><figure class="highlight bash"><figcaption><span>admin,public</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run --<span class="built_in">rm</span> -ti --name emqttd-s1 -p 18083:18083 -p 1883:1883 -p 8083:8083 -p 8443:8443 devicexx/emqttd</span><br></pre></td></tr></table></figure><h2 id="免费版本接入"><a href="#免费版本接入" class="headerlink" title="免费版本接入"></a>免费版本接入</h2><p>官网：<a href="https://cloud.emqx.com/console/">https://cloud.emqx.com/console/</a></p><ol><li><p>免费服务器 mqt</p><ol><li>延时太大数据会丢失一部分</li></ol></li><li><p>延迟待验证 自建服务器 延迟待验证 </p><ol><li>内网穿透服务器 还是mqt服务</li></ol></li><li><p>腾讯云服务器 延迟待验证 </p><ol><li>mqt 服务器</li></ol></li><li><p>debian 随身wifi 内网穿透服务器 延迟待验证 </p><ol><li>使用mqt服务</li></ol></li><li></li></ol>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>内网穿透脚本</title>
      <link href="/29222.html"/>
      <url>/29222.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><figure class="highlight python"><figcaption><span>nwct_cpolar.py</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: UTF-8 -*-</span></span><br><span class="line"><span class="comment"># Version: v1.4</span></span><br><span class="line"><span class="comment"># Created by lstcml on 2022/10/18</span></span><br><span class="line"><span class="comment"># 建议定时10分钟：*/10 * * * *</span></span><br></pre></td></tr></table></figure><p>‘’’<br>cron: *&#x2F;10 * * * *<br>new Env(‘Cpolar内网穿透’);<br>‘’’</p><p>‘’’<br>使用说明：<br>1、打开<a href="https://www.cpolar.com/%E6%B3%A8%E5%86%8C%E7%99%BB%E5%BD%95%E5%90%8E%E8%8E%B7%E5%8F%96authtoken%EF%BC%9B">https://www.cpolar.com/注册登录后获取authtoken；</a><br>2、新增变量qlnwct_authtoken，值为你账户的authtoken，运行脚本</p><p>更新记录：<br>v1.4<br>1、兼容新版的青龙面板；</p><p>v1.3<br>1、移动仓库目录；</p><p>v1.2<br>1、新增CPU架构识别，自动下载对应cpolar程序；<br>2、默认开启自动更新，qlnwctupdate值为false则关闭自动更新；</p><p>v1.1<br>1、开放推送，仅支持PushPlus推送，每次触发启动穿透会推送一次地址；<br>‘’’</p><p>import os<br>import re<br>import sys<br>import json<br>import requests<br>from time import sleep<br>path &#x3D; os.path.split(os.path.realpath(<strong>file</strong>))[0]<br>log_path &#x3D; os.path.join(path, “nwct_cpolar_log”)<br>log_name &#x3D; os.path.join(log_path, “cpolar”)<br>log_file &#x3D; os.path.join(log_path, “cpolar.master.log”)<br>app_path &#x3D; os.path.join(path, “cpolar”)<br>commond &#x3D; “python3 “ + os.path.join(path, “cpolar.py”) + “ &amp;”</p><h1 id="检查更新"><a href="#检查更新" class="headerlink" title="检查更新"></a>检查更新</h1><p>def update():<br>    print(“当前运行的脚本版本：” + str(version))<br>    try:<br>        r1 &#x3D; requests.get(“<a href="https://ghproxy.com/https://raw.githubusercontent.com/jiankujidu/cpolar/main/nwct_cpolar.py%22).text">https://ghproxy.com/https://raw.githubusercontent.com/jiankujidu/cpolar/main/nwct_cpolar.py&quot;).text</a><br>        r2 &#x3D; re.findall(re.compile(“version &#x3D; \d.\d”), r1)[0].split(“&#x3D;”)[1].strip()<br>        if float(r2) &gt; version:<br>            print(“发现新版本：” + r2)<br>            print(“正在自动更新脚本…”)<br>            os.system(“killall cpolar”)<br>            os.system(“ql raw <a href="https://ghproxy.com/https://raw.githubusercontent.com/jiankujidu/cpolar/main/nwct_cpolar.py">https://ghproxy.com/https://raw.githubusercontent.com/jiankujidu/cpolar/main/nwct_cpolar.py</a> &amp;”)<br>    except:<br>        pass</p><h1 id="判断CPU架构"><a href="#判断CPU架构" class="headerlink" title="判断CPU架构"></a>判断CPU架构</h1><p>def check_os():<br>    r &#x3D; os.popen(‘uname -m’).read()<br>    if ‘aarch64’ in r or ‘arm’ in r:<br>        cpu &#x3D; ‘arm’<br>    elif ‘x86_64’ in r or ‘x64’ in r:<br>        cpu &#x3D; ‘amd64’<br>    else:<br>        print(‘穿透失败：不支持当前架构！’)<br>        return<br>    print(‘获取CPU架构：’ + r.replace(‘\n’, ‘’))<br>    download_cpolar(cpu)</p><h1 id="下载主程序"><a href="#下载主程序" class="headerlink" title="下载主程序"></a>下载主程序</h1><p>def download_cpolar(cpu):<br>    if not os.path.exists(“cpolar.py”):<br>        res &#x3D; requests.get(“<a href="https://ghproxy.com/https://raw.githubusercontent.com/jiankujidu/cpolar/main/cpolar.py">https://ghproxy.com/https://raw.githubusercontent.com/jiankujidu/cpolar/main/cpolar.py</a>“)<br>        with open(“cpolar.py”, “wb”) as f:<br>            f.write(res.content)<br>    if not os.path.exists(“cpolar”):<br>        res &#x3D; requests.get(“<a href="https://static.cpolar.com/downloads/releases/3.2.88.2/cpolar-stable-linux-">https://static.cpolar.com/downloads/releases/3.2.88.2/cpolar-stable-linux-</a>“ + cpu + “.zip”)<br>        with open(“cpolar.zip”, “wb”) as f:<br>            f.write(res.content)<br>        os.system(“unzip cpolar.zip &gt;&#x2F;dev&#x2F;null 2&gt;&amp;1&amp;&amp;rm -f cpolar.zip&amp;&amp;chmod +x cpolar&amp;&amp;” + app_path + “ authtoken  “ + authtoken + “&gt;&#x2F;dev&#x2F;null 2&gt;&amp;1”)<br>    start_nwct()        </p><h1 id="获取穿透url"><a href="#获取穿透url" class="headerlink" title="获取穿透url"></a>获取穿透url</h1><p>def get_url():<br>    try:<br>        with open(log_file, encoding&#x3D;’utf-8’) as f:<br>            log_content &#x3D; f.read()<br>        reg &#x3D; ‘http[s]?:&#x2F;&#x2F;(?:[a-zA-Z]|[0-9]|[$-_@.&amp;+]|[!*(),]|(?:%[0-9a-fA-F][0-9a-fA-F]))+’<br>        for i in re.findall(reg, log_content):<br>            if ‘cpolar’ in i:<br>                print(“获取穿透链接成功…”)<br>                return i.replace(‘\‘, ‘’)<br>                break<br>    except:<br>        return “<a href="https://ghproxy.com/https://raw.githubusercontent.com/jiankujidu">https://ghproxy.com/https://raw.githubusercontent.com/jiankujidu</a>“</p><h1 id="进程守护"><a href="#进程守护" class="headerlink" title="进程守护"></a>进程守护</h1><p>def process_daemon():<br>    print(“正在检测穿透状态…”)<br>    global qlurl<br>    qlurl &#x3D; get_url()<br>    try:<br>        res &#x3D; requests.get(qlurl + “&#x2F;login”).text<br>        if “&#x2F;images&#x2F;g5.ico” in res or “&#x2F;images&#x2F;favicon.svg” in res:<br>            return True<br>        else:<br>            return False<br>    except:<br>        return False</p><h1 id="执行程序"><a href="#执行程序" class="headerlink" title="执行程序"></a>执行程序</h1><p>def start_nwct():<br>    if not process_daemon():<br>        os.system(“rm -rf “ + log_path)<br>        os.system(“mkdir -p “ + log_path)<br>        os.system(“killall cpolar &gt;&#x2F;dev&#x2F;null 2&gt;&amp;1”)<br>        print(“正在启动内网穿透…”)<br>        os.system(commond)<br>        sleep(10)<br>        if process_daemon():<br>            if load_send():<br>                print(“启动内网穿透成功！\n青龙面板：%s” % qlurl)<br>                send(“内网穿透通知”, “青龙面板访问地址：” + qlurl)<br>        else:<br>            print(“启动内网穿透失败…”)<br>    else:<br>        print(“穿透程序已在运行…\n公众号:一起瞎折腾\n青龙面板：%s” % qlurl)</p><h1 id="推送"><a href="#推送" class="headerlink" title="推送"></a>推送</h1><p>def load_send():<br>    global send<br>    cur_path &#x3D; os.path.abspath(os.path.dirname(<strong>file</strong>))<br>    sys.path.append(cur_path)<br>    sendNotifPath &#x3D; cur_path + “&#x2F;sendNotify.py”<br>    if not os.path.exists(sendNotifPath):<br>        res &#x3D; requests.get(“<a href="https://ghproxy.com/https://raw.githubusercontent.com/jiankujidu/cpolar/main/sendNotify.py">https://ghproxy.com/https://raw.githubusercontent.com/jiankujidu/cpolar/main/sendNotify.py</a>“)<br>        with open(sendNotifPath, “wb”) as f:<br>            f.write(res.content)</p><pre><code>try:    from sendNotify import send    return Trueexcept:    print(&quot;加载通知服务失败！&quot;)    return False</code></pre><p>if <strong>name</strong> &#x3D;&#x3D; ‘<strong>main</strong>‘:<br>    version &#x3D; 1.4<br>    try:<br>        authtoken &#x3D; os.environ[‘qlnwct_authtoken’]<br>    except:<br>        authtoken &#x3D; “”<br>    try:<br>        token &#x3D; os.environ[‘PUSH_PLUS_TOKEN’]<br>    except:<br>        token &#x3D; “”<br>    try:<br>        check_update &#x3D; os.environ[‘qlnwctupdate’]<br>    except:<br>        check_update &#x3D; “true”</p><pre><code>if check_update != &quot;false&quot;:    update()else:    print(&quot;变量qlnwctupdate未设置，脚本自动更新未开启！&quot;)if len(authtoken ) &lt; 1:    print(&quot;请新增变量qlnwct_authtoken！&quot;)else:    check_os()</code></pre><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">``` python  cpolar.py</span><br><span class="line"># -*- coding: UTF-8 -*-</span><br><span class="line"># Version: v1.0</span><br><span class="line"># Created by lstcml on 2022/07/21</span><br><span class="line">import os</span><br><span class="line"></span><br><span class="line">path = os.path.split(os.path.realpath(__file__))[0]</span><br><span class="line">log_name = os.path.join(path, &quot;nwct_cpolar_log&quot;, &quot;cpolar&quot;)</span><br><span class="line">app_path = os.path.join(path, &quot;cpolar&quot;)</span><br><span class="line">commond = app_path + &quot; -log=&quot; + log_name + &quot; 5700&quot;</span><br><span class="line">os.system(commond)</span><br><span class="line"></span><br><span class="line">C笔记</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>wifi遥控车</title>
      <link href="/45736.html"/>
      <url>/45736.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="材料"><a href="#材料" class="headerlink" title="材料"></a>材料</h2><p>  esp32-c3 mini<br>  l298n mini 无ena（有pwm调速功能）<br>  舵机<br>  塑料轴套</p><h2 id="js-websocket"><a href="#js-websocket" class="headerlink" title="js_websocket"></a>js_websocket</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;Arduino.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;WiFi.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;WebSocketsServer.h&gt;</span></span></span><br><span class="line"><span class="comment">// 定义电机控制引脚</span></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> motor1A = <span class="number">0</span>; <span class="comment">// 连接到L298N的IN1引脚，例如GPIO0</span></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> motor1B = <span class="number">1</span>; <span class="comment">// 连接到L298N的IN2引脚，例如GPIO1</span></span><br><span class="line"><span class="type">const</span> <span class="type">char</span>* ssid = <span class="string">&quot;ddwrt_0113E6&quot;</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">char</span>* password = <span class="string">&quot;Feng13713985089@xm520&quot;</span>;</span><br><span class="line"></span><br><span class="line">WebSocketsServer webSocket = <span class="built_in">WebSocketsServer</span>(<span class="number">81</span>);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">onWebSocketEvent</span><span class="params">(<span class="type">uint8_t</span> num, WStype_t type, <span class="type">uint8_t</span> * payload, <span class="type">size_t</span> length)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">switch</span>(type) &#123;</span><br><span class="line">    <span class="keyword">case</span> WStype_DISCONNECTED:</span><br><span class="line">      Serial.<span class="built_in">printf</span>(<span class="string">&quot;[%u] Disconnected!\n&quot;</span>, num);</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> WStype_CONNECTED:</span><br><span class="line">      &#123;</span><br><span class="line">        IPAddress ip = webSocket.<span class="built_in">remoteIP</span>(num);</span><br><span class="line">        Serial.<span class="built_in">printf</span>(<span class="string">&quot;[%u] Connected from %d.%d.%d.%d\n&quot;</span>, num, ip[<span class="number">0</span>], ip[<span class="number">1</span>], ip[<span class="number">2</span>], ip[<span class="number">3</span>]);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> WStype_TEXT:</span><br><span class="line">      &#123;</span><br><span class="line">        String message = <span class="built_in">String</span>((<span class="type">char</span>*) &amp;payload[<span class="number">0</span>]);</span><br><span class="line">        Serial.<span class="built_in">printf</span>(<span class="string">&quot;[%u] Received text: %s\n&quot;</span>, num, message.<span class="built_in">c_str</span>());</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (message.<span class="built_in">equals</span>(<span class="string">&quot;forward&quot;</span>)) &#123;</span><br><span class="line">          <span class="comment">// 在这里执行向前的操作</span></span><br><span class="line">          Serial.<span class="built_in">println</span>(<span class="string">&quot;Moving forward&quot;</span>);</span><br><span class="line">          <span class="built_in">digitalWrite</span>(motor1A, HIGH);</span><br><span class="line">          <span class="built_in">digitalWrite</span>(motor1B, LOW);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (message.<span class="built_in">equals</span>(<span class="string">&quot;backward&quot;</span>)) &#123;</span><br><span class="line">          <span class="comment">// 在这里执行向后的操作</span></span><br><span class="line">          Serial.<span class="built_in">println</span>(<span class="string">&quot;Moving backward&quot;</span>);</span><br><span class="line">          <span class="built_in">digitalWrite</span>(motor1A, LOW);</span><br><span class="line">          <span class="built_in">digitalWrite</span>(motor1B, HIGH);</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span> (message.<span class="built_in">equals</span>(<span class="string">&quot;stop&quot;</span>)) &#123;</span><br><span class="line">          <span class="comment">// 在这里执行停止的操作</span></span><br><span class="line">          Serial.<span class="built_in">println</span>(<span class="string">&quot;Stopping&quot;</span>);</span><br><span class="line">          <span class="built_in">digitalWrite</span>(motor1A, LOW);</span><br><span class="line">          <span class="built_in">digitalWrite</span>(motor1B, LOW);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">setup</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  Serial.<span class="built_in">begin</span>(<span class="number">115200</span>);</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// 连接到WiFi</span></span><br><span class="line">  WiFi.<span class="built_in">begin</span>(ssid, password);</span><br><span class="line">  <span class="keyword">while</span> (WiFi.<span class="built_in">status</span>() != WL_CONNECTED) &#123;</span><br><span class="line">    <span class="built_in">delay</span>(<span class="number">1000</span>);</span><br><span class="line">    Serial.<span class="built_in">println</span>(<span class="string">&quot;Connecting to WiFi...&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  Serial.<span class="built_in">println</span>(<span class="string">&quot;Connected to WiFi&quot;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 初始化电机控制引脚为输出模式</span></span><br><span class="line">  <span class="built_in">pinMode</span>(motor1A, OUTPUT);</span><br><span class="line">  <span class="built_in">pinMode</span>(motor1B, OUTPUT);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 启动WebSocket服务器</span></span><br><span class="line">  webSocket.<span class="built_in">begin</span>();</span><br><span class="line">  webSocket.<span class="built_in">onEvent</span>(onWebSocketEvent);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">loop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  webSocket.<span class="built_in">loop</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>WebSocket Control<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;sendCommand(&#x27;forward&#x27;)&quot;</span>&gt;</span>Forward<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;sendCommand(&#x27;backward&#x27;)&quot;</span>&gt;</span>Backward<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;sendCommand(&#x27;stop&#x27;)&quot;</span>&gt;</span>Stop<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> socket = <span class="keyword">new</span> <span class="title class_">WebSocket</span>(<span class="string">&#x27;ws://192.168.0.106:81&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        socket.<span class="property">onopen</span> = <span class="keyword">function</span> (<span class="params">event</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;WebSocket connection opened:&#x27;</span>, event);</span></span><br><span class="line"><span class="language-javascript">        &#125;;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        socket.<span class="property">onmessage</span> = <span class="keyword">function</span> (<span class="params">event</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;WebSocket message received:&#x27;</span>, event.<span class="property">data</span>);</span></span><br><span class="line"><span class="language-javascript">        &#125;;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        socket.<span class="property">onclose</span> = <span class="keyword">function</span> (<span class="params">event</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;WebSocket connection closed:&#x27;</span>, event);</span></span><br><span class="line"><span class="language-javascript">        &#125;;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">function</span> <span class="title function_">sendCommand</span>(<span class="params">command</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Sending command:&#x27;</span>, command);</span></span><br><span class="line"><span class="language-javascript">            socket.<span class="title function_">send</span>(command);</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="网页教程版"><a href="#网页教程版" class="headerlink" title="网页教程版"></a>网页教程版</h2><figure class="highlight c++"><figcaption><span>esp32 控制舵机</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;WiFi.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;WiFiClient.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;WebServer.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ESPmDNS.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 舵机控制相关</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">LedcServo</span> &#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    <span class="type">float</span> freq = <span class="number">50</span>;</span><br><span class="line">    <span class="type">int</span> resolution = <span class="number">8</span>;</span><br><span class="line">    <span class="type">float</span> pwmBaseScale;</span><br><span class="line">    <span class="type">float</span> pwmMin;</span><br><span class="line">    <span class="type">float</span> pwmMax;</span><br><span class="line">    <span class="type">int</span> channel;</span><br><span class="line">    <span class="type">int</span> scale = <span class="number">1</span>;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">setup</span><span class="params">(<span class="type">float</span> freq, <span class="type">int</span> resolution, <span class="type">int</span> channel)</span></span>;</span><br><span class="line">    <span class="comment">/* 0 &lt; scale &lt;= 1 */</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">setScale</span><span class="params">(<span class="type">float</span> scale)</span></span>;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">attachPin</span><span class="params">(<span class="type">int</span> pin)</span></span>;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">write</span><span class="params">(<span class="type">float</span> value, <span class="type">float</span> min, <span class="type">float</span> max)</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="type">void</span> LedcServo:: <span class="built_in">setup</span>(<span class="type">float</span> f, <span class="type">int</span> r, <span class="type">int</span> c) &#123;</span><br><span class="line">  <span class="keyword">this</span>-&gt;freq = f;</span><br><span class="line">  <span class="keyword">this</span>-&gt;resolution = r;</span><br><span class="line">  <span class="keyword">this</span>-&gt;pwmBaseScale = <span class="keyword">this</span>-&gt;freq * <span class="built_in">pow</span>(<span class="number">2</span>, <span class="keyword">this</span>-&gt;resolution) / <span class="number">1000</span>;</span><br><span class="line">  <span class="keyword">this</span>-&gt;pwmMin = <span class="number">1</span> * <span class="keyword">this</span>-&gt;pwmBaseScale;</span><br><span class="line">  <span class="keyword">this</span>-&gt;pwmMax = <span class="number">2</span> * <span class="keyword">this</span>-&gt;pwmBaseScale;</span><br><span class="line">  <span class="keyword">this</span>-&gt;channel = c;</span><br><span class="line">  <span class="built_in">ledcSetup</span>(<span class="keyword">this</span>-&gt;channel, <span class="keyword">this</span>-&gt;freq, <span class="keyword">this</span>-&gt;resolution);</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> LedcServo:: <span class="built_in">setScale</span>(<span class="type">float</span> s) &#123;</span><br><span class="line">  <span class="keyword">if</span> (s &lt;= <span class="number">0</span>) <span class="keyword">throw</span> <span class="string">&quot;s 不能小于等于0&quot;</span>;</span><br><span class="line">  <span class="keyword">if</span> (s &gt; <span class="number">1</span>) <span class="keyword">throw</span> <span class="string">&quot;s 不能大于1&quot;</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">this</span>-&gt;scale = s;</span><br><span class="line">  <span class="keyword">this</span>-&gt;pwmMin = (<span class="number">1.5</span> - s * <span class="number">0.5</span>) * <span class="keyword">this</span>-&gt;pwmBaseScale;</span><br><span class="line">  <span class="keyword">this</span>-&gt;pwmMax = (<span class="number">1.5</span> + s * <span class="number">0.5</span>) * <span class="keyword">this</span>-&gt;pwmBaseScale;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> LedcServo:: <span class="built_in">attachPin</span>(<span class="type">int</span> p) &#123;</span><br><span class="line">  <span class="built_in">ledcAttachPin</span>(p, <span class="keyword">this</span>-&gt;channel);</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> LedcServo:: <span class="built_in">write</span>(<span class="type">float</span> v, <span class="type">float</span> min, <span class="type">float</span> max) &#123;</span><br><span class="line">  <span class="type">float</span> newV = v;</span><br><span class="line">  <span class="keyword">if</span> (max &gt; min) &#123;</span><br><span class="line">    <span class="keyword">if</span> (v &gt; max) newV = max;</span><br><span class="line">    <span class="keyword">if</span> (v &lt; min) newV = min;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (v &gt; min) newV = min;</span><br><span class="line">    <span class="keyword">if</span> (v &lt; max) newV = max;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">ledcWrite</span>(<span class="keyword">this</span>-&gt;channel, <span class="built_in">map</span>(newV, min, max, <span class="keyword">this</span>-&gt;pwmMin, <span class="keyword">this</span>-&gt;pwmMax));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">float</span> sendMin = <span class="number">-100</span>;</span><br><span class="line"><span class="type">float</span> sendMax = <span class="number">100</span>;</span><br><span class="line"><span class="type">float</span> sendHaf = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">float</span> rxC1 = sendHaf;</span><br><span class="line"><span class="type">float</span> rxC2 = sendHaf;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 设置为-1</span></span><br><span class="line"><span class="type">float</span> lastRxC1 = rxC1;</span><br><span class="line"><span class="type">float</span> lastRxC2 = rxC2;</span><br><span class="line"></span><br><span class="line">LedcServo rxC1Servo;</span><br><span class="line">LedcServo rxC1ServoHaf;</span><br><span class="line">LedcServo rxC2Servo;</span><br><span class="line">LedcServo rxC2ServoHaf;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 接收信息的web server 监听80端口</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function">WebServer <span class="title">server</span><span class="params">(<span class="number">80</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="type">unsigned</span> <span class="type">long</span> timeNow = <span class="number">0</span>;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">long</span> lastDataTickTime = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> LED_BUILTIN = <span class="number">2</span>;</span><br><span class="line"><span class="type">bool</span> ledShow = <span class="literal">false</span>;</span><br><span class="line"><span class="type">int</span> ledLoopTick = <span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">handleRoot</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  String c = server.<span class="built_in">arg</span>(<span class="string">&quot;c&quot;</span>);</span><br><span class="line">  <span class="comment">// Serial.println(c.c_str());</span></span><br><span class="line">  <span class="built_in">sscanf</span>(c.<span class="built_in">c_str</span>(), <span class="string">&quot;c:%f,%f&quot;</span>, &amp;rxC1, &amp;rxC2);</span><br><span class="line">  <span class="comment">// Serial.println(rxC1);</span></span><br><span class="line">  <span class="comment">// Serial.println(rxC2);</span></span><br><span class="line">  lastDataTickTime = <span class="built_in">millis</span>();</span><br><span class="line">  server.<span class="built_in">send</span>(<span class="number">200</span>, <span class="string">&quot;text/plain&quot;</span>, <span class="string">&quot;success&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">registerEvent</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  server.<span class="built_in">on</span>(<span class="string">&quot;/&quot;</span>, handleRoot);</span><br><span class="line"></span><br><span class="line">  server.<span class="built_in">enableCORS</span>();</span><br><span class="line">  server.<span class="built_in">begin</span>();</span><br><span class="line">  Serial.<span class="built_in">println</span>(<span class="string">&quot;HTTP server started&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">setup</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  Serial.<span class="built_in">begin</span>(<span class="number">9600</span>);</span><br><span class="line"></span><br><span class="line">  <span class="built_in">pinMode</span>(LED_BUILTIN, OUTPUT);  <span class="comment">// Initialize the LED_BUILTIN pin as an output</span></span><br><span class="line">  <span class="built_in">digitalWrite</span>(LED_BUILTIN, LOW);</span><br><span class="line"></span><br><span class="line">  rxC1Servo.<span class="built_in">setup</span>(<span class="number">100</span>, <span class="number">10</span>, <span class="number">8</span>);</span><br><span class="line">  rxC1Servo.<span class="built_in">attachPin</span>(<span class="number">23</span>); <span class="comment">// 动力电机控制信号全强度，动力会很猛</span></span><br><span class="line">  rxC1Servo.<span class="built_in">setScale</span>(<span class="number">1</span>); <span class="comment">// 全强度</span></span><br><span class="line">  rxC1Servo.<span class="built_in">write</span>(<span class="number">0</span>, <span class="number">-1</span>, <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">  rxC1ServoHaf.<span class="built_in">setup</span>(<span class="number">100</span>, <span class="number">10</span>, <span class="number">9</span>);</span><br><span class="line">  rxC1ServoHaf.<span class="built_in">attachPin</span>(<span class="number">22</span>); <span class="comment">// 动力电机控制信号一半强度，动力会可控一些</span></span><br><span class="line">  rxC1ServoHaf.<span class="built_in">setScale</span>(<span class="number">0.3</span>); <span class="comment">// 半强度</span></span><br><span class="line">  rxC1ServoHaf.<span class="built_in">write</span>(<span class="number">0</span>, <span class="number">-1</span>, <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">  rxC2Servo.<span class="built_in">setup</span>(<span class="number">500</span>, <span class="number">10</span>, <span class="number">10</span>);</span><br><span class="line">  rxC2Servo.<span class="built_in">attachPin</span>(<span class="number">26</span>); <span class="comment">// 方向舵机信号全强度， 容易侧翻</span></span><br><span class="line">  rxC2Servo.<span class="built_in">setScale</span>(<span class="number">0.7</span>); <span class="comment">// 半角度，顽皮龙D12的转向角最大到这个角度，继续调大，会让舵机在左右两边憋力，最后可能造成舵机齿轮扫坏。</span></span><br><span class="line">  <span class="comment">// 其它类型的车辆</span></span><br><span class="line">  rxC2Servo.<span class="built_in">write</span>(<span class="number">0</span>, <span class="number">-1</span>, <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">  rxC2ServoHaf.<span class="built_in">setup</span>(<span class="number">500</span>, <span class="number">10</span>, <span class="number">11</span>);</span><br><span class="line">  rxC2ServoHaf.<span class="built_in">attachPin</span>(<span class="number">25</span>); <span class="comment">// 方向舵机信号一半强度，防止转弯过度</span></span><br><span class="line">  rxC2ServoHaf.<span class="built_in">setScale</span>(<span class="number">0.3</span>); <span class="comment">// 小角度</span></span><br><span class="line">  rxC2ServoHaf.<span class="built_in">write</span>(<span class="number">0</span>, <span class="number">-1</span>, <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  </span><br><span class="line">  Serial.<span class="built_in">println</span>();</span><br><span class="line">  Serial.<span class="built_in">print</span>(<span class="string">&quot;Configuring access point...&quot;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 下面这一段是使用esp32开启热点，让手机连</span></span><br><span class="line">  WiFi.<span class="built_in">softAP</span>(<span class="string">&quot;xiaocheche&quot;</span>, <span class="string">&quot;xiaoxiaoche&quot;</span>);</span><br><span class="line">  IPAddress myIP = WiFi.<span class="built_in">softAPIP</span>();</span><br><span class="line">  Serial.<span class="built_in">print</span>(<span class="string">&quot;AP IP address: &quot;</span>);</span><br><span class="line">  Serial.<span class="built_in">println</span>(myIP);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 下面这一段是使用esp32连接路由器或者手机的热点</span></span><br><span class="line">  <span class="comment">// WiFi.mode(WIFI_STA);</span></span><br><span class="line">  <span class="comment">// WiFi.begin(&quot;mangguo&quot;, &quot;xiaomangguo&quot;);</span></span><br><span class="line">  <span class="comment">// if (WiFi.waitForConnectResult() != WL_CONNECTED) &#123;</span></span><br><span class="line">  <span class="comment">//   Serial.println(&quot;WiFi Connect Failed! Rebooting...&quot;);</span></span><br><span class="line">  <span class="comment">//   delay(1000);</span></span><br><span class="line">  <span class="comment">//   ESP.restart();</span></span><br><span class="line">  <span class="comment">// &#125;</span></span><br><span class="line">  <span class="comment">// Serial.print(&quot;AP IP address: &quot;);</span></span><br><span class="line">  <span class="comment">// Serial.println(WiFi.localIP());</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (MDNS.<span class="built_in">begin</span>(<span class="string">&quot;esp32&quot;</span>)) &#123;</span><br><span class="line">    Serial.<span class="built_in">println</span>(<span class="string">&quot;MDNS responder started&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">registerEvent</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">updateServo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (lastRxC1 != rxC1) &#123;</span><br><span class="line">    rxC1Servo.<span class="built_in">write</span>(rxC1, sendMax, sendMin);</span><br><span class="line">    rxC1ServoHaf.<span class="built_in">write</span>(rxC1, sendMax, sendMin);</span><br><span class="line">    lastRxC1 = rxC1;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (lastRxC2 != rxC2) &#123;</span><br><span class="line">    rxC2Servo.<span class="built_in">write</span>(rxC2, sendMax, sendMin); <span class="comment">// 反向</span></span><br><span class="line">    rxC2ServoHaf.<span class="built_in">write</span>(rxC2, sendMax, sendMin); <span class="comment">// 反向</span></span><br><span class="line">    lastRxC2 = rxC2;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">loop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  server.<span class="built_in">handleClient</span>();</span><br><span class="line">  timeNow = <span class="built_in">millis</span>();</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (timeNow &gt; lastDataTickTime &amp;&amp; timeNow - lastDataTickTime &gt; <span class="number">1000</span>) &#123;</span><br><span class="line">    <span class="comment">// 超过1秒未收到数据，自动归中，开始闪灯</span></span><br><span class="line">    rxC1 = sendHaf;</span><br><span class="line">    rxC2 = sendHaf;</span><br><span class="line"></span><br><span class="line">    ledLoopTick += <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (ledLoopTick &gt;= <span class="number">50</span>) &#123; <span class="comment">// 闪太快看不清，隔50帧闪一次</span></span><br><span class="line">      ledLoopTick = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (ledLoopTick == <span class="number">0</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (ledShow) &#123;</span><br><span class="line">        <span class="built_in">digitalWrite</span>(LED_BUILTIN, LOW);</span><br><span class="line">        ledShow = <span class="literal">false</span>;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">digitalWrite</span>(LED_BUILTIN, HIGH);</span><br><span class="line">        ledShow = <span class="literal">true</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// 有数据，就常亮</span></span><br><span class="line">    <span class="built_in">digitalWrite</span>(LED_BUILTIN, HIGH);</span><br><span class="line">    ledShow = <span class="literal">true</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">updateServo</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>材料：</p><h2 id="舵机代码"><a href="#舵机代码" class="headerlink" title="舵机代码"></a>舵机代码</h2><p>已经完成</p><h2 id="方案"><a href="#方案" class="headerlink" title="方案"></a>方案</h2><ol><li>使用局域网</li><li>esp32-c3-mini 自带的热点<br>1. 流程<ol><li>开启热点进入配网模式</li><li>进入控制界面</li></ol></li><li>esp32-c3-mini 手机热点<br>1. 流程<ol><li>连接</li></ol></li></ol>]]></content>
      
      
      
        <tags>
            
            <tag> arduino </tag>
            
            <tag> 遥控车 </tag>
            
            <tag> esp32-c3-mini </tag>
            
            <tag> l298n-mini </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vue项目建立</title>
      <link href="/42480.html"/>
      <url>/42480.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>1.安装全局vue cli —— 脚手架<br>管理员运行cmd窗口输入</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install vue-cli -g</span><br></pre></td></tr></table></figure><p>打开VSCode ，新建终端（注意项目想要存放的路径）<br>在这个终端里输入</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vue init webpack 项目名</span><br></pre></td></tr></table></figure><p>然后一直按确认或输入y按确认，等待项目初始化</p>]]></content>
      
      
      
        <tags>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>django搭建开发环境</title>
      <link href="/40922.html"/>
      <url>/40922.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>环境：win10 vscode<br>建立虚拟环境</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python -m venv <span class="built_in">env</span></span><br></pre></td></tr></table></figure><p>进入虚拟环境</p><ul><li>&amp; D:&#x2F;project&#x2F;pyProject&#x2F;fileshare&#x2F;env&#x2F;Scripts&#x2F;activate.ps1<br>在虚拟环境中安装django</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install django</span><br></pre></td></tr></table></figure><p>建立项目</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">django-admin startproject fileShare</span><br></pre></td></tr></table></figure><p><img src="/images/pasted-48.png" alt="项目目录"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> fileShare</span><br></pre></td></tr></table></figure><p>建立app</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python .\manage.py startapp myapp</span><br></pre></td></tr></table></figure><p>运行</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python .\manage.py runserver</span><br></pre></td></tr></table></figure><p>mysql配置</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">DATABASES = &#123;</span><br><span class="line">    <span class="string">&#x27;default&#x27;</span>: &#123;</span><br><span class="line">        <span class="string">&#x27;ENGINE&#x27;</span>: <span class="string">&#x27;django.db.backends.mysql&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;NAME&#x27;</span>: <span class="string">&#x27;file&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;USER&#x27;</span>: <span class="string">&#x27;root&#x27;</span>,  <span class="comment"># MySQL 用户名</span></span><br><span class="line">        <span class="string">&#x27;PASSWORD&#x27;</span>: <span class="string">&#x27;liangzai&#x27;</span>,  <span class="comment"># MySQL 密码</span></span><br><span class="line">        <span class="string">&#x27;HOST&#x27;</span>: <span class="string">&#x27;localhost&#x27;</span>,            <span class="comment"># 数据库主机（如果在本地使用）</span></span><br><span class="line">        <span class="string">&#x27;PORT&#x27;</span>: <span class="string">&#x27;3306&#x27;</span>,                 <span class="comment"># 数据库端口（默认 MySQL 端口）</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>新建立myapp 加个配置</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">INSTALLED_APPS = [</span><br><span class="line">    <span class="string">&#x27;django.contrib.admin&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;django.contrib.auth&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;django.contrib.contenttypes&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;django.contrib.sessions&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;django.contrib.messages&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;django.contrib.staticfiles&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;myapp&#x27;</span></span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>urls.py 定义接口 与接口函数<br>views.py 写接口函数的地方<br><img src="/images/pasted-49.png" alt="接口定义"></p><p>模板寻找优先根目录然后是根据注册的app下找模板，需要添加app，如下图<br><img src="/images/pasted-50.png" alt="模板"><br>静态文件<br><img src="/images/pasted-50.png" alt="静态文件"></p><p>数据库模型</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">from django.db import models</span><br><span class="line">import time</span><br><span class="line">import uuid</span><br><span class="line"># Create your models here.</span><br><span class="line">class File(models.Model):</span><br><span class="line">    file_id = models.CharField(max_length=32,primary_key=True, default=str(uuid.uuid4()).replace(&#x27;-&#x27;, &#x27;&#x27;))</span><br><span class="line">    user_id = models.BigIntegerField(null=False)</span><br><span class="line">    file_type = models.PositiveSmallIntegerField(null=True, default=None)</span><br><span class="line">    file_name = models.CharField(max_length=255, null=True, default=None)</span><br><span class="line">    status = models.PositiveSmallIntegerField(null=True, default=None)</span><br><span class="line">    file_url = models.CharField(max_length=255, null=True, default=None)</span><br><span class="line">    modifie_time = models.BigIntegerField(default=int(time.time()*1000))</span><br><span class="line">    class Meta:</span><br><span class="line">        db_table = &#x27;file&#x27;  # 指定数据库中的表名</span><br><span class="line">class Categories(models.Model):</span><br><span class="line">    id = models.BigAutoField(primary_key=True)</span><br><span class="line">    name = models.CharField(max_length=64, blank=True, null=True)</span><br><span class="line">    type = models.CharField(max_length=255, blank=True, null=True)</span><br><span class="line">    class Meta:</span><br><span class="line">        db_table = &#x27;categories&#x27;  # 指定数据库中的表名</span><br><span class="line"></span><br><span class="line">class Permission(models.Model):</span><br><span class="line">    permission_id = models.BigAutoField(primary_key=True)</span><br><span class="line">    name = models.CharField(max_length=64, blank=True, null=True)</span><br><span class="line">    path = models.CharField(max_length=255, blank=True, null=True)</span><br><span class="line">    description = models.CharField(max_length=255, blank=True, null=True)</span><br><span class="line"></span><br><span class="line">    class Meta:</span><br><span class="line">        db_table = &#x27;permission&#x27;  # 指定数据库中的表名</span><br><span class="line"></span><br><span class="line">class Role(models.Model):</span><br><span class="line">    role_id = models.BigAutoField(primary_key=True)</span><br><span class="line">    role_name = models.CharField(max_length=64, blank=True, null=True)</span><br><span class="line"></span><br><span class="line">    class Meta:</span><br><span class="line">        db_table = &#x27;role&#x27;  # 指定数据库中的表名</span><br><span class="line">class RolePermission(models.Model):</span><br><span class="line">    role_id = models.BigIntegerField(primary_key=True)</span><br><span class="line">    permission_id = models.BigIntegerField(null=True)</span><br><span class="line"></span><br><span class="line">    class Meta:</span><br><span class="line">        db_table = &#x27;role_permission&#x27;  # 指定数据库中的表名</span><br><span class="line">class Storage(models.Model):</span><br><span class="line">    user_id = models.BigIntegerField(primary_key=True)</span><br><span class="line">    allocated_size = models.BigIntegerField(null=True, blank=True, default=None)</span><br><span class="line">    used_size = models.BigIntegerField(null=True, blank=True, default=None)</span><br><span class="line"></span><br><span class="line">    class Meta:</span><br><span class="line">        db_table = &#x27;storage&#x27;</span><br><span class="line">class User(models.Model):</span><br><span class="line">    user_id = models.BigAutoField(primary_key=True)</span><br><span class="line">    nickname = models.CharField(max_length=64, null=True, blank=True, default=None)</span><br><span class="line">    password = models.CharField(max_length=255)</span><br><span class="line">    role_id = models.BigIntegerField()</span><br><span class="line">    account = models.CharField(max_length=64)</span><br><span class="line"></span><br><span class="line">    class Meta:</span><br><span class="line">        db_table = &#x27;user&#x27;</span><br></pre></td></tr></table></figure><p>数据迁移<br>ps：数据库删除过，吧生成过的全删了，或者重新建立项目吧</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python manage.py makemigrations</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python manage.py migrate</span><br></pre></td></tr></table></figure><p>ps:迁移之后数据库就会有表了</p><p>基础例子</p><figure class="highlight python"><figcaption><span>views.py</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.shortcuts <span class="keyword">import</span> render,HttpResponse</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> myapp.models <span class="keyword">import</span> File</span><br><span class="line"><span class="comment"># Create your views here.</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">view_files</span>(<span class="params">requests</span>):</span><br><span class="line">    <span class="comment"># 创建（新增）一个新的 File 实例</span></span><br><span class="line">    new_file = File.objects.create(</span><br><span class="line">        user_id=<span class="number">123</span>,            <span class="comment"># 随机用户ID，例如，123</span></span><br><span class="line">        file_type=<span class="number">1</span>,            <span class="comment"># 文件类型</span></span><br><span class="line">        file_name=<span class="string">&#x27;example.txt&#x27;</span>,<span class="comment"># 文件名</span></span><br><span class="line">        status=<span class="number">1</span>,               <span class="comment"># 状态</span></span><br><span class="line">        file_url=<span class="string">&#x27;example.com&#x27;</span>, <span class="comment"># 文件URL</span></span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 打印新创建的 File 对象的 ID</span></span><br><span class="line">    <span class="built_in">print</span>(new_file.file_id)</span><br><span class="line">    <span class="keyword">return</span> HttpResponse(<span class="string">&quot;1&quot;</span>)</span><br></pre></td></tr></table></figure><figure class="highlight python"><figcaption><span>urls.py</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">URL configuration for file project.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">The `urlpatterns` list routes URLs to views. For more information please see:</span></span><br><span class="line"><span class="string">    https://docs.djangoproject.com/en/4.2/topics/http/urls/</span></span><br><span class="line"><span class="string">Examples:</span></span><br><span class="line"><span class="string">Function views</span></span><br><span class="line"><span class="string">    1. Add an import:  from my_app import views</span></span><br><span class="line"><span class="string">    2. Add a URL to urlpatterns:  path(&#x27;&#x27;, views.home, name=&#x27;home&#x27;)</span></span><br><span class="line"><span class="string">Class-based views</span></span><br><span class="line"><span class="string">    1. Add an import:  from other_app.views import Home</span></span><br><span class="line"><span class="string">    2. Add a URL to urlpatterns:  path(&#x27;&#x27;, Home.as_view(), name=&#x27;home&#x27;)</span></span><br><span class="line"><span class="string">Including another URLconf</span></span><br><span class="line"><span class="string">    1. Import the include() function: from django.urls import include, path</span></span><br><span class="line"><span class="string">    2. Add a URL to urlpatterns:  path(&#x27;blog/&#x27;, include(&#x27;blog.urls&#x27;))</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">from</span> django.contrib <span class="keyword">import</span> admin</span><br><span class="line"><span class="keyword">from</span> django.urls <span class="keyword">import</span> path</span><br><span class="line"><span class="keyword">from</span> myapp <span class="keyword">import</span> views</span><br><span class="line">urlpatterns = [</span><br><span class="line">    path(<span class="string">&#x27;admin/&#x27;</span>, admin.site.urls),</span><br><span class="line">    path(<span class="string">&#x27;view_files/&#x27;</span>, views.view_files),</span><br><span class="line">]</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>访问接口 view_files<br><img src="/images/pasted-51.png" alt="测试"></p><ul><li>通过修改 Django 项目中的 manage.py 文件来设置端口号和 IP 地址。</li></ul><h1 id="manage-py-文件中的-main-方法"><a href="#manage-py-文件中的-main-方法" class="headerlink" title="manage.py 文件中的 main 方法"></a>manage.py 文件中的 main 方法</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:  </span><br><span class="line">    <span class="keyword">from</span> django.core.management.commands.runserver <span class="keyword">import</span> Command <span class="keyword">as</span> Runserver  </span><br><span class="line">    Runserver.default_addr = <span class="string">&#x27;0.0.0.0&#x27;</span>  <span class="comment"># 修改默认地址  </span></span><br><span class="line">    Runserver.default_port = <span class="string">&#x27;8080&#x27;</span>  <span class="comment"># 修改默认端口  </span></span><br><span class="line">    main()</span><br></pre></td></tr></table></figure><h2 id="django-项目疑问"><a href="#django-项目疑问" class="headerlink" title="django 项目疑问"></a>django 项目疑问</h2><p>使用前后端分离不知道怎么使用会话id<br>每次前端请求都是一个新的会话id</p><h2 id="依赖"><a href="#依赖" class="headerlink" title="依赖"></a>依赖</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip freeze &gt; requirements.txt</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> python </tag>
            
            <tag> django </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>docker安装redis</title>
      <link href="/44762.html"/>
      <url>/44762.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>redis 一直连接不上，应该要设置密码</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run --restart=always -p 6379:6379  --name redis --privileged=true -v D:\docker\blog-api:/etc/redis/redis.conf -v D:\docker\blog-api:/data -d redis</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>docker构建镜像</title>
      <link href="/19835.html"/>
      <url>/19835.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>构建java包</p><ul><li>点击maven，点击Lifecyle，点击package，项目打包成功之后会放在项目中的target文件中<br>上传服务器</li><li>包： test.jar</li><li>在服务器上面建立一个文件夹： projecttest<br>projecttest包含文件<br>jar 也就是你的包<br>dockerfile 文件<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">FROM openjdk:8</span><br><span class="line"> MAINTAINER dayu&lt;3129469121@qq.com&gt;</span><br><span class="line">ADD blog-api.jar app.jar</span><br><span class="line">EXPOSE 8888</span><br><span class="line">ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;app.jar&quot;]</span><br></pre></td></tr></table></figure></li></ul><p>进入文件夹 projecttest 执行下面命令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker build -t projecttest . </span><br></pre></td></tr></table></figure><p>ps: projecttest 镜像名字</p><p>查看镜像</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker images </span><br></pre></td></tr></table></figure><p>docker run -p 8888:8888 –net&#x3D;host –name&#x3D;blog-api –restart always -v D:&#x2F;docker&#x2F;blog-api:&#x2F;data blog-api</p>]]></content>
      
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>valine邮件提醒</title>
      <link href="/54148.html"/>
      <url>/54148.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><a href="https://github.com/dayuya/Valine-Admin">valine部署项目</a><br>部署参数<br><img src="/images/pasted-44.png" alt="部署参数"></p><p><img src="/images/pasted-46.png" alt="定时任务"><br>ADMIN_URL<br><img src="/images/pasted-47.png" alt="ADMIN_URL"></p><p><a href="https://console.leancloud.cn/">leancloud</a><br><img src="/images/pasted-45.png" alt="部署"></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>统一缓存处理</title>
      <link href="/7376.html"/>
      <url>/7376.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="2-统一缓存处理（优化）"><a href="#2-统一缓存处理（优化）" class="headerlink" title="2. 统一缓存处理（优化）"></a>2. 统一缓存处理（优化）</h1><p>内存的访问速度 远远大于 磁盘的访问速度 （1000倍起）</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.mszlu.blog.common.cache;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.*;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Target(&#123;ElementType.METHOD&#125;)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="meta">@Documented</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> Cache &#123;</span><br><span class="line"></span><br><span class="line">    <span class="type">long</span> <span class="title function_">expire</span><span class="params">()</span> <span class="keyword">default</span> <span class="number">1</span> * <span class="number">60</span> * <span class="number">1000</span>;</span><br><span class="line"></span><br><span class="line">    String <span class="title function_">name</span><span class="params">()</span> <span class="keyword">default</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.mszlu.blog.common.cache;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.alibaba.fastjson.JSON;</span><br><span class="line"><span class="keyword">import</span> com.mszlu.blog.vo.Result;</span><br><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"><span class="keyword">import</span> org.apache.commons.codec.digest.DigestUtils;</span><br><span class="line"><span class="keyword">import</span> org.apache.commons.lang3.StringUtils;</span><br><span class="line"><span class="keyword">import</span> org.aspectj.lang.ProceedingJoinPoint;</span><br><span class="line"><span class="keyword">import</span> org.aspectj.lang.Signature;</span><br><span class="line"><span class="keyword">import</span> org.aspectj.lang.annotation.Around;</span><br><span class="line"><span class="keyword">import</span> org.aspectj.lang.annotation.Aspect;</span><br><span class="line"><span class="keyword">import</span> org.aspectj.lang.annotation.Pointcut;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.core.annotation.AliasFor;</span><br><span class="line"><span class="keyword">import</span> org.springframework.data.redis.core.RedisTemplate;</span><br><span class="line"><span class="keyword">import</span> org.springframework.data.redis.core.StringRedisTemplate;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Method;</span><br><span class="line"><span class="keyword">import</span> java.time.Duration;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Aspect</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CacheAspect</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> RedisTemplate&lt;String, String&gt; redisTemplate;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Pointcut(&quot;@annotation(com.mszlu.blog.common.cache.Cache)&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">pt</span><span class="params">()</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Around(&quot;pt()&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Object <span class="title function_">around</span><span class="params">(ProceedingJoinPoint pjp)</span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="type">Signature</span> <span class="variable">signature</span> <span class="operator">=</span> pjp.getSignature();</span><br><span class="line">            <span class="comment">//类名</span></span><br><span class="line">            <span class="type">String</span> <span class="variable">className</span> <span class="operator">=</span> pjp.getTarget().getClass().getSimpleName();</span><br><span class="line">            <span class="comment">//调用的方法名</span></span><br><span class="line">            <span class="type">String</span> <span class="variable">methodName</span> <span class="operator">=</span> signature.getName();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            Class[] parameterTypes = <span class="keyword">new</span> <span class="title class_">Class</span>[pjp.getArgs().length];</span><br><span class="line">            Object[] args = pjp.getArgs();</span><br><span class="line">            <span class="comment">//参数</span></span><br><span class="line">            <span class="type">String</span> <span class="variable">params</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>; i&lt;args.length; i++) &#123;</span><br><span class="line">                <span class="keyword">if</span>(args[i] != <span class="literal">null</span>) &#123;</span><br><span class="line">                    params += JSON.toJSONString(args[i]);</span><br><span class="line">                    parameterTypes[i] = args[i].getClass();</span><br><span class="line">                &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                    parameterTypes[i] = <span class="literal">null</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (StringUtils.isNotEmpty(params)) &#123;</span><br><span class="line">                <span class="comment">//加密 以防出现key过长以及字符转义获取不到的情况</span></span><br><span class="line">                params = DigestUtils.md5Hex(params);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="type">Method</span> <span class="variable">method</span> <span class="operator">=</span> pjp.getSignature().getDeclaringType().getMethod(methodName, parameterTypes);</span><br><span class="line">            <span class="comment">//获取Cache注解</span></span><br><span class="line">            <span class="type">Cache</span> <span class="variable">annotation</span> <span class="operator">=</span> method.getAnnotation(Cache.class);</span><br><span class="line">            <span class="comment">//缓存过期时间</span></span><br><span class="line">            <span class="type">long</span> <span class="variable">expire</span> <span class="operator">=</span> annotation.expire();</span><br><span class="line">            <span class="comment">//缓存名称</span></span><br><span class="line">            <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> annotation.name();</span><br><span class="line">            <span class="comment">//先从redis获取</span></span><br><span class="line">            <span class="type">String</span> <span class="variable">redisKey</span> <span class="operator">=</span> name + <span class="string">&quot;::&quot;</span> + className+<span class="string">&quot;::&quot;</span>+methodName+<span class="string">&quot;::&quot;</span>+params;</span><br><span class="line">            <span class="type">String</span> <span class="variable">redisValue</span> <span class="operator">=</span> redisTemplate.opsForValue().get(redisKey);</span><br><span class="line">            <span class="keyword">if</span> (StringUtils.isNotEmpty(redisValue))&#123;</span><br><span class="line">                log.info(<span class="string">&quot;走了缓存~~~,&#123;&#125;,&#123;&#125;&quot;</span>,className,methodName);</span><br><span class="line">                <span class="keyword">return</span> JSON.parseObject(redisValue, Result.class);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="type">Object</span> <span class="variable">proceed</span> <span class="operator">=</span> pjp.proceed();</span><br><span class="line">            redisTemplate.opsForValue().set(redisKey,JSON.toJSONString(proceed), Duration.ofMillis(expire));</span><br><span class="line">            log.info(<span class="string">&quot;存入缓存~~~ &#123;&#125;,&#123;&#125;&quot;</span>,className,methodName);</span><br><span class="line">            <span class="keyword">return</span> proceed;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Throwable throwable) &#123;</span><br><span class="line">            throwable.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> Result.fail(-<span class="number">999</span>,<span class="string">&quot;系统错误&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>使用：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@PostMapping(&quot;hot&quot;)</span></span><br><span class="line"> <span class="meta">@Cache(expire = 5 * 60 * 1000,name = &quot;hot_article&quot;)</span></span><br><span class="line"> <span class="keyword">public</span> Result <span class="title function_">hotArticle</span><span class="params">()</span>&#123;</span><br><span class="line">     <span class="type">int</span> <span class="variable">limit</span> <span class="operator">=</span> <span class="number">5</span>;</span><br><span class="line">     <span class="keyword">return</span> articleService.hotArticle(limit);</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><h1 id="其他用户更新文章的，可能导致使用的还是旧数据缓存"><a href="#其他用户更新文章的，可能导致使用的还是旧数据缓存" class="headerlink" title="其他用户更新文章的，可能导致使用的还是旧数据缓存"></a>其他用户更新文章的，可能导致使用的还是旧数据缓存</h1><p>修改简历</p><p>搭建djiang系统，理清楚开发模式，基本开发文档编写</p>]]></content>
      
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>aop日志</title>
      <link href="/17395.html"/>
      <url>/17395.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="4-AOP日志"><a href="#4-AOP日志" class="headerlink" title="4. AOP日志"></a>4. AOP日志</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.mszlu.blog.common.aop;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.*;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 日志注解</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Target(ElementType.METHOD)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="meta">@Documented</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> LogAnnotation &#123;</span><br><span class="line"></span><br><span class="line">    String <span class="title function_">module</span><span class="params">()</span> <span class="keyword">default</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line"></span><br><span class="line">    String <span class="title function_">operation</span><span class="params">()</span> <span class="keyword">default</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.mszlu.blog.common.aop;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.alibaba.fastjson.JSON;</span><br><span class="line"><span class="keyword">import</span> com.mszlu.blog.utils.HttpContextUtils;</span><br><span class="line"><span class="keyword">import</span> com.mszlu.blog.utils.IpUtils;</span><br><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"><span class="keyword">import</span> org.aspectj.lang.ProceedingJoinPoint;</span><br><span class="line"><span class="keyword">import</span> org.aspectj.lang.annotation.Around;</span><br><span class="line"><span class="keyword">import</span> org.aspectj.lang.annotation.Aspect;</span><br><span class="line"><span class="keyword">import</span> org.aspectj.lang.annotation.Pointcut;</span><br><span class="line"><span class="keyword">import</span> org.aspectj.lang.reflect.MethodSignature;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Method;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 日志切面</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Aspect</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LogAspect</span> &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Pointcut(&quot;@annotation(com.mszlu.blog.common.aop.LogAnnotation)&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">logPointCut</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Around(&quot;logPointCut()&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Object <span class="title function_">around</span><span class="params">(ProceedingJoinPoint point)</span> <span class="keyword">throws</span> Throwable &#123;</span><br><span class="line">        <span class="type">long</span> <span class="variable">beginTime</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">        <span class="comment">//执行方法</span></span><br><span class="line">        <span class="type">Object</span> <span class="variable">result</span> <span class="operator">=</span> point.proceed();</span><br><span class="line">        <span class="comment">//执行时长(毫秒)</span></span><br><span class="line">        <span class="type">long</span> <span class="variable">time</span> <span class="operator">=</span> System.currentTimeMillis() - beginTime;</span><br><span class="line">        <span class="comment">//保存日志</span></span><br><span class="line">        recordLog(point, time);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">recordLog</span><span class="params">(ProceedingJoinPoint joinPoint, <span class="type">long</span> time)</span> &#123;</span><br><span class="line">        <span class="type">MethodSignature</span> <span class="variable">signature</span> <span class="operator">=</span> (MethodSignature) joinPoint.getSignature();</span><br><span class="line">        <span class="type">Method</span> <span class="variable">method</span> <span class="operator">=</span> signature.getMethod();</span><br><span class="line">        <span class="type">LogAnnotation</span> <span class="variable">logAnnotation</span> <span class="operator">=</span> method.getAnnotation(LogAnnotation.class);</span><br><span class="line">        log.info(<span class="string">&quot;=====================log start================================&quot;</span>);</span><br><span class="line">        log.info(<span class="string">&quot;module:&#123;&#125;&quot;</span>,logAnnotation.<span class="keyword">module</span>());</span><br><span class="line">        log.info(<span class="string">&quot;operation:&#123;&#125;&quot;</span>,logAnnotation.operation());</span><br><span class="line"></span><br><span class="line">        <span class="comment">//请求的方法名</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">className</span> <span class="operator">=</span> joinPoint.getTarget().getClass().getName();</span><br><span class="line">        <span class="type">String</span> <span class="variable">methodName</span> <span class="operator">=</span> signature.getName();</span><br><span class="line">        log.info(<span class="string">&quot;request method:&#123;&#125;&quot;</span>,className + <span class="string">&quot;.&quot;</span> + methodName + <span class="string">&quot;()&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//        //请求的参数</span></span><br><span class="line">        Object[] args = joinPoint.getArgs();</span><br><span class="line">        <span class="type">String</span> <span class="variable">params</span> <span class="operator">=</span> JSON.toJSONString(args[<span class="number">0</span>]);</span><br><span class="line">        log.info(<span class="string">&quot;params:&#123;&#125;&quot;</span>,params);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//获取request 设置IP地址</span></span><br><span class="line">        <span class="type">HttpServletRequest</span> <span class="variable">request</span> <span class="operator">=</span> HttpContextUtils.getHttpServletRequest();</span><br><span class="line">        log.info(<span class="string">&quot;ip:&#123;&#125;&quot;</span>, IpUtils.getIpAddr(request));</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        log.info(<span class="string">&quot;excute time : &#123;&#125; ms&quot;</span>,time);</span><br><span class="line">        log.info(<span class="string">&quot;=====================log end================================&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//加上此注解 代表要对此接口记录日志</span><br><span class="line">@LogAnnotation(module=&quot;文章&quot;,operation=&quot;获取文章列表&quot;)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>threadloacl保存用户信息</title>
      <link href="/6371.html"/>
      <url>/6371.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="3-ThreadLocal保存用户信息"><a href="#3-ThreadLocal保存用户信息" class="headerlink" title="3. ThreadLocal保存用户信息"></a>3. ThreadLocal保存用户信息</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.mszlu.blog.utils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.mszlu.blog.dao.pojo.SysUser;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserThreadLocal</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">UserThreadLocal</span><span class="params">()</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> ThreadLocal&lt;SysUser&gt; LOCAL = <span class="keyword">new</span> <span class="title class_">ThreadLocal</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">put</span><span class="params">(SysUser sysUser)</span>&#123;</span><br><span class="line">        LOCAL.set(sysUser);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> SysUser <span class="title function_">get</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> LOCAL.get();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">remove</span><span class="params">()</span>&#123;</span><br><span class="line">        LOCAL.remove();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.mszlu.blog.handler;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.alibaba.fastjson.JSON;</span><br><span class="line"><span class="keyword">import</span> com.mszlu.blog.dao.pojo.SysUser;</span><br><span class="line"><span class="keyword">import</span> com.mszlu.blog.service.LoginService;</span><br><span class="line"><span class="keyword">import</span> com.mszlu.blog.utils.UserThreadLocal;</span><br><span class="line"><span class="keyword">import</span> com.mszlu.blog.vo.ErrorCode;</span><br><span class="line"><span class="keyword">import</span> com.mszlu.blog.vo.Result;</span><br><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"><span class="keyword">import</span> org.apache.commons.lang3.StringUtils;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.method.HandlerMethod;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.HandlerInterceptor;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LoginInterceptor</span> <span class="keyword">implements</span> <span class="title class_">HandlerInterceptor</span> &#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> LoginService loginService;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">preHandle</span><span class="params">(HttpServletRequest request, HttpServletResponse response, Object handler)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="comment">//在执行controller方法(Handler)之前进行执行</span></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * 1. 需要判断 请求的接口路径 是否为 HandlerMethod (controller方法)</span></span><br><span class="line"><span class="comment">         * 2. 判断 token是否为空，如果为空 未登录</span></span><br><span class="line"><span class="comment">         * 3. 如果token 不为空，登录验证 loginService checkToken</span></span><br><span class="line"><span class="comment">         * 4. 如果认证成功 放行即可</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="keyword">if</span> (!(handler <span class="keyword">instanceof</span> HandlerMethod))&#123;</span><br><span class="line">            <span class="comment">//handler 可能是 RequestResourceHandler springboot 程序 访问静态资源 默认去classpath下的static目录去查询</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">String</span> <span class="variable">token</span> <span class="operator">=</span> request.getHeader(<span class="string">&quot;Authorization&quot;</span>);</span><br><span class="line"></span><br><span class="line">        log.info(<span class="string">&quot;=================request start===========================&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">requestURI</span> <span class="operator">=</span> request.getRequestURI();</span><br><span class="line">        log.info(<span class="string">&quot;request uri:&#123;&#125;&quot;</span>,requestURI);</span><br><span class="line">        log.info(<span class="string">&quot;request method:&#123;&#125;&quot;</span>,request.getMethod());</span><br><span class="line">        log.info(<span class="string">&quot;token:&#123;&#125;&quot;</span>, token);</span><br><span class="line">        log.info(<span class="string">&quot;=================request end===========================&quot;</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (StringUtils.isBlank(token))&#123;</span><br><span class="line">            <span class="type">Result</span> <span class="variable">result</span> <span class="operator">=</span> Result.fail(ErrorCode.NO_LOGIN.getCode(), <span class="string">&quot;未登录&quot;</span>);</span><br><span class="line">            response.setContentType(<span class="string">&quot;application/json;charset=utf-8&quot;</span>);</span><br><span class="line">            response.getWriter().print(JSON.toJSONString(result));</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">SysUser</span> <span class="variable">sysUser</span> <span class="operator">=</span> loginService.checkToken(token);</span><br><span class="line">        <span class="keyword">if</span> (sysUser == <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="type">Result</span> <span class="variable">result</span> <span class="operator">=</span> Result.fail(ErrorCode.NO_LOGIN.getCode(), <span class="string">&quot;未登录&quot;</span>);</span><br><span class="line">            response.setContentType(<span class="string">&quot;application/json;charset=utf-8&quot;</span>);</span><br><span class="line">            response.getWriter().print(JSON.toJSONString(result));</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//登录验证成功，放行</span></span><br><span class="line">        <span class="comment">//我希望在controller中 直接获取用户的信息 怎么获取?</span></span><br><span class="line">        UserThreadLocal.put(sysUser);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">afterCompletion</span><span class="params">(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        UserThreadLocal.remove();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.mszlu.blog.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.mszlu.blog.dao.pojo.SysUser;</span><br><span class="line"><span class="keyword">import</span> com.mszlu.blog.utils.UserThreadLocal;</span><br><span class="line"><span class="keyword">import</span> com.mszlu.blog.vo.Result;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RestController;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;test&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">test</span><span class="params">()</span>&#123;</span><br><span class="line"><span class="comment">//        SysUser</span></span><br><span class="line">        <span class="type">SysUser</span> <span class="variable">sysUser</span> <span class="operator">=</span> UserThreadLocal.get();</span><br><span class="line">        System.out.println(sysUser);</span><br><span class="line">        <span class="keyword">return</span> Result.success(<span class="literal">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>使用线程池</title>
      <link href="/42761.html"/>
      <url>/42761.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="3-使用线程池-更新阅读次数"><a href="#3-使用线程池-更新阅读次数" class="headerlink" title="3. 使用线程池 更新阅读次数"></a>3. 使用线程池 更新阅读次数</h1><p>在redis中更新阅读数。  使用 cron 定时更新</p><h2 id="3-1-线程池配置"><a href="#3-1-线程池配置" class="headerlink" title="3.1 线程池配置"></a>3.1 线程池配置</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.mszlu.blog.config;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.scheduling.annotation.EnableAsync;</span><br><span class="line"><span class="keyword">import</span> org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.Executor;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@EnableAsync</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ThreadPoolConfig</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean(&quot;taskExecutor&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Executor <span class="title function_">asyncServiceExecutor</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">ThreadPoolTaskExecutor</span> <span class="variable">executor</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ThreadPoolTaskExecutor</span>();</span><br><span class="line">        <span class="comment">// 设置核心线程数</span></span><br><span class="line">        executor.setCorePoolSize(<span class="number">5</span>);</span><br><span class="line">        <span class="comment">// 设置最大线程数</span></span><br><span class="line">        executor.setMaxPoolSize(<span class="number">20</span>);</span><br><span class="line">        <span class="comment">//配置队列大小</span></span><br><span class="line">        executor.setQueueCapacity(Integer.MAX_VALUE);</span><br><span class="line">        <span class="comment">// 设置线程活跃时间（秒）</span></span><br><span class="line">        executor.setKeepAliveSeconds(<span class="number">60</span>);</span><br><span class="line">        <span class="comment">// 设置默认线程名称</span></span><br><span class="line">        executor.setThreadNamePrefix(<span class="string">&quot;码神之路博客项目&quot;</span>);</span><br><span class="line">        <span class="comment">// 等待所有任务结束后再关闭线程池</span></span><br><span class="line">        executor.setWaitForTasksToCompleteOnShutdown(<span class="literal">true</span>);</span><br><span class="line">        <span class="comment">//执行初始化</span></span><br><span class="line">        executor.initialize();</span><br><span class="line">        <span class="keyword">return</span> executor;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="3-1-使用"><a href="#3-1-使用" class="headerlink" title="3.1 使用"></a>3.1 使用</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.mszlu.blog.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.core.conditions.query.LambdaQueryWrapper;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.core.conditions.update.LambdaUpdateWrapper;</span><br><span class="line"><span class="keyword">import</span> com.mszlu.blog.dao.mapper.ArticleMapper;</span><br><span class="line"><span class="keyword">import</span> com.mszlu.blog.dao.pojo.Article;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.data.redis.core.StringRedisTemplate;</span><br><span class="line"><span class="keyword">import</span> org.springframework.scheduling.annotation.Async;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.annotation.PostConstruct;</span><br><span class="line"><span class="keyword">import</span> javax.annotation.Resource;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ThreadService</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Resource</span></span><br><span class="line">    <span class="keyword">private</span> ArticleMapper articleMapper;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PostConstruct</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">initViewCount</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">//为了 保证 启动项目的时候，redis中的浏览量 如果没有，读取数据库的数据，进行初始化</span></span><br><span class="line">        <span class="comment">//便于更新的时候 自增</span></span><br><span class="line">        List&lt;Article&gt; articles = articleMapper.selectList(<span class="keyword">new</span> <span class="title class_">LambdaQueryWrapper</span>&lt;&gt;());</span><br><span class="line">        <span class="keyword">for</span> (Article article : articles) &#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">viewCountStr</span> <span class="operator">=</span> (String) redisTemplate.opsForHash().get(<span class="string">&quot;view_count&quot;</span>, String.valueOf(article.getId()));</span><br><span class="line">            <span class="keyword">if</span> (viewCountStr == <span class="literal">null</span>)&#123;</span><br><span class="line">                <span class="comment">//初始化</span></span><br><span class="line">                redisTemplate.opsForHash().put(<span class="string">&quot;view_count&quot;</span>, String.valueOf(article.getId()),String.valueOf(article.getViewCounts()));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> StringRedisTemplate redisTemplate;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//期望此操作在线程池 执行 不会影响原有的主线程</span></span><br><span class="line">    <span class="meta">@Async(&quot;taskExecutor&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">updateArticleViewCount</span><span class="params">(ArticleMapper articleMapper, Article article)</span> &#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">//        int viewCounts = article.getViewCounts();</span></span><br><span class="line"><span class="comment">//        Article articleUpdate = new Article();</span></span><br><span class="line"><span class="comment">//        articleUpdate.setViewCounts(viewCounts +1);</span></span><br><span class="line"><span class="comment">//        LambdaUpdateWrapper&lt;Article&gt; updateWrapper = new LambdaUpdateWrapper&lt;&gt;();</span></span><br><span class="line"><span class="comment">//        updateWrapper.eq(Article::getId,article.getId());</span></span><br><span class="line">        <span class="comment">//设置一个 为了在多线程的环境下 线程安全</span></span><br><span class="line"><span class="comment">//        updateWrapper.eq(Article::getViewCounts,viewCounts);</span></span><br><span class="line">        <span class="comment">// update article set view_count=100 where view_count=99 and id=11</span></span><br><span class="line"><span class="comment">//        articleMapper.update(articleUpdate,updateWrapper);</span></span><br><span class="line"><span class="comment">//        try &#123;</span></span><br><span class="line"><span class="comment">//            Thread.sleep(5000);</span></span><br><span class="line"><span class="comment">//            System.out.println(&quot;更新完成了....&quot;);</span></span><br><span class="line"><span class="comment">//        &#125; catch (InterruptedException e) &#123;</span></span><br><span class="line"><span class="comment">//            e.printStackTrace();</span></span><br><span class="line"><span class="comment">//        &#125;</span></span><br><span class="line">        <span class="comment">//采用redis进行浏览量的增加</span></span><br><span class="line">        <span class="comment">//hash结构 key 浏览量标识 field 文章id  后面1 表示自增加1</span></span><br><span class="line">        redisTemplate.opsForHash().increment(<span class="string">&quot;view_count&quot;</span>,String.valueOf(article.getId()),<span class="number">1</span>);</span><br><span class="line">        <span class="comment">//定时任务在ViewCountHandler中</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//还有一种方式是，redis自增之后，直接发送消息到消息队列中，由消息队列进行消费 来同步数据库，比定时任务要好一些</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"> <span class="meta">@Autowired</span></span><br><span class="line"> <span class="keyword">private</span> ThreadService threadService;</span><br><span class="line"></span><br><span class="line"> <span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> Result <span class="title function_">findArticleById</span><span class="params">(Long articleId)</span> &#123;</span><br><span class="line">     <span class="comment">/**</span></span><br><span class="line"><span class="comment">      * 1. 根据id查询 文章信息</span></span><br><span class="line"><span class="comment">      * 2. 根据bodyId和categoryid 去做关联查询</span></span><br><span class="line"><span class="comment">      */</span></span><br><span class="line">     <span class="type">Article</span> <span class="variable">article</span> <span class="operator">=</span> <span class="built_in">this</span>.articleMapper.selectById(articleId);</span><br><span class="line">     <span class="type">ArticleVo</span> <span class="variable">articleVo</span> <span class="operator">=</span> copy(article, <span class="literal">true</span>, <span class="literal">true</span>,<span class="literal">true</span>,<span class="literal">true</span>);</span><br><span class="line">     <span class="comment">//查看完文章了，新增阅读数，有没有问题呢？</span></span><br><span class="line">     <span class="comment">//查看完文章之后，本应该直接返回数据了，这时候做了一个更新操作，更新时加写锁，阻塞其他的读操作，性能就会比较低</span></span><br><span class="line">     <span class="comment">// 更新 增加了此次接口的 耗时 如果一旦更新出问题，不能影响 查看文章的操作</span></span><br><span class="line">     <span class="comment">//线程池  可以把更新操作 扔到线程池中去执行，和主线程就不相关了</span></span><br><span class="line">     threadService.updateArticleViewCount(articleMapper,article);</span><br><span class="line"></span><br><span class="line">     <span class="type">String</span> <span class="variable">viewCount</span> <span class="operator">=</span> (String) redisTemplate.opsForHash().get(<span class="string">&quot;view_count&quot;</span>, String.valueOf(articleId));</span><br><span class="line">     <span class="keyword">if</span> (viewCount != <span class="literal">null</span>)&#123;</span><br><span class="line">         articleVo.setViewCounts(Integer.parseInt(viewCount));</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="keyword">return</span> Result.success(articleVo);</span><br><span class="line"> &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="3-3-测试"><a href="#3-3-测试" class="headerlink" title="3.3 测试"></a>3.3 测试</h2><p>睡眠 ThredService中的方法 5秒，不会影响主线程的使用，即文章详情会很快的显示出来，不受影响</p>]]></content>
      
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> redis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>登入拦截器</title>
      <link href="/25210.html"/>
      <url>/25210.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="2-2-使拦截器生效"><a href="#2-2-使拦截器生效" class="headerlink" title="2.2 使拦截器生效"></a>2.2 使拦截器生效</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.mszlu.blog.config;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.mszlu.blog.handler.LoginInterceptor;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.config.annotation.CorsRegistry;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.config.annotation.InterceptorRegistry;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.config.annotation.WebMvcConfigurer;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WebMVCConfig</span> <span class="keyword">implements</span> <span class="title class_">WebMvcConfigurer</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> LoginInterceptor loginInterceptor;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addCorsMappings</span><span class="params">(CorsRegistry registry)</span> &#123;</span><br><span class="line">        <span class="comment">//跨域配置</span></span><br><span class="line">        registry.addMapping(<span class="string">&quot;/**&quot;</span>).allowedOrigins(<span class="string">&quot;http://localhost:8080&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addInterceptors</span><span class="params">(InterceptorRegistry registry)</span> &#123;</span><br><span class="line">        registry.addInterceptor(loginInterceptor)</span><br><span class="line">                .addPathPatterns(<span class="string">&quot;/test&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="2-3-测试"><a href="#2-3-测试" class="headerlink" title="2.3 测试"></a>2.3 测试</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.mszlu.blog.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.mszlu.blog.vo.Result;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RestController;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;test&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">test</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> Result.success(<span class="literal">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>docker-win10-typecho安装</title>
      <link href="/23438.html"/>
      <url>/23438.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker run -d --name=typecho-blog --restart always -v D:/docker/http/typecho:/data -e PHP_TZ=Asia/Shanghai -e PHP_MAX_EXECUTION_TIME=600 -p 80:80 80x86/typecho:latest</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>docker-win10-mariadb安装</title>
      <link href="/34853.html"/>
      <url>/34853.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker  run  -d -p 3306:3306  -v /root/docker_data/mysql/data:/var/lib/mysql  -e MYSQL_ROOT_PASSWORD=<span class="string">&quot;123456&quot;</span> --name mysql  mariadb</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>v2raya</title>
      <link href="/4214488808.html"/>
      <url>/4214488808.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>docker 安装</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">docker run -d \</span><br><span class="line">  --restart=always \</span><br><span class="line">  --privileged \</span><br><span class="line">  --network=host \</span><br><span class="line">  --name v2raya \</span><br><span class="line">  -e V2RAYA_LOG_FILE=/tmp/v2raya.<span class="built_in">log</span> \</span><br><span class="line">  -v /lib/modules:/lib/modules:ro \</span><br><span class="line">  -v /etc/resolv.conf:/etc/resolv.conf \</span><br><span class="line">  -v /etc/v2raya:/etc/v2raya \</span><br><span class="line">  mzz2017/v2raya</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>home hass 安装</title>
      <link href="/3593310466.html"/>
      <url>/3593310466.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>docker</p><p>docker run -d –name&#x3D;”hass” –network host  -v &#x2F;root&#x2F;hass&#x2F;config:&#x2F;config -p 8123:8123 -p homeassistant&#x2F;home-assistant:latest</p><p><a href="https://blog.csdn.net/weixin_47198051/article/details/122988221?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522168934294216800182772615%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=168934294216800182772615&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduend~default-1-122988221-null-null.142%5Ev88%5Econtrol,239%5Ev2%5Einsert_chatgpt&utm_term=homeassistant%20docker&spm=1018.2226.3001.4187">参考</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>远程灯</title>
      <link href="/4182503455.html"/>
      <url>/4182503455.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>esp01+继电器带光耦<br>esp01s+继电器可以不带光耦</p><p>实现手动开关 接线 3v3+io2</p><p><img src="/images/pasted-43.png" alt="upload successful"></p><p>我研究了一下meplhaa脚本，把你的脚本改成这样：<br>{<br>“c”: {<br>“io”: [ [ [ 0, 1 ], 2 ], [ [ 2 ], 6 ] ],<br>“l”: 1, “b”: [ [ 0, 5 ] ]<br>},<br>“a”: [{<br>“t”: 1,<br>“s”: 0,<br>“0”: { “r”: [ [ 0, 1 ] ] },<br>“1”: { “r”: [ [ 0, 0 ] ] },<br>“b”: [ [ 2 ] ]<br>}]<br>}<br>这样的样子我的开关才成功完成动作。</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>usb 接线</title>
      <link href="/982546097.html"/>
      <url>/982546097.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><img src="/images/pasted-42.png" alt="upload successful"><br>vcc 接5v<br>gnd 接地</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>在整个系统中查找文件</title>
      <link href="/3073229119.html"/>
      <url>/3073229119.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>在整个系统中查找名为 myfile.txt 的文件：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find / -name myfile.txt</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> docker </tag>
            
            <tag> debian </tag>
            
            <tag> 青龙 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>mybatis &#39;tagIds&#39; not found</title>
      <link href="/1893143235.html"/>
      <url>/1893143235.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p> Parameter ‘tagIds’ not found. Available parameters are [arg0, collection, list]] with root cause</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Tag&gt; findTagsByTagIds(List&lt;Long&gt; tagIds);</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- List&lt;Tag&gt; findTagsByTagIds(List&lt;Long&gt; tagIds); --&gt;</span><br><span class="line">&lt;select id=&quot;findTagsByTagIds&quot; parameterType=&quot;list&quot; resultType=&quot;com.dayu.blog.dao.pojo.Tag&quot;&gt;</span><br><span class="line">    select id,tag_name as tagName from ms_tag</span><br><span class="line">    where id in</span><br><span class="line">    &lt;foreach collection=&quot;tagIds&quot;  item=&quot;tagId&quot; separator=&quot;,&quot; open=&quot;(&quot; close=&quot;)&quot; &gt;</span><br><span class="line">        #&#123;tagId&#125;</span><br><span class="line">    &lt;/foreach&gt;</span><br><span class="line"></span><br><span class="line">&lt;/select&gt;</span><br></pre></td></tr></table></figure><p>解决方法<br>添加注解 @Param</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Tag&gt; findTagsByTagIds(@Param(&quot;tagIds&quot;) List&lt;Long&gt; tagIds);</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> blog 维护指南 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> spring boot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>docker 维护指南</title>
      <link href="/3071813765.html"/>
      <url>/3071813765.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>docker: Error response from daemon: Get <a href="https://registry-1.docker.io/v2/">https://registry-1.docker.io/v2/</a>: net&#x2F;http: request canceled</p><p>编辑或新建配置文件 &#x2F;etc&#x2F;docker&#x2F;daemon.json</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;registry-mirrors&quot;: [&quot;https://registry.docker-cn.com&quot;,&quot;http://hub-mirror.c.163.com&quot;],</span><br><span class="line">    &quot;live-restore&quot;: true</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">systemctl daemon-reload </span><br><span class="line">systemctl restart docker</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>chatgpt</title>
      <link href="/3059055729.html"/>
      <url>/3059055729.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>提问</p><p><img src="/images/pasted-37.png" alt="你问我答"></p><p>现在我们来玩个你问我答的游戏<br>谜底是为了测试我在sql方面的专业水平<br>你负责提问，我负责回答<br>你要根据我的答案进行反馈、评价、补充<br>如果我说不知道，你就直接输出正确答案，然后你接续提问</p><p><img src="/images/pasted-38.png" alt="你问我答"></p><p><img src="/images/pasted-40.png" alt="upload successful"></p><p><img src="/images/pasted-41.png" alt="upload successful"></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>day01</title>
      <link href="/4239578080.html"/>
      <url>/4239578080.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="Day01作业"><a href="#Day01作业" class="headerlink" title="Day01作业"></a>Day01作业</h1><h3 id="1-简答题"><a href="#1-简答题" class="headerlink" title="1. 简答题"></a>1. 简答题</h3><h5 id="1-1-为什么要在计算机中配置环境变量？请列出操作步骤？"><a href="#1-1-为什么要在计算机中配置环境变量？请列出操作步骤？" class="headerlink" title="1.1 为什么要在计算机中配置环境变量？请列出操作步骤？"></a>1.1 为什么要在计算机中配置环境变量？请列出操作步骤？</h5><p>​答：</p><hr><h5 id="1-2-请用自己的理解，表述关键字的是什么？使用生活中的例子也行。"><a href="#1-2-请用自己的理解，表述关键字的是什么？使用生活中的例子也行。" class="headerlink" title="1.2 请用自己的理解，表述关键字的是什么？使用生活中的例子也行。"></a>1.2 请用自己的理解，表述关键字的是什么？使用生活中的例子也行。</h5><p>​答：</p><hr><h5 id="1-3-请列出Java中字面量的分类？"><a href="#1-3-请列出Java中字面量的分类？" class="headerlink" title="1.3 请列出Java中字面量的分类？"></a>1.3 请列出Java中字面量的分类？</h5><p>​答：</p><hr><h5 id="1-4-请阐述你对变量的理解？以及变量的好处？"><a href="#1-4-请阐述你对变量的理解？以及变量的好处？" class="headerlink" title="1.4 请阐述你对变量的理解？以及变量的好处？"></a>1.4 请阐述你对变量的理解？以及变量的好处？</h5><p>​答：</p><hr><h3 id="2-选择题"><a href="#2-选择题" class="headerlink" title="2. 选择题"></a>2. 选择题</h3><h5 id="2-1-单选-：-下面有关Java语言跨平台性说法正确的是"><a href="#2-1-单选-：-下面有关Java语言跨平台性说法正确的是" class="headerlink" title="2.1 (单选)： 下面有关Java语言跨平台性说法正确的是(  )"></a>2.1 (单选)： 下面有关Java语言跨平台性说法正确的是(  )</h5><p>​A.Java的源代码可以在所有平台上运行。 </p><p>​B.JDK是跨平台的。 </p><p>​C.JVM是跨平台的。</p><p>​D.跨平台中的平台指的是操作系统,Java语言的跨平台性是指Java程序可以在不同的操作系统上运行,前提是相应的操作系统安装了对应的JVM。 </p><hr><h5 id="2-2-单选-：-以下选项中-关于常量说法正确的是"><a href="#2-2-单选-：-以下选项中-关于常量说法正确的是" class="headerlink" title="2.2 (单选)： 以下选项中,关于常量说法正确的是(  )"></a>2.2 (单选)： 以下选项中,关于常量说法正确的是(  )</h5><p>A</p><p>​‘ ’(里面是一个空格),这是一个字符常量。<br>     “ ”(里面是一个空格),这是一个字符串常量。 </p><p>B</p><p>​‘’(里面没有空格),这是一个字符常量。<br>​ “”(里面没有空格),这是一个字符串常量。 </p><p>C</p><p>​‘ab’,这是一个字符常量。<br>     “ab”,这是一个字符串常量。</p><p>D</p><p>​1,2,3,3.0这4个都是整数常量。<br>​1.0,2.1,3.1这3个都是小数常量。</p><hr><h5 id="2-3-单选-：-下列选项中关于Java中的注释描述错误的是"><a href="#2-3-单选-：-下列选项中关于Java中的注释描述错误的是" class="headerlink" title="2.3 (单选)： 下列选项中关于Java中的注释描述错误的是(  )"></a>2.3 (单选)： 下列选项中关于Java中的注释描述错误的是(  )</h5><p>​A.单行注释的格式是,例子如下:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//被注释的内容</span></span><br></pre></td></tr></table></figure><p>​B.多行注释可以嵌套多行注释,例子如下:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*hello/*java*/</span>world*/</span><br></pre></td></tr></table></figure><p>​C.单行注释可以嵌套单行注释,例子如下:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//hello//world//java</span></span><br></pre></td></tr></table></figure><p>​D.多行注释的格式,例子如下:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*被注释的内容*/</span></span><br></pre></td></tr></table></figure><hr><h5 id="2-4-单选-：请观察以下代码-选取正确答案"><a href="#2-4-单选-：请观察以下代码-选取正确答案" class="headerlink" title="2.4  (单选)：请观察以下代码,选取正确答案(  )"></a>2.4  (单选)：请观察以下代码,选取正确答案(  )</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">    System.out.println(a);</span><br><span class="line">    &#123;</span><br><span class="line">     a = <span class="number">20</span>; </span><br><span class="line">        System.out.println(a);</span><br><span class="line">&#125;</span><br><span class="line">     System.out.println(a);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">A. <span class="number">10</span> <span class="number">20</span> <span class="number">10</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">B. <span class="number">10</span> <span class="number">10</span> <span class="number">10</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">C. <span class="number">10</span> <span class="number">20</span> <span class="number">20</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">D. 编译报错，第<span class="number">8</span>行无法使用到变量a</span><br></pre></td></tr></table></figure><hr><h5 id="2-5-单选-：-有一个HelloWorld-java文件代码如下-下列说法正确的是"><a href="#2-5-单选-：-有一个HelloWorld-java文件代码如下-下列说法正确的是" class="headerlink" title="2.5 (单选)： 有一个HelloWorld.java文件代码如下,下列说法正确的是(  )"></a>2.5 (单选)： 有一个HelloWorld.java文件代码如下,下列说法正确的是(  )</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HelloWorld</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;helloworld&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>​A.Java源代码不用编译,可以直接运行。</p><p>​B.编译使用命令javac HelloWorld.java</p><p>​C.运行使用命令 java HelloWorld.class</p><p>​D.Java虚拟机真正执行的是.java文件。</p><hr><h5 id="2-6-单选-：-HelloWorld-java文件代码如下-使用javac-HelloWorld-java编译时报错-下面说法错误的是"><a href="#2-6-单选-：-HelloWorld-java文件代码如下-使用javac-HelloWorld-java编译时报错-下面说法错误的是" class="headerlink" title="2.6 (单选)： HelloWorld.java文件代码如下,使用javac HelloWorld.java编译时报错,下面说法错误的是(  )"></a>2.6 (单选)： HelloWorld.java文件代码如下,使用javac HelloWorld.java编译时报错,下面说法错误的是(  )</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HelloWorld</span> &#123;                    <span class="comment">//第1行</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> viod <span class="title function_">main</span><span class="params">(String[] args)</span> &#123; <span class="comment">//第2行</span></span><br><span class="line">        system.out.println(helloworld);      <span class="comment">//第3行</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>​A.第1行有错误,HelloWorld应该都小写,写成public class helloworld { </p><p>​B.第2行有错误,viod应写成void. </p><p>​C.第3行有错误,system应该是System. </p><p>​D.第3行有错误,helloworld应该用””引起来. </p><hr><h5 id="2-7-单选-：-关于JDK、JRE、JVM下列哪些选项的描述是错误的"><a href="#2-7-单选-：-关于JDK、JRE、JVM下列哪些选项的描述是错误的" class="headerlink" title="2.7 (单选)： 关于JDK、JRE、JVM下列哪些选项的描述是错误的(  )"></a>2.7 (单选)： 关于JDK、JRE、JVM下列哪些选项的描述是错误的(  )</h5><p>​A.JRE全称Java Runtime Environment是Java的运行环境。 </p><p>​B.JDK全称Java Development Kit是Java的开发工具包。  </p><p>​C.JVM全称Java Virtual Machine是Java程序运行的载体,可以安装在不同的操作系统上,来运行Java程序。 </p><p>​D.一台计算机要能够执行java程序,必须同时安装JDK、JRE、JVM。 </p><hr><h5 id="2-8-单选-：-关于Java环境变量的配置说法错误的是"><a href="#2-8-单选-：-关于Java环境变量的配置说法错误的是" class="headerlink" title="2.8 (单选)： 关于Java环境变量的配置说法错误的是(  )"></a>2.8 (单选)： 关于Java环境变量的配置说法错误的是(  )</h5><p>​A.JAVA_HOME环境变量是Windows系统规定要配置的,不然Windows运行会不正常。</p><p>​B.JAVA_HOME写的应该是JDK安装的目录。 </p><p>​C.安装了JDK后,通常会配置JAVA_HOME环境变量,它的作用是让操作系统上的程序能够知道JDK安装的目录。 </p><p>​D.配置了JAVA_HOME后,需要把%JAVA_HOME%\bin配置到path路径下,并用”分号”和其他配置隔开。 </p><hr><h3 id="3-代码题"><a href="#3-代码题" class="headerlink" title="3 代码题"></a>3 代码题</h3><h4 id="3-1-请编写程序-将如下语句输出到屏幕上"><a href="#3-1-请编写程序-将如下语句输出到屏幕上" class="headerlink" title="3.1 请编写程序,将如下语句输出到屏幕上:"></a>3.1 请编写程序,将如下语句输出到屏幕上:</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Java是一门跨平台的计算机语言,被称为一次编写,处处运行。</span><br></pre></td></tr></table></figure><h5 id="3-1-1-思路分析："><a href="#3-1-1-思路分析：" class="headerlink" title="3.1.1 思路分析："></a>3.1.1 思路分析：</h5><p>​1.创建java文件。</p><p>​2.编写类,用于完成该程序。</p><p>​3.程序的运行需要主方法,编写主方法。</p><p>​4.该使用什么语句将题目中的文本输出?</p><p>​5.该怎样编译和运行java文件?</p><h5 id="3-1-2-参考步骤："><a href="#3-1-2-参考步骤：" class="headerlink" title="3.1.2 参考步骤："></a>3.1.2 参考步骤：</h5><p>​1.新建文本文件,将名称修改为Test01.java。注意显示文件的后缀名,防止出现Test01.java.txt的文件名。</p><p>​2.打开文件,编写代码,先定义一个类Test01,类名需要与文件名一致。注意大小写。</p><p>​3.在类中定义主方法,在主方法中编写输出语句,将题目中的文本用双引号包裹。</p><p>​4.保存文件内容。打开cmd窗口,将命令目录切换至文件所在目录。使用javac命令编译java文件,使用java命令运行class文件,查看结果。注意:编译java文件,需要带后缀名;运行class文件,不需后缀名。</p><h5 id="3-1-3-答案："><a href="#3-1-3-答案：" class="headerlink" title="3.1.3 答案："></a>3.1.3 答案：</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(在此处写答案即可)</span><br></pre></td></tr></table></figure><hr><h4 id="3-2-常量是指在程序运行过程中-其值不可以发生改变的量-请编写Java程序-分别将下列常量数据打印到屏幕上。"><a href="#3-2-常量是指在程序运行过程中-其值不可以发生改变的量-请编写Java程序-分别将下列常量数据打印到屏幕上。" class="headerlink" title="3.2 常量是指在程序运行过程中,其值不可以发生改变的量,请编写Java程序,分别将下列常量数据打印到屏幕上。"></a>3.2 常量是指在程序运行过程中,其值不可以发生改变的量,请编写Java程序,分别将下列常量数据打印到屏幕上。</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">字符串常量:用双引号括起来的内容。<span class="string">&quot;HelloWorld&quot;</span>,<span class="string">&quot;黑马程序员&quot;</span> </span><br><span class="line">整数常量:不带小数的数字。<span class="number">666</span>, -<span class="number">88</span> </span><br><span class="line">小数常量:带小数的数字。<span class="number">13.14</span>, -<span class="number">5.21</span> </span><br><span class="line">字符常量:用单引号括起来的内容。<span class="string">&#x27;A&#x27;</span>,<span class="string">&#x27;0&#x27;</span>,<span class="string">&#x27;我&#x27;</span> </span><br><span class="line">布尔常量:布尔值,表示真假。只有两个值：<span class="literal">true</span>,<span class="literal">false</span> </span><br><span class="line">空常量:一个特殊的值,空值,<span class="literal">null</span>(<span class="literal">null</span>值可以直接在输出语句打印吗)</span><br></pre></td></tr></table></figure><h5 id="3-2-1-思路分析："><a href="#3-2-1-思路分析：" class="headerlink" title="3.2.1 思路分析："></a>3.2.1 思路分析：</h5><p>​1.创建java文件。</p><p>​2.编写类,用于完成该程序。</p><p>​3.程序的运行需要主方法,编写主方法。</p><p>​4.该使用什么语句将题目中的常量输出?</p><p>​5.程序编写完成,该怎样编译和运行java文件?</p><h5 id="3-2-2-参考步骤："><a href="#3-2-2-参考步骤：" class="headerlink" title="3.2.2 参考步骤："></a>3.2.2 参考步骤：</h5><p>​1.新建文本文件,将名称修改为ConstantDemo.java。</p><p>​2.打开文件,编写代码,先定义一个类ConstantDemo,类名需要与文件名一致。注意大小写。</p><p>​3.在类中定义主方法,在主方法中编写多个输出语句,在输出语句中直接输出常量即可。</p><p>​4.保存文件内容。打开cmd窗口,将命令目录切换至文件所在目录。使用javac命令编译java文件,使用java命令运行class文件,查看结果。注意:编译java文件,需要带后缀名;运行class文件,不需后缀名。</p><h5 id="3-2-3-答案："><a href="#3-2-3-答案：" class="headerlink" title="3.2.3 答案："></a>3.2.3 答案：</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(在此处写答案即可)</span><br></pre></td></tr></table></figure><hr><h4 id="3-3-有一个商品的信息如下图："><a href="#3-3-有一个商品的信息如下图：" class="headerlink" title="3.3 有一个商品的信息如下图："></a>3.3 有一个商品的信息如下图：</h4><p><img src="/img/1.png"></p><p>a. 请定义一个合适的变量存储它的价格，然后通过输出语句将商品的价格打印出来</p><p>b. 因为公司四季度财报不及预期，准备对该商品进行优惠处理，在原价格的基础上打7折，请再次通过输出语句打印变量，但是这次显示的是打7折后的价格 </p><p>c. 由于7折处理，销量猛增加，业绩有所好转，准备再次调价，在7折后的基础上 + 1000，然后再次通过输出语句输出变量的值</p>]]></content>
      
      
      <categories>
          
          <category> 传智实训作业 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>消息推送</title>
      <link href="/3100918948.html"/>
      <url>/3100918948.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><a href="https://jucore.notion.site/e48820d7a5174c19bc28bf56df6ae5c7">https://jucore.notion.site/e48820d7a5174c19bc28bf56df6ae5c7</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>linux 搭建qq机器人</title>
      <link href="/1082586999.html"/>
      <url>/1082586999.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>这里使用 uname -a 查看系统架构</p><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><h3 id="创建文件夹并进入"><a href="#创建文件夹并进入" class="headerlink" title="创建文件夹并进入"></a>创建文件夹并进入</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> go-cqhttp &amp;&amp; <span class="built_in">cd</span> go-cqhttp  </span><br></pre></td></tr></table></figure><h3 id="go-cqhttp官方地址"><a href="#go-cqhttp官方地址" class="headerlink" title="go-cqhttp官方地址"></a>go-cqhttp官方地址</h3><pre><code> https://github.com/Mrs4s/go-cqhttp/releases</code></pre><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https://github.com/Mrs4s/go-cqhttp/releases/download/v1.0.0-rc5/go-cqhttp_linux_amd64.tar.gz   # 官网有新版本 自取哦 改版号与系统版本</span><br></pre></td></tr></table></figure><h3 id="解压-go-cqhttp"><a href="#解压-go-cqhttp" class="headerlink" title="解压 go-cqhttp"></a>解压 go-cqhttp</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar xvf go-cqhttp_linux_amd64.tar.gz</span><br></pre></td></tr></table></figure><h3 id="启动-go-cqhttp"><a href="#启动-go-cqhttp" class="headerlink" title="启动 go-cqhttp"></a>启动 go-cqhttp</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./go-cqhttp <span class="comment">#第一次会自动生成一些文件 运行有提示哦</span></span><br></pre></td></tr></table></figure><h3 id="后台启动-go-cqhttp"><a href="#后台启动-go-cqhttp" class="headerlink" title="后台启动 go-cqhttp"></a>后台启动 go-cqhttp</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nohup ./go-cqhttp &amp;</span><br></pre></td></tr></table></figure><p>会生成一个out的日志文件<br><img src="/images/pasted-30.png" alt="upload successful"></p><h2 id="ps-其他"><a href="#ps-其他" class="headerlink" title="ps:其他"></a>ps:其他</h2><h3 id="1-wget下载太慢了"><a href="#1-wget下载太慢了" class="headerlink" title="1.wget下载太慢了"></a>1.wget下载太慢了</h3><pre><code>其实只要这个文件运行就好了，你可以直接从github 下载</code></pre><p><img src="/images/pasted-31.png" alt="upload successful"></p><h3 id="2-登不上"><a href="#2-登不上" class="headerlink" title="2.登不上"></a>2.登不上</h3><pre><code>改成watch协议 在device.json 中修改 &quot;protocol&quot;:2 </code></pre><p>    </p><h3 id="3-config-yml-配置文件"><a href="#3-config-yml-配置文件" class="headerlink" title="3.config.yml 配置文件"></a>3.config.yml 配置文件</h3>  <figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># go-cqhttp 默认配置文件</span></span><br><span class="line"></span><br><span class="line"><span class="attr">account:</span> <span class="comment"># 账号相关</span></span><br><span class="line">  <span class="attr">uin:</span> <span class="number">3304582965</span> <span class="comment"># QQ账号</span></span><br><span class="line">  <span class="attr">password:</span> <span class="string">&#x27;&#x27;</span> <span class="comment"># 密码为空时使用扫码登录</span></span><br><span class="line">  <span class="attr">encrypt:</span> <span class="literal">false</span>  <span class="comment"># 是否开启密码加密</span></span><br><span class="line">  <span class="attr">status:</span> <span class="number">0</span>      <span class="comment"># 在线状态 请参考 https://docs.go-cqhttp.org/guide/config.html#在线状态</span></span><br><span class="line">  <span class="attr">relogin:</span> <span class="comment"># 重连设置</span></span><br><span class="line">    <span class="attr">delay:</span> <span class="number">3</span>   <span class="comment"># 首次重连延迟, 单位秒</span></span><br><span class="line">    <span class="attr">interval:</span> <span class="number">3</span>   <span class="comment"># 重连间隔</span></span><br><span class="line">    <span class="attr">max-times:</span> <span class="number">0</span>  <span class="comment"># 最大重连次数, 0为无限制</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># 是否使用服务器下发的新地址进行重连</span></span><br><span class="line">  <span class="comment"># 注意, 此设置可能导致在海外服务器上连接情况更差</span></span><br><span class="line">  <span class="attr">use-sso-address:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># 是否允许发送临时会话消息</span></span><br><span class="line">  <span class="attr">allow-temp-session:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="attr">heartbeat:</span></span><br><span class="line">  <span class="comment"># 心跳频率, 单位秒</span></span><br><span class="line">  <span class="comment"># -1 为关闭心跳</span></span><br><span class="line">  <span class="attr">interval:</span> <span class="number">5</span></span><br><span class="line"></span><br><span class="line"><span class="attr">message:</span></span><br><span class="line">  <span class="comment"># 上报数据类型</span></span><br><span class="line">  <span class="comment"># 可选: string,array</span></span><br><span class="line">  <span class="attr">post-format:</span> <span class="string">string</span></span><br><span class="line">  <span class="comment"># 是否忽略无效的CQ码, 如果为假将原样发送</span></span><br><span class="line">  <span class="attr">ignore-invalid-cqcode:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># 是否强制分片发送消息</span></span><br><span class="line">  <span class="comment"># 分片发送将会带来更快的速度</span></span><br><span class="line">  <span class="comment"># 但是兼容性会有些问题</span></span><br><span class="line">  <span class="attr">force-fragment:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># 是否将url分片发送</span></span><br><span class="line">  <span class="attr">fix-url:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># 下载图片等请求网络代理</span></span><br><span class="line">  <span class="attr">proxy-rewrite:</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line">  <span class="comment"># 是否上报自身消息</span></span><br><span class="line">  <span class="attr">report-self-message:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># 移除服务端的Reply附带的At</span></span><br><span class="line">  <span class="attr">remove-reply-at:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># 为Reply附加更多信息</span></span><br><span class="line">  <span class="attr">extra-reply-data:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># 跳过 Mime 扫描, 忽略错误数据</span></span><br><span class="line">  <span class="attr">skip-mime-scan:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># 是否自动转换 WebP 图片</span></span><br><span class="line">  <span class="attr">convert-webp-image:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="attr">output:</span></span><br><span class="line">  <span class="comment"># 日志等级 trace,debug,info,warn,error</span></span><br><span class="line">  <span class="attr">log-level:</span> <span class="string">warn</span></span><br><span class="line">  <span class="comment"># 日志时效 单位天. 超过这个时间之前的日志将会被自动删除. 设置为 0 表示永久保留.</span></span><br><span class="line">  <span class="attr">log-aging:</span> <span class="number">15</span></span><br><span class="line">  <span class="comment"># 是否在每次启动时强制创建全新的文件储存日志. 为 false 的情况下将会在上次启动时创建的日志文件续写</span></span><br><span class="line">  <span class="attr">log-force-new:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># 是否启用日志颜色</span></span><br><span class="line">  <span class="attr">log-colorful:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># 是否启用 DEBUG</span></span><br><span class="line">  <span class="attr">debug:</span> <span class="literal">false</span> <span class="comment"># 开启调试模式</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 默认中间件锚点</span></span><br><span class="line"><span class="attr">default-middlewares:</span> <span class="meta">&amp;default</span></span><br><span class="line">  <span class="comment"># 访问密钥, 强烈推荐在公网的服务器设置</span></span><br><span class="line">  <span class="attr">access-token:</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line">  <span class="comment"># 事件过滤器文件目录</span></span><br><span class="line">  <span class="attr">filter:</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line">  <span class="comment"># API限速设置</span></span><br><span class="line">  <span class="comment"># 该设置为全局生效</span></span><br><span class="line">  <span class="comment"># 原 cqhttp 虽然启用了 rate_limit 后缀, 但是基本没插件适配</span></span><br><span class="line">  <span class="comment"># 目前该限速设置为令牌桶算法, 请参考:</span></span><br><span class="line">  <span class="comment"># https://baike.baidu.com/item/%E4%BB%A4%E7%89%8C%E6%A1%B6%E7%AE%97%E6%B3%95/6597000?fr=aladdin</span></span><br><span class="line">  <span class="attr">rate-limit:</span></span><br><span class="line">    <span class="attr">enabled:</span> <span class="literal">false</span> <span class="comment"># 是否启用限速</span></span><br><span class="line">    <span class="attr">frequency:</span> <span class="number">1</span>  <span class="comment"># 令牌回复频率, 单位秒</span></span><br><span class="line">    <span class="attr">bucket:</span> <span class="number">1</span>     <span class="comment"># 令牌桶大小</span></span><br><span class="line"></span><br><span class="line"><span class="attr">database:</span> <span class="comment"># 数据库相关设置</span></span><br><span class="line">  <span class="attr">leveldb:</span></span><br><span class="line">    <span class="comment"># 是否启用内置leveldb数据库</span></span><br><span class="line">    <span class="comment"># 启用将会增加10-20MB的内存占用和一定的磁盘空间</span></span><br><span class="line">    <span class="comment"># 关闭将无法使用 撤回 回复 get_msg 等上下文相关功能</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">sqlite3:</span></span><br><span class="line">    <span class="comment"># 是否启用内置sqlite3数据库</span></span><br><span class="line">    <span class="comment"># 启用将会增加一定的内存占用和一定的磁盘空间</span></span><br><span class="line">    <span class="comment"># 关闭将无法使用 撤回 回复 get_msg 等上下文相关功能</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">    <span class="attr">cachettl:</span> <span class="number">3600000000000</span> <span class="comment"># 1h</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 连接服务列表</span></span><br><span class="line"><span class="attr">servers:</span></span><br><span class="line">  <span class="comment"># 添加方式，同一连接方式可添加多个，具体配置说明请查看文档</span></span><br><span class="line">  <span class="comment">#- http: # http 通信</span></span><br><span class="line">  <span class="comment">#- ws:   # 正向 Websocket</span></span><br><span class="line">  <span class="comment">#- ws-reverse: # 反向 Websocket</span></span><br><span class="line">  <span class="comment">#- pprof: #性能分析服务器</span></span><br><span class="line"></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">http:</span> <span class="comment"># HTTP 通信设置</span></span><br><span class="line">      <span class="attr">address:</span> <span class="number">0.0</span><span class="number">.0</span><span class="number">.0</span><span class="string">:5701</span> <span class="comment"># HTTP监听地址</span></span><br><span class="line">      <span class="attr">version:</span> <span class="number">11</span>     <span class="comment"># OneBot协议版本, 支持 11/12</span></span><br><span class="line">      <span class="attr">timeout:</span> <span class="number">5</span>      <span class="comment"># 反向 HTTP 超时时间, 单位秒，&lt;5 时将被忽略</span></span><br><span class="line">      <span class="attr">long-polling:</span>   <span class="comment"># 长轮询拓展</span></span><br><span class="line">        <span class="attr">enabled:</span> <span class="literal">false</span>       <span class="comment"># 是否开启</span></span><br><span class="line">        <span class="attr">max-queue-size:</span> <span class="number">2000</span> <span class="comment"># 消息队列大小，0 表示不限制队列大小，谨慎使用</span></span><br><span class="line">      <span class="attr">middlewares:</span></span><br><span class="line">        <span class="string">&lt;&lt;:</span> <span class="string">*default</span> <span class="comment"># 引用默认中间件</span></span><br><span class="line">      <span class="attr">post:</span>           <span class="comment"># 反向HTTP POST地址列表</span></span><br><span class="line">      <span class="comment">#- url: &#x27;&#x27;                # 地址</span></span><br><span class="line">      <span class="comment">#  secret: &#x27;&#x27;             # 密钥</span></span><br><span class="line">      <span class="comment">#  max-retries: 3         # 最大重试，0 时禁用</span></span><br><span class="line">      <span class="comment">#  retries-interval: 1500 # 重试时间，单位毫秒，0 时立即</span></span><br><span class="line">      <span class="comment">#- url: http://127.0.0.1:5701/ # 地址</span></span><br><span class="line">      <span class="comment">#  secret: &#x27;&#x27;                  # 密钥</span></span><br><span class="line">      <span class="comment">#  max-retries: 10             # 最大重试，0 时禁用</span></span><br><span class="line">      <span class="comment">#  retries-interval: 1000      # 重试时间，单位毫秒，0 时立即</span></span><br><span class="line">  <span class="comment"># 反向WS设置</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">ws-reverse:</span></span><br><span class="line">      <span class="comment"># 反向WS Universal 地址</span></span><br><span class="line">      <span class="comment"># 注意 设置了此项地址后下面两项将会被忽略</span></span><br><span class="line">      <span class="attr">universal:</span> <span class="string">ws://127.0.0.1:8080/qq/receive</span></span><br><span class="line">      <span class="comment"># 反向WS API 地址</span></span><br><span class="line">      <span class="attr">api:</span> <span class="string">ws://your_websocket_api.server</span></span><br><span class="line">      <span class="comment"># 反向WS Event 地址</span></span><br><span class="line">      <span class="attr">event:</span> <span class="string">ws://your_websocket_event.server</span></span><br><span class="line">      <span class="comment"># 重连间隔 单位毫秒</span></span><br><span class="line">      <span class="attr">reconnect-interval:</span> <span class="number">3000</span></span><br><span class="line">      <span class="attr">middlewares:</span></span><br><span class="line">        <span class="string">&lt;&lt;:</span> <span class="string">*default</span> <span class="comment"># 引用默认中间件</span></span><br><span class="line"></span><br><span class="line">      <span class="comment"># nohup ./go-cqhttp &amp;  持久化命令</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>随身wifi 接线</title>
      <link href="/354767018.html"/>
      <url>/354767018.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>103s<br><img src="/images/pasted-29.png" alt="upload successful"></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>在 Docker 中运行 Mongodb</title>
      <link href="/3780234718.html"/>
      <url>/3780234718.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>sudo docker pull mongo</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo docker run -p 27017:27017 --name mongodb -d mongo</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>diy 手表</title>
      <link href="/968324232.html"/>
      <url>/968324232.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>github 开源链接：<a href="https://github.com/Forairaaaaa/Chappie-II">https://github.com/Forairaaaaa/Chappie-II</a></p><p><img src="/images/pasted-13.png" alt="upload successful"></p>]]></content>
      
      
      
        <tags>
            
            <tag> esp32 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Obsidian 黑曜石</title>
      <link href="/1631208811.html"/>
      <url>/1631208811.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script>]]></content>
      
      
      
        <tags>
            
            <tag> 笔记 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>时间管理大师</title>
      <link href="/4275632396.html"/>
      <url>/4275632396.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>人际关系</p><p>日程管理</p><p>知识学习</p><p>    周学习时间：2~4 小时<br>    方向：读书、长视频、论文    </p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>日历软件平替</title>
      <link href="/4141962399.html"/>
      <url>/4141962399.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><img src="/%5Cimages%5Cpasted-12.png" alt="upload successful"></p><p>有苹果自带的日历没必要折腾</p>]]></content>
      
      
      
        <tags>
            
            <tag> 日历软件 </tag>
            
            <tag> 日历 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>idea 实用小技巧</title>
      <link href="/1135954253.html"/>
      <url>/1135954253.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="快速建立for循坏"><a href="#快速建立for循坏" class="headerlink" title="快速建立for循坏"></a>快速建立for循坏</h3><p>    3.fori 直接建立一个3次for循坏</p><p><img src="/%5Cimages%5Cpasted-10.png" alt="upload successful"></p><h3 id="ctrl-d-向下复制一行"><a href="#ctrl-d-向下复制一行" class="headerlink" title="ctrl+d 向下复制一行"></a>ctrl+d 向下复制一行</h3><p>ctrl+d 向下复制一行</p>]]></content>
      
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>使用GitHub 搭建onedrive</title>
      <link href="/1863686818.html"/>
      <url>/1863686818.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><a href="https://www.qqmate.cn/2237.html">https://www.qqmate.cn/2237.html</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>字符串概述</title>
      <link href="/3119971640.html"/>
      <url>/3119971640.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>字符串拼接 只要有中文就会拼接在以前</p><p>例如 “123”+”我是字符串”&#x3D;”123我是字符串” &#x2F;&#x2F;这里产生一个新的字符串(新地址)</p><p>离谱的操作</p><p><img src="/images/pasted-9.png" alt="upload successful"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">equals方法(要比较的字符串) 完全一样结果才是true，否则为false</span><br><span class="line">equalslgnoreCase(要比较的字符串) 完全一样结果才是true，否则为false 忽略大小写的比较 (常用：验证码比较)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>file</title>
      <link href="/2359244304.html"/>
      <url>/2359244304.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><img src="/images/pasted-8.png" alt="upload successful"></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>青龙安装依赖或依赖缺失</title>
      <link href="/812602553.html"/>
      <url>/812602553.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>docker exec -it ql bash #ql为容器名根据自己容器修改<br>    <br>pip install moudle<br>缺什么就安装什么</p><p>一键安装脚本</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -fsSL          https://ghproxy.com/https://raw.githubusercontent.com/FlechazoPh/QLDependency/main/Shell/QLOneKeyDependency.sh | sh</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">1.NodeJs下</span><br><span class="line">NodeJs里面所需依赖 添加依赖—&gt;选择自动拆分，把以下内容全部复制到名称里，之后点击确定</span><br><span class="line">ts-md5</span><br><span class="line">@types/node</span><br><span class="line">prettytable</span><br><span class="line">node-telegram-bot-api</span><br><span class="line">tslib</span><br><span class="line">ql</span><br><span class="line">common</span><br><span class="line">fs</span><br><span class="line">typescript</span><br><span class="line">axios</span><br><span class="line">png-js</span><br><span class="line">axios</span><br><span class="line">ws@7.4.3</span><br><span class="line">crypto-js</span><br><span class="line">jieba</span><br><span class="line">global-agent</span><br><span class="line">jsdom -g</span><br><span class="line">moment</span><br><span class="line">form-data</span><br><span class="line">date-fns</span><br><span class="line">node-jsencrypt</span><br><span class="line">require</span><br><span class="line">js-base64</span><br><span class="line">tough-cookie</span><br><span class="line">json5</span><br><span class="line">jsdom</span><br><span class="line">dotenv</span><br><span class="line">qs</span><br><span class="line"></span><br><span class="line">2.Python3下</span><br><span class="line">Python3依赖 添加依赖—&gt;选择自动拆分，把以下内容全部复制到名称里，之后点击确定</span><br><span class="line">ping3</span><br><span class="line">canvas</span><br><span class="line">requests</span><br><span class="line">jieba</span><br><span class="line">PyExecJS</span><br><span class="line">httpx</span><br><span class="line"></span><br><span class="line">3.Linux下</span><br><span class="line">Linux依赖 添加依赖—&gt;选择自动拆分，把以下内容全部复制到名称里，之后点击确定</span><br><span class="line">lxml</span><br><span class="line">bizMsg</span><br><span class="line">bizCode</span><br><span class="line">gcc</span><br><span class="line">python-devel</span><br><span class="line">aiohttp</span><br><span class="line">magic</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 青龙维护指南 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 青龙 </tag>
            
            <tag> ql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux如何查看进程、杀死进程、启动进程等常用命令</title>
      <link href="/4004928447.html"/>
      <url>/4004928447.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>关键字: linux 查进程、杀进程、起进程<br>1.查进程<br>    ps命令查找与进程相关的PID号：<br>    ps a 显示现行终端机下的所有程序，包括其他用户的程序。<br>    ps -A 显示所有程序。<br>    ps c 列出程序时，显示每个程序真正的指令名称，而不包含路径，参数或常驻服务的标示。<br>    ps -e 此参数的效果和指定”A”参数相同。<br>    ps e 列出程序时，显示每个程序所使用的环境变量。<br>    ps f 用ASCII字符显示树状结构，表达程序间的相互关系。<br>    ps -H 显示树状结构，表示程序间的相互关系。<br>    ps -N 显示所有的程序，除了执行ps指令终端机下的程序之外。<br>    ps s 采用程序信号的格式显示程序状况。<br>    ps S 列出程序时，包括已中断的子程序资料。<br>    ps -t&lt;终端机编号&gt; 指定终端机编号，并列出属于该终端机的程序的状况。<br>    ps u 以用户为主的格式来显示程序状况。<br>    ps x 显示所有程序，不以终端机来区分。</p><pre><code>最常用的方法是ps aux,然后再通过管道使用grep命令过滤查找特定的进程,然后再对特定的进程进行操作。ps aux | grep program_filter_word,ps -ef |grep tomcat</code></pre><p>ps -ef|grep java|grep -v grep 显示出所有的java进程，去处掉当前的grep进程。</p><p>2.杀进程<br>   使用kill命令结束进程：kill xxx<br>   常用：kill －9 324<br>   Linux下还提供了一个killall命令，可以直接使用进程的名字而不是进程标识号，例如：# killall -9 NAME</p><p>3.进入到进程的执行文件所在的路径下，执行文件 .&#x2F;文件名</p><p>附：</p><p>这是本人花了两天时间整理得来的，一些最常用的地球人都知道的命令就省去啦！最后提供pdf手册下载</p><ol><li>更改档案拥有者<br>命令 : chown [-cfhvR] [–help] [–version] user[:group] file…<br>功能 : 更改文件或者文件夹的拥有者<br>参数格式 :<br>　　    user : 新的档案拥有者的使用者 IDgroup : 新的档案拥有者的使用者群体(group)<br>　　       -c : 若该档案拥有者确实已经更改，才显示其更改动作</li></ol><p>　　       -f : 若该档案拥有者无法被更改也不要显示错误讯息<br>　　       -h : 只对于连结(link)进行变更，而非该 link 真正指向的档案<br>　　       -v : 显示拥有者变更的详细资料<br>　       　-R : 对目前目录下的所有档案与子目录进行相同的拥有者变更(即以递回的方式逐个变更)</p><p>例如：chown -R oracle:oinstall &#x2F;oracle&#x2F;u01&#x2F;app&#x2F;oracle<br>      更改目录拥有者为oracle</p><ol start="2"><li>修改权限<br> 命令：chmod (change mode)<br> 功能：改变文件的读写和执行权限。有符号法和八进制数字法。<br> 选项：(1)符号法：<br>  命令格式：chmod {u|g|o|a}{+|-|&#x3D;}{r|w|x} filename<br>   u (user)   表示用户本人。<br>   g (group)  表示同组用户。<br>   o (oher)   表示其他用户。<br>   a (all)    表示所有用户。<br>   +          用于给予指定用户的许可权限。<br>   -          用于取消指定用户的许可权限。<br>   &#x3D;          将所许可的权限赋给文件。<br>   r (read)   读许可，表示可以拷贝该文件或目录的内容。<br>   w (write)  写许可，表示可以修改该文件或目录的内容。<br>   x (execute)执行许可，表示可以执行该文件或进入目录。<br><br>   (2)八进制数字法：</li></ol><p>  命令格式：chmod abc file<br>  其中a,b,c各为一个八进制数字，分别表示User、Group、及Other的权限。<br>          4 (100)    表示可读。<br>          2 (010)    表示可写。<br>          1 (001)    表示可执行。<br>  若要rwx属性则4+2+1&#x3D;7；<br>  若要rw-属性则4+2&#x3D;6；<br>  若要r-x属性则4+1&#x3D;5。</p><pre><code>例如：# chmod a+rx filename        让所有用户可以读和执行文件filename。      # chmod go-rx filename        取消同组和其他用户的读和执行文件filename的权限。      # chmod 741 filename        让本人可读写执行、同组用户可读、其他用户可执行文件filename。</code></pre><h1 id="chmod-R-755-home-oracle"><a href="#chmod-R-755-home-oracle" class="headerlink" title="chmod -R 755 &#x2F;home&#x2F;oracle"></a>chmod -R 755 &#x2F;home&#x2F;oracle</h1><pre><code>递归更改目录权限，本人可读写执行、同组用户可读可执行、其他用户可读可执行</code></pre><ol start="3"><li><p>修改文件日期<br> 命令：touch<br> 格式：touch filenae<br> 功能：改变文件的日期，不对文件的内容做改动，若文件不存在则建立新文件。<br> 例如：% touch file</p></li><li><p>链接文件<br> 命令：ln (link)<br> 格式：ln [option] filename linkname<br>   ln [option] directory pathname<br> 功能：为文件或目录建立一个链。其中，filename和directory是源文件名和<br>   源目录名；linkname和pathname分别表示与源文件或源目录名相链接的<br>   文件或目录。<br> 选项：-s  为文件或目录建立符号链接。不加-s表示为文件或目录建立硬链接<br> 注释：链接的目地在于，对一个文件或目录赋予两个以上的名字，使其可以出<br>   现在不同的目录中，既可以使文件或目录共享，又可以节省磁盘空间。<br> 例如：% ln -s filename linkname</p></li><li><p>显示日期<br> 命令：date<br> 例如：% date</p></li><li><p>显示日历<br> 命令：cal (calendar)<br> 格式：cal [month] year<br> 功能：显示某年内指定的日历<br> 例如：% cal 1998 </p></li><li><p>显示文件头部<br> 命令：head<br> 格式：head [option] filename<br> 功能：显示文件的头部<br> 选项：缺省  显示文件的头10行。<br>   -i    显示文件的开始 i行。<br> 例如：% head filename</p></li><li><p>显示文件尾部<br> 命令：tail<br> 格式：tail [option] filename<br> 功能：显示文件的尾部<br> 选项：缺省  显示文件的末10行。<br>   -i    显示文件最后 i行。<br>   +i    从文件的第i行开始显示。<br> 例如：% tail filename</p></li><li><p>显示用户标识<br> 命令：id<br> 格式：id [option] [user]<br> 功能：显示用户标识及用户所属的所有组。<br> 选项：-a 显示用户名、用户标识及用户所属的所有组<br> 注释：<br> 例如：% id username</p></li><li><p>查看当前登录的用户<br>命令：users</p></li><li><p>显示都谁登录到机器上<br>命令：who<br>格式：who<br>功能：显示当前正在系统中的所有用户名字，使用终端设备号，注册时间。<br>例如：% who</p></li><li><p>显示当前终端上的用户名<br>命令：whoami<br>格式：whoami<br>功能：显示出当前终端上使用的用户。<br>例如：% whoami</p></li><li><p>寻找文件<br>命令：find<br>格式：find pathname [option] expression<br>功能：在所给的路经名下寻找符合表达式相匹配的文件。<br>选项：-name     表示文件名<br>  -user     用户名，选取该用户所属的文件<br>  -size     按大小查找，以block为单位，一个block是512B<br>  -mtime n  按最后一次修改时间查找，选取n天内被修改的文件</p></li></ol><p>  -perm     按权限查找<br>          -type     按文件类型查找<br>  -atime    按最后一次访问时间查找</p><pre><code>例如：% find ./ -name &#39;*abc*&#39; -print</code></pre><ol start="14"><li><p>搜索文件中匹配符<br>命令：grep<br>格式：grep [option] pattern filenames<br>功能：逐行搜索所指定的文件或标准输入，并显示匹配模式的每一行。<br>选项：-i    匹配时忽略大小写<br>  -v 找出模式失配的行</p><p>例如：% grep -i ‘java*’ .&#x2F;test&#x2F;run.sh</p></li><li><p>统计文件字数<br>命令：wc [option] filename<br>功能：统计文件中的文件行数、字数和字符数。<br>选项：-l 统计文件的行数<br>-w 统计文件的单词数<br>-c 统计文件的字符数<br>注释：若缺省文件名则指标准输入<br>例如：% wc -c .&#x2F;test&#x2F;run.sh</p></li><li><p>显示磁盘空间<br>命令：df (disk free)<br>格式：df [option]<br>功能：显示磁盘空间的使用情况，包括文件系统安装的目录名、块设备名、总<br>  字节数、已用字节数、剩余字节数占用百分比。<br>选项：<br>-a：显示全部的档案系统和各分割区的磁盘使用情形<br>-i：显示i -nodes的使用量<br>-k：大小用k来表示 (默认值)<br>-t：显示某一个档案系统的所有分割区磁盘使用量<br>-x：显示不是某一个档案系统的所有分割区磁盘使用量<br>-T：显示每个分割区所属的档案系统名称<br>-h: 表示使用「Human-readable」的输出，也就是在档案系统大小使用 GB、MB 等易读的格式。<br>注释：<br>例如：% df -hi</p></li><li><p>查询档案或目录的磁盘使用空间<br>命令：du (disk usage)<br>格式：du [option] [filename]<br>功能：以指定的目录下的子目录为单位，显示每个目录内所有档案所占用的磁盘空间大小<br>选项：<br>-a：显示全部目录和其次目录下的每个档案所占的磁盘空间<br>-b：大小用bytes来表示 (默认值为k bytes)<br>-c：最后再加上总计 (默认值)<br>-s：只显示各档案大小的总合<br>-x：只计算同属同一个档案系统的档案<br>-L：计算所有的档案大小<br>-h: 表示档案系统大小使用 GB、MB 等易读的格式。<br>例如：% du -a<br>% du -sh &#x2F;etc 只显示该目录的总合<br>% du &#x2F;etc | sort -nr | more 统计结果用sort 指令进行排序，<br>sort 的参数 -nr 表示要以数字排序法进行反向排序。</p></li><li><p>显示进程<br>命令：ps<br>格式：ps [option]<br>功能：显示系统中进程的信息。包括进程ID、控制进程终端、执行时间和命令。<br>选项：<br>  -a 显示所有进程信息<br>  -U uidlist 列出这个用户的所有进程<br>  -e 显示当前运行的每一个进程信息<br>  -f 显示一个完整的列表</p></li></ol><p>  -x 显示包括没有终端控制的进程状况 。<br>    注释：<br>    例如：% ps -ef<br>  % ps -aux 然后再利用一个管道符号导向到grep去查找特定的进程,然后再对特定的进程进行操作。</p><ol start="19"><li><p>终止进程<br>命令：kill<br>格式：kill [option] pid<br>功能：向指定的进程送信号或终止进程。kill指令的用途是送一个signal给某一个process，<br>因为大部份送的都是用来杀掉 process 的 SIGKILL 或 SIGHUP ，因此称为 kill<br>选项：-9  强行终止进程<br>注释：pid标示进程号，可由ps命令得到。<br>例如：% kill -9 pid<br>你也可以用 kill -l 来察看可代替 signal 号码的数目字。kill 的详细情形请参阅 man kill。</p></li><li><p>查看自己的IP地址<br>命令：ifconfig<br>格式：ifconfig -a</p></li><li><p>查看路由表<br>命令：netstat<br>格式：netstat -rn</p></li><li><p>远程登录<br>命令：telnet<br>格式：telnet hostname</p></li><li><p>文件传输<br>命令：ftp (file transfer program)<br>格式：ftp hostname<br>功能：网络文件传输及远程操作。<br>选项：ftp命令：<br>   cd [dirname]  进入远程机的目录<br>   lcd [dirname] 设置本地机的目录<br>   dir&#x2F;ls        显示远程的目录文件<br>   bin           以二进制方式进行传输</p></li></ol><p>   asc           以文本文件方式进行传输<br>           get&#x2F;mget      从远程机取一个或多个文件<br>           put&#x2F;mput      向远程机送一个或多个文件<br>           prompt        打开或关闭多个文件传送时的交互提示<br>           close         关闭与远程机的连接<br>           quit          退出ftp<br>   !&#x2F;exit ftp登陆状态下，!表示暂时退出ftp状态回到本地目录，exit表示返回ftp状态<br>    注释：<br>    例如：% ftp hostname</p><ol start="24"><li>查看自己的电子邮件<br>命令：mailx<br>格式：mailx<br>选项：<br>delete  删除<br>next    下一个</li></ol><p>quit    退出<br>         reply   回复   </p><ol start="25"><li><p>回忆命令<br>命令：history<br>格式：history<br>功能：帮助用户回忆执行过的命令。<br>选项：<br>注释：<br>例如：% history</p></li><li><p>网上对话<br>命令：talk<br>格式：talk username<br>功能：在网上与另一用户进行对话。<br>选项：<br>注释：对话时系统把终端分为上下两部分，上半部显示自己键入信息，下半部<br>  显示对方用户键入的信息。键入delete或Ctrl+C则结束对话。<br>例如：% talk username</p></li><li><p>允许或拒绝接受信息<br>命令：mesg (message)<br>格式：mesg [n&#x2F;y]<br>功能：允许或拒绝其它用户向自己所用的终端发送信息。<br>选项：n 拒绝其它用户向自己所用的终端写信息<br>  y 允许其它用户向自己所用的终端写信息（缺省值）<br>注释：<br>例如：% mesg n</p></li><li><p>给其他用户写信息<br>命令：write<br>格式：write username [ttyname]<br>功能：给其他用户的终端写信息。<br>选项：<br>注释：若对方没有拒绝，两用户可进行交谈，键入EOF或Ctrl+C则结束对话。<br>例如：write username</p></li><li><p>创建、修改、删除用户和群组<br>a. 创建群组：<br>例如： groupadd oinstall    创建群组名为oinstall的组<br>groupadd -g 344 dba<br>创建组号是344的组，此时在&#x2F;etc&#x2F;passwd文件中产生一个组ID（GID）是344的项目。<br>b. 修改群组：<br>groupmod:该命令用于改变用户组帐号的属性<br>groupmod –g 新的GID 用户组帐号名<br>groupmod –n 新组名 原组名：此命令由于改变用户组的名称</p><p>c. 删除群组：</p></li></ol><p>groupdel 组名：该命令用于删除指定的组帐号</p><pre><code>d. 新建用户：</code></pre><p>命令： useradd [－d home] [－s shell] [－c comment] [－m [－k template]]<br>[－f inactive] [－e expire ] [－p passwd] [－r] name<br>主要参数<br>-c：加上备注文字，备注文字保存在passwd的备注栏中。　<br>-d：指定用户登入时的启始目录。<br>-D：变更预设值。<br>-e：指定账号的有效期限，缺省表示永久有效。<br>-f：指定在密码过期后多少天即关闭该账号。<br>-g：指定用户所属的群组。<br>-G：指定用户所属的附加群组。<br>-m：自动建立用户的登入目录。<br>-M：不要自动建立用户的登入目录。<br>-n：取消建立以用户名称为名的群组。<br>-r：建立系统账号。<br>-s：指定用户登入后所使用的shell。<br>-u：指定用户ID号。</p><p>举例： # useradd -g oinstall -G dba oracle  创建Oracle用户</p><pre><code>e. 删除用户</code></pre><p>命令： userdel 用户名<br>删除指定的用户帐号<br>userdel –r 用户名(userdel 用户名;rm 用户名)：删除指定的用户帐号及宿主目录<br>例：#useradd -g root kkk &#x2F;&#x2F;把kkk用户加入root组里</p><pre><code>f. 修改用户</code></pre><p>命令： usermod<br>修改已有用户的信息<br>usermod –l 旧用户名 新用户名： 修改用户名<br>usermod –L 用户名： 用于锁定指定用户账号，使其不能登陆系统<br>usermod –U 用户名： 对锁定的用户帐号进行解锁<br>passwd –d 用户名： 使帐号无口令，即用户不需要口令就能登录系统<br>例：#usermod -l user2 user1 &#x2F;&#x2F;把用户user2改名为user1</p><ol start="30"><li><p>启动、关闭防火墙<br>永久打开或则关闭<br>chkconfig iptables on<br>chkconfig iptables off<br>即时生效：重启后还原<br>service iptables start<br>service iptables stop<br> 或者：<br>&#x2F;etc&#x2F;init.d&#x2F;iptables start<br>&#x2F;etc&#x2F;init.d&#x2F;iptables stop</p></li><li><p>启动VSFTP服务<br>即时启动： &#x2F;etc&#x2F;init.d&#x2F;vsftpd start<br>即时停止： &#x2F;etc&#x2F;init.d&#x2F;vsftpd stop</p></li></ol><p>开机默认VSFTP服务自动启动:<br>方法一:(常用\方便)<br>[root@localhost etc]# chkconfig –list|grep vsftpd ( 查看情况)<br>vsftpd          0:off   1:off   2:off   3:off   4:off   5:off   6:off<br>[root@localhost etc]# chkconfig vsftpd on  (执行ON设置)<br>或者:方法二:<br>修改文件 &#x2F;etc&#x2F;rc.local , 把行&#x2F;usr&#x2F;local&#x2F;sbin&#x2F;vsftpd &amp; 插入文件中，以实现开机自动启动。</p><ol start="32"><li>vi技巧<br>a. 进入输入模式<br>新增 (append)<br>a ：从光标所在位置後面开始新增资料，光标後的资料随新增资料向後移动。<br>A：从光标所在列最後面的地方开始新增资料。</li></ol><p>插入 (insert)<br>i：从光标所在位置前面开始插入资料，光标後的资料随新增资料向後移动。<br>I ：从光标所在列的第一个非空白字元前面开始插入资料。</p><p>开始 (open)<br>o ：在光标所在列下新增一列并进入输入模式。<br>O: 在光标所在列上方新增一列并进入输入模式。<br>b. 退出vi<br>在指令模式下键入:q,:q!,:wq或:x(注意:号），就会退出vi。其中:wq和:x是存盘退出，而:q是直接退出，如果文件已有新的变化，vi会提示你保存文件而:q命令也会失效，这时你可以用:w命令保存文件后再用:q 退出，或用:wq或:x命令退出，如果你不想保存改变后的文件，你就需要用:q!命令，这个命令将不保存文件而直接退出vi。</p><p>c. 删除与修改文件的命令：<br>x：删除光标所在字符。<br>dd ：删除光标所在的列。<br>r ：修改光标所在字元，r 後接著要修正的字符。<br>R：进入取替换状态，新增文字会覆盖原先文字，直到按 [ESC] 回到指令模式下为止。<br>s：删除光标所在字元，并进入输入模式。<br>S：删除光标所在的列，并进入输入模式。</p><p>d. 屏幕翻滚类命令<br>Ctrl+u: 向文件首翻半屏<br>Ctrl+d: 向文件尾翻半屏<br>Ctrl+f: 向文件尾翻一屏<br>Ctrl＋b: 向文件首翻一屏<br>nz: 将第n行滚至屏幕顶部，不指定n时将当前行滚至屏幕顶部。</p><p>e. 删除命令<br>ndw或ndW: 删除光标处开始及其后的n-1个字<br>do: 删至行首<br>d$: 删至行尾<br>ndd: 删除当前行及其后n-1行<br>x或X: 删除一个字符，x删除光标后的，而X删除光标前的<br>Ctrl+u: 删除输入方式下所输入的文本</p><p>f. 搜索及替换命令<br>&#x2F;pattern: 从光标开始处向文件尾搜索pattern<br>?pattern: 从光标开始处向文件首搜索pattern<br>n: 在同一方向重复上一次搜索命令<br>N: 在反方向上重复上一次搜索命令<br>:s&#x2F;p1&#x2F;p2&#x2F;g: 将当前行中所有p1均用p2替代<br>:n1,n2s&#x2F;p1&#x2F;p2&#x2F;g: 将第n1至n2行中所有p1均用p2替代<br>:g&#x2F;p1&#x2F;s&#x2F;&#x2F;p2&#x2F;g: 将文件中所有p1均用p2替换</p><p>g. 复制，黏贴<br>(1) 选定文本块，使用v进入可视模式；移动光标键选定内容<br>(2) 复制选定块到缓冲区，用y；复制整行，用yy<br>(3) 剪切选定块到缓冲区，用d；剪切整行用dd<br>(4) 粘贴缓冲区中的内容，用p</p><p>h. 其他<br>在同一编辑窗打开第二个文件，用:sp [filename]<br>在多个编辑文件之间切换，用Ctrl+w</p>]]></content>
      
      
      <categories>
          
          <category> linux维护指南 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
            <tag> 进程 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>中国联通宽带</title>
      <link href="/330016552.html"/>
      <url>/330016552.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>摄像头 价格199 型号vs302 优惠券70<br>路由器 价格399 型号vs010 优惠券190</p><p>大王卡宽带收费标准：大王卡宽带收费标准是王卡宽带业务分为：大王卡宽带业务和天地王卡宽带业务。大王卡宽带：腾讯大王卡基础套餐费19元&#x2F;月，宽带日租1元&#x2F;天，每月最低消费5元，网速100M。天地王卡宽带：地王卡宽带：腾讯地王卡基础套餐费39元&#x2F;月，宽带月租10元&#x2F;月，网速100M。腾讯天王卡基础套餐费59元&#x2F;月，宽带月租10元&#x2F;月，网速200M。</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>java-b 基础</title>
      <link href="/524913262.html"/>
      <url>/524913262.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="方法的重载"><a href="#方法的重载" class="headerlink" title="方法的重载"></a>方法的重载</h3><pre><code>- 在同一个类中，定义了多个同名的方法，这些同名的方法具有同种的功能。- 每个方法具有不同的参数类型或参数个数，这些同名的方法，就构成了重载关系</code></pre> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">//案例 重载</span><br><span class="line">public class MethdDemo &#123;</span><br><span class="line">    public static void fn(int a)&#123;</span><br><span class="line">        //方法体</span><br><span class="line">   &#125;</span><br><span class="line">   public static void fn(int a，int b)&#123;</span><br><span class="line">        //方法体</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="数组遍历"><a href="#数组遍历" class="headerlink" title="数组遍历"></a>数组遍历</h3><h4 id="数组最大值"><a href="#数组最大值" class="headerlink" title="数组最大值"></a>数组最大值</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 求最大值</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">        <span class="comment">//定义数组</span></span><br><span class="line">      <span class="type">int</span>[] arr=&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">66</span>,<span class="number">33</span>&#125;;</span><br><span class="line">      <span class="type">int</span> max=<span class="number">0</span>;</span><br><span class="line">      <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;arr.length;i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(arr[i]&gt;max)&#123;</span><br><span class="line">            max=arr[i];</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      System.out.println(max);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="实现数组反转"><a href="#实现数组反转" class="headerlink" title="实现数组反转"></a>实现数组反转</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">       <span class="type">int</span> arr[] = &#123;<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">9</span>&#125;;</span><br><span class="line">       <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i &lt; arr.length/<span class="number">2</span>;i++)&#123;</span><br><span class="line">           <span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span> arr[i];</span><br><span class="line">           arr[i] = arr[arr.length-<span class="number">1</span>-i];</span><br><span class="line">           arr[arr.length-<span class="number">1</span>-i] = temp;</span><br><span class="line">       &#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">      <span class="type">int</span> arr[] = &#123;<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">9</span>&#125;;</span><br><span class="line">      <span class="type">int</span> <span class="variable">s</span> <span class="operator">=</span> <span class="number">0</span>;   </span><br><span class="line">        <span class="type">int</span> <span class="variable">e</span> <span class="operator">=</span> arr.length - <span class="number">1</span>;  <span class="comment">// 最右边的索引</span></span><br><span class="line">        <span class="keyword">while</span> (s &lt; e) &#123;</span><br><span class="line">            <span class="comment">// 循环中，交换元素</span></span><br><span class="line">            <span class="comment">// 定义一个临时变量</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span> arr[s];  </span><br><span class="line">            arr[s] = arr[e];     </span><br><span class="line">            arr[e] = temp;</span><br><span class="line">            s++;</span><br><span class="line">            e--;</span><br><span class="line">        &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">int</span> arr[] = &#123;<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">9</span>&#125;;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">s</span> <span class="operator">=</span> <span class="number">0</span>,e = arr.length-<span class="number">1</span>; s &lt; e; s++,e--) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span> arr[s];   </span><br><span class="line">            arr[s] = arr[e];   </span><br><span class="line">            arr[e] = temp;</span><br><span class="line">        &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><h4 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h4><figure class="highlight java"><figcaption><span>创建一个长度10的数组，将10个1-20之间的随机数存入数组中，要求数组中的元素不能重复，再创建一个新数组，将原数组中元素为奇数全部在左边，偶数全部在右边</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span>[] arr = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">10</span>];</span><br><span class="line"><span class="type">boolean</span>[] used = <span class="keyword">new</span> <span class="title class_">boolean</span>[<span class="number">21</span>]; <span class="comment">// 用于记录数字是否已经被使用，索引 0 不使用</span></span><br><span class="line"><span class="type">Random</span> <span class="variable">ro</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Random</span>();</span><br><span class="line"><span class="type">int</span> number;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; arr.length; i++) &#123;</span><br><span class="line"><span class="keyword">do</span> &#123;</span><br><span class="line">number = ro.nextInt(<span class="number">20</span>) + <span class="number">1</span>;</span><br><span class="line">&#125; <span class="keyword">while</span> (used[number]); <span class="comment">// 如果数字已经被使用，则重新生成</span></span><br><span class="line">arr[i] = number;</span><br><span class="line">used[number] = <span class="literal">true</span>; <span class="comment">// 标记数字已被使用</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> num : arr) &#123;</span><br><span class="line">System.out.print(num+<span class="string">&quot;\t&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">System.out.println(<span class="string">&quot; &quot;</span>);</span><br><span class="line"><span class="type">int</span> <span class="variable">s</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">e</span> <span class="operator">=</span> arr.length - <span class="number">1</span>;  <span class="comment">// 最右边的索引</span></span><br><span class="line"><span class="keyword">while</span> (s &lt; e) &#123;</span><br><span class="line"><span class="comment">// 循环中，交换元素</span></span><br><span class="line"><span class="keyword">while</span> (s &lt; e &amp;&amp; arr[s]%<span class="number">2</span>==<span class="number">0</span>)&#123;</span><br><span class="line">s++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">while</span> (s &lt; e &amp;&amp; arr[e]%<span class="number">2</span>!=<span class="number">0</span> )&#123;</span><br><span class="line">e--;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(s &lt; e)&#123;</span><br><span class="line"><span class="comment">// 定义一个临时变量</span></span><br><span class="line"><span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span> arr[s];</span><br><span class="line">arr[s] = arr[e];</span><br><span class="line">arr[e] = temp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> num : arr) &#123;</span><br><span class="line">System.out.print(num+<span class="string">&quot;\t&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><figcaption><span>创建一个长度10的数组，将10个1-20之间的随机数存入数组中，要求数组中的元素不能重复，再创建一个新数组，将原数组中元素为奇数全部在左边，偶数全部在右边</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span>[] arr=<span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">10</span>];</span><br><span class="line">Random ro=<span class="keyword">new</span> <span class="title class_">Random</span>();</span><br><span class="line"><span class="type">boolean</span> isUnique=<span class="literal">true</span>;</span><br><span class="line"><span class="type">int</span> number;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;arr.length;i++)&#123;</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">        number=ro.nextInt(<span class="number">20</span>)+<span class="number">1</span>;</span><br><span class="line">        isUnique = <span class="literal">true</span>; <span class="comment">// 假设生成的数是唯一的</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; i; j++) &#123; <span class="comment">// 检查是否与前面的数重复</span></span><br><span class="line">            <span class="keyword">if</span> (arr[j] == number) &#123;</span><br><span class="line">                isUnique = <span class="literal">false</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">while</span> (!isUnique); <span class="comment">// 如果生成的数不唯一，则重新生成</span></span><br><span class="line">    arr[i] = number;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> num:arr) &#123;</span><br><span class="line">    System.out.print(num+<span class="string">&quot;\t&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">System.out.println(<span class="string">&quot;&quot;</span>);</span><br><span class="line"><span class="type">int</span>[] orderarr=<span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">10</span>];</span><br><span class="line"><span class="type">int</span> left=<span class="number">0</span>;</span><br><span class="line"><span class="type">int</span> right=arr.length-<span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; arr.length; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span>(arr[i]%<span class="number">2</span>==<span class="number">0</span>)&#123;</span><br><span class="line">        orderarr[left++]=arr[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(arr[i]%<span class="number">2</span>==<span class="number">1</span>)&#123;</span><br><span class="line">        orderarr[right--]=arr[i];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> num:orderarr) &#123;</span><br><span class="line">    System.out.print(num+<span class="string">&quot;\t&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="复制数组"><a href="#复制数组" class="headerlink" title="复制数组"></a>复制数组</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">//定义数组</span><br><span class="line">        int[] arr=&#123;1,2,66,33&#125;;</span><br><span class="line">        //复制[from,to) 索引数据，到 newarr 数组</span><br><span class="line">        int to=4;</span><br><span class="line">        int from=2;</span><br><span class="line">        int index=0;</span><br><span class="line">        int[] newarr=new int[to-from];</span><br><span class="line">        for(int i=from;i&lt;to;i++)&#123;</span><br><span class="line">            newarr[index]=arr[i];</span><br><span class="line">            index++;</span><br><span class="line">        &#125;</span><br><span class="line">        //遍历新数组</span><br><span class="line">        for(int i:newarr)&#123;</span><br><span class="line">            System.out.println(i);</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure><h3 id="方法基本内存图"><a href="#方法基本内存图" class="headerlink" title="方法基本内存图*"></a>方法基本内存图*</h3><pre><code>1. 方法在栈中运行2. new 都是在堆中开辟空间3. 复制数组的时候 它们是同一个地址4. 重载 方法名相同 参数类型个数不同</code></pre><p>    5. 每一个私有化成员变量，都需要提供get与set ??[不懂]</p><ol><li><p>基本数据类型与引用数据类型</p></li><li><p>基本数据类型</p><ul><li>整数类型</li><li>浮点数类型</li><li>布尔类型</li><li>字符类型</li></ul></li><li><p>引用数据类型</p><ul><li>…</li></ul></li></ol><p>    </p><h3 id="栈和堆的关系"><a href="#栈和堆的关系" class="headerlink" title="栈和堆的关系"></a>栈和堆的关系</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">栈和堆的关系是这样的：</span><br><span class="line">当我们创建一个对象时，首先在栈中分配一块内存，这个内存用于存储这个对象的引用；</span><br><span class="line">接着在堆中分配一块内存，用于存储这个对象的数据；</span><br><span class="line">最后将这个对象的引用存储到栈中。</span><br><span class="line">当这个对象的引用不再被使用时，JVM会在某个时间点将它回收掉，同时也会释放堆中相应的内存空间。</span><br></pre></td></tr></table></figure><h3 id="随机数-验证码"><a href="#随机数-验证码" class="headerlink" title="随机数 验证码"></a>随机数 验证码</h3><p>    </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">//实现大小写a~z 的验证码</span><br><span class="line">        char[] chs=new char[52];</span><br><span class="line">        for(int i=0;i&lt;chs.length;i++)&#123;</span><br><span class="line">            if(i&lt;=25)&#123;</span><br><span class="line">                chs[i]=(char)(97+i);</span><br><span class="line">            &#125;else &#123;</span><br><span class="line">                chs[i]=(char)(65+i-26);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        Random r=new Random();</span><br><span class="line">        //随机数不包含 chs.length</span><br><span class="line">        int randomIndex=r.nextInt(chs.length);</span><br><span class="line">        System.out.println(chs[randomIndex]);</span><br></pre></td></tr></table></figure><h3 id="双色球彩票系统"><a href="#双色球彩票系统" class="headerlink" title="双色球彩票系统"></a>双色球彩票系统</h3><pre><code>    功能:打印奖池号码 打印用户号码</code></pre><p><img src="/images/pasted-1.png" alt="upload successful"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">//6个红球 1个蓝球 数组长度：7</span><br><span class="line">      Random r=new Random();</span><br><span class="line">      int[] arr=new int[7];</span><br><span class="line">      int[] userarr=new int[7];</span><br><span class="line">      for (int i=0;i&lt;arr.length-1;i++)&#123;</span><br><span class="line">          int rs=r.nextInt(16);</span><br><span class="line">          if(Arrays.asList(arr).contains(rs))&#123;</span><br><span class="line">              System.out.println(&quot;已存在&quot;);</span><br><span class="line">          &#125;else&#123;</span><br><span class="line">              // 不存在则写入数组</span><br><span class="line">              arr[i]=rs;</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      Scanner sc=new Scanner(System.in);</span><br><span class="line">      for (int i=0;i&lt;arr.length;i++)&#123;</span><br><span class="line">          System.out.println(&quot;请输入你的&quot;+(i+1)+&quot;个中奖号码！&quot;);</span><br><span class="line">          while (true)&#123;</span><br><span class="line">              int ur=sc.nextInt();</span><br><span class="line">              if((0&gt;ur) || (ur&gt;=16))&#123;</span><br><span class="line">                  System.out.println(&quot;请输入0~17&quot;);</span><br><span class="line">                  continue;</span><br><span class="line">              &#125;</span><br><span class="line">              userarr[i]=ur;</span><br><span class="line">              break;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      System.out.println(&quot;奖池中奖号码&quot;);</span><br><span class="line">      for(int i:arr)&#123;</span><br><span class="line">          System.out.println(i);</span><br><span class="line">      &#125;</span><br><span class="line">      System.out.println(&quot;你的中奖号码&quot;);</span><br><span class="line">      for(int i:userarr)&#123;</span><br><span class="line">          System.out.println(i);</span><br><span class="line">      &#125;</span><br></pre></td></tr></table></figure><h3 id="二维数组"><a href="#二维数组" class="headerlink" title="二维数组"></a>二维数组</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">- 格式:数据类型[][] 数组名 = <span class="keyword">new</span> 数据类型[][]&#123;&#123;元素<span class="number">1</span>,元素<span class="number">2</span>),&#123;元素<span class="number">1</span>,元素<span class="number">2</span>&#125;&#125;</span><br><span class="line">- 范例: intl[][] arr = <span class="keyword">new</span> <span class="title class_">int</span>[][]&#123;&#123;<span class="number">11</span>,<span class="number">22</span>&#125;,&#123;<span class="number">33</span>,<span class="number">44</span>&#125;&#125;;</span><br><span class="line">- 简化格式: 数据类型[][] 数组名 =&#123;&#123;元素<span class="number">1</span>,元素<span class="number">2</span>&#125;,&#123;元素<span class="number">1</span>,元素<span class="number">2</span>&#125;&#125;;</span><br><span class="line">- 范例: <span class="type">int</span>[][] arr =&#123;&#123;<span class="number">11</span>,<span class="number">22</span>&#125;,&#123;<span class="number">33</span>,<span class="number">44</span>&#125;&#125;</span><br><span class="line">- 反例: <span class="type">int</span> arr[][] =&#123;&#123;<span class="number">11</span>,<span class="number">22</span>&#125;,&#123;<span class="number">33</span>,<span class="number">44</span>&#125;&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span>[][] arr=&#123;</span><br><span class="line">&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;.</span><br><span class="line">&#123;<span class="number">11</span>,<span class="number">22</span>,<span class="number">33</span>&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//输出 地址</span></span><br><span class="line">System.out.println(arr[<span class="number">1</span>]);</span><br><span class="line"><span class="comment">//输出 11</span></span><br><span class="line">System.out.println(arr[<span class="number">1</span>][<span class="number">0</span>]);</span><br></pre></td></tr></table></figure><h3 id="面向对象"><a href="#面向对象" class="headerlink" title="面向对象*"></a>面向对象*</h3><p>没有就 new 一个<br>我要拿杯子接水，我建立一个容器来接水</p><h3 id="类与对象"><a href="#类与对象" class="headerlink" title="类与对象"></a>类与对象</h3><p>命名：</p><pre><code>  类的成员变量：一般为名词  类的成员方法：一般为动词</code></pre><p>获得对象:</p><pre><code>类名new 一下: 类名 对象名=new 类名()</code></pre><p>通过对象使用 类的方法:</p><pre><code>对象名.方法名()</code></pre><h3 id="封装"><a href="#封装" class="headerlink" title="封装"></a>封装</h3><p>私有成员变量private  应当提供get与set 方法</p><h3 id="this"><a href="#this" class="headerlink" title="this"></a>this</h3><p>类变量age 方法变量age ，优先使用最近的age，使用this 可以指向类变量。this.age&#x3D;age;</p><h3 id="构造方法"><a href="#构造方法" class="headerlink" title="构造方法"></a>构造方法</h3><p>与类名一致，没有返回值<br>创建对象初始化成员变量<br>创建一次调用一次</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">public class test1 &#123;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        test1 test=new test1();</span><br><span class="line">    &#125;</span><br><span class="line">    public test1()&#123;</span><br><span class="line">        System.out.println(&quot;我被调用了吗&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="javaBean-类"><a href="#javaBean-类" class="headerlink" title="javaBean 类"></a>javaBean 类</h3><p><img src="/images/pasted-2.png" alt="upload successful"></p><h3 id="成员变量和局部变量的区别"><a href="#成员变量和局部变量的区别" class="headerlink" title="成员变量和局部变量的区别"></a>成员变量和局部变量的区别</h3><p><img src="/images/pasted-3.png" alt="upload successful"></p><h3 id="对象数组"><a href="#对象数组" class="headerlink" title="对象数组"></a>对象数组</h3><p><img src="/images/pasted-6.png" alt="upload successful"><br><img src="/images/pasted-4.png" alt="upload successful"></p><p><img src="/images/pasted-5.png" alt="upload successful"></p><p>创建一个类用来存取数据，私有成员变量提供get set 方法</p><p>可以new 这个类<br>goods[] arr &#x3D;new goods[3];</p><p>g1.getId() 取id</p><h3 id="api-文档"><a href="#api-文档" class="headerlink" title="api 文档"></a>api 文档</h3><p>    放到个人阿里云盘上面去了 文件无法分享</p><h3 id="string-概述"><a href="#string-概述" class="headerlink" title="string 概述"></a>string 概述</h3><pre><code>字符串拼接 只要有中文就会拼接在以前</code></pre><p>例如 “123”+”我是字符串”&#x3D;”123我是字符串” &#x2F;&#x2F;这里产生一个新的字符串(新地址)</p><p>离谱的操作</p><p><img src="/images/pasted-9.png" alt="upload successful"></p><h3 id="字符串比较"><a href="#字符串比较" class="headerlink" title="字符串比较"></a>字符串比较</h3><p> &#x3D;&#x3D; 比较的到底是什么</p><p>    比较的是地址值<br> string 是引用数据类型，请看如图</p><p><img src="/images/pasted-14.png" alt="upload successful"></p> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">equals方法(要比较的字符串) 完全一样结果才是true，否则为false</span><br><span class="line">equalslgnoreCase(要比较的字符串) 完全一样结果才是true，否则为false 忽略大小写的比较 (常用：验证码比较)</span><br></pre></td></tr></table></figure><p>    如果要比较字符串里面的内容<br>    使用方法：变量名.equals(“”)</p><p>注意scanner 的next 是new 出来的<br><img src="/images/pasted-15.png" alt="upload successful"></p><h3 id="用户登入源码"><a href="#用户登入源码" class="headerlink" title="用户登入源码"></a>用户登入源码</h3><p>    字符串比较做简单登入</p><h3 id="字符串遍历"><a href="#字符串遍历" class="headerlink" title="字符串遍历"></a>字符串遍历</h3><pre><code>    public char charAt(int index): 根据索引返回字符    public int length(): 返回此字符串的长度    数组的长度:数组名.length arr.length    字符串的长度:字符串对象.length()  obj.length(0)        </code></pre><h3 id="字符串拼接"><a href="#字符串拼接" class="headerlink" title="字符串拼接"></a>字符串拼接</h3><p>  <br><img src="/images/pasted-16.png" alt="upload successful"></p><h3 id="字符串反转"><a href="#字符串反转" class="headerlink" title="字符串反转"></a>字符串反转</h3><p><img src="/images/pasted-17.png" alt="upload successful"></p><h3 id="字符串截取-substring"><a href="#字符串截取-substring" class="headerlink" title="字符串截取 substring"></a>字符串截取 substring</h3><p>    substring()</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">String str=17673645378</span><br><span class="line">//取前三位</span><br><span class="line">String start=str.substring(0,3)</span><br><span class="line">//取后四位</span><br><span class="line">String end=str.substring(7)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="字符串替换-replace"><a href="#字符串替换-replace" class="headerlink" title="字符串替换 replace"></a>字符串替换 replace</h3><p>    replace()</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">String str=&quot;玩的好，下次别玩了TMD&quot;</span><br><span class="line">//TMD 替换 ***</span><br><span class="line">String result=str.replace(&quot;TMD&quot;,&quot;***&quot;)</span><br><span class="line"></span><br><span class="line">也许 关键字它可以是一个数组</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="字符串-stringbuilder-基本操作"><a href="#字符串-stringbuilder-基本操作" class="headerlink" title="字符串 stringbuilder 基本操作"></a>字符串 stringbuilder 基本操作</h3><p>使用：字符串拼接，使用string str&#x3D;sb.tostring() 输出 sb 即可<br><img src="/images/pasted-19.png" alt="upload successful"></p><p><img src="/images/pasted-22.png" alt="upload successful"></p><p><img src="/images/pasted-18.png" alt="upload successful"></p><p>内容反转 reverse() 可以解决对称数</p><p>11211 只需要原来字符串与反转比较即可</p><h3 id="字符串-stringjoiner-基本操作"><a href="#字符串-stringjoiner-基本操作" class="headerlink" title="字符串 stringjoiner 基本操作"></a>字符串 stringjoiner 基本操作</h3><p>字符串拼接的时候需要添加头部尾部分割符怎么办，例如三个数 1 2 3 拼接成 [1,2,3]</p><pre><code>StringJoiner  sj=new StringJoiner(&quot;,&quot;,&quot;[&quot;,&quot;]&quot;);String str=sj.add(1).add(2).add(3).toString();</code></pre><p><img src="/images/pasted-20.png" alt="upload successful"></p><p><img src="/images/pasted-21.png" alt="upload successful"></p><h3 id="字符串原理"><a href="#字符串原理" class="headerlink" title="字符串原理"></a>字符串原理</h3><p><img src="/images/pasted-23.png" alt="upload successful"><br><img src="/images/pasted-24.png" alt="upload successful"><br><img src="/images/pasted-26.png" alt="upload successful"><br><img src="/images/pasted-25.png" alt="upload successful"></p><h3 id="switch"><a href="#switch" class="headerlink" title="switch"></a>switch</h3><p><img src="/images/pasted-28.png" alt="upload successful"><br>jdk 12 新特性<br><img src="/images/pasted-27.png" alt="upload successful"></p><p>请问if语句和switch语句有何区别？<br>​答：if是条件判断顺序运行。switch 是通过比较值来决定运行</p><h3 id="arraylist-集合基本使用"><a href="#arraylist-集合基本使用" class="headerlink" title="arraylist 集合基本使用"></a>arraylist 集合基本使用</h3><p>ArrayList是Java中集合框架中的列表类之一，它实现了List接口，可以用来存储任何非空对象。它是基于数组实现的，可以动态调整大小。</p><p>ArrayList的使用相对简单，具体步骤如下：</p><ol><li><p>创建ArrayList对象</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ArrayList&lt;String&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br></pre></td></tr></table></figure></li><li><p>添加元素</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">list.add(<span class="string">&quot;apple&quot;</span>);</span><br><span class="line">list.add(<span class="string">&quot;banana&quot;</span>);</span><br><span class="line">list.add(<span class="string">&quot;cherry&quot;</span>);</span><br></pre></td></tr></table></figure></li><li><p>访问元素</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">firstElement</span> <span class="operator">=</span> list.get(<span class="number">0</span>); <span class="comment">// 获取第一个元素</span></span><br><span class="line"><span class="type">String</span> <span class="variable">lastElement</span> <span class="operator">=</span> list.get(list.size() - <span class="number">1</span>); <span class="comment">// 获取最后一个元素</span></span><br></pre></td></tr></table></figure></li><li><p>修改元素</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">list.set(<span class="number">1</span>, <span class="string">&quot;orange&quot;</span>); <span class="comment">// 将第二个元素修改为&quot;orange&quot;</span></span><br></pre></td></tr></table></figure></li><li><p>删除元素</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">list.remove(<span class="number">2</span>); <span class="comment">// 删除第三个元素</span></span><br><span class="line">list.remove(<span class="string">&quot;apple&quot;</span>); <span class="comment">// 删除元素值为&quot;apple&quot;的元素</span></span><br></pre></td></tr></table></figure></li><li><p>遍历元素</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (String fruit : list) &#123;</span><br><span class="line">    System.out.println(fruit);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>或者使用迭代器遍历：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Iterator&lt;String&gt; iter = list.iterator();</span><br><span class="line"><span class="keyword">while</span> (iter.hasNext()) &#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">fruit</span> <span class="operator">=</span> iter.next();</span><br><span class="line">    System.out.println(fruit);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><p>其他常用的方法包括：</p><ul><li>clear()：清空ArrayList中的所有元素</li><li>contains(Object o)：判断ArrayList中是否包含指定的元素</li><li>indexOf(Object o)：查找指定元素在ArrayList中的位置，如果不存在则返回-1</li><li>size()：返回ArrayList中元素的个数</li></ul><p>需要注意的是，ArrayList是非线程安全的，如果多个线程同时访问一个ArrayList对象，则需要实现适当的同步机制。</p><p>以上是ArrayList的基本使用方法，更多的方法和详细说明可以参考Java官方文档。</p><h3 id="static-关键字解析"><a href="#static-关键字解析" class="headerlink" title="static 关键字解析"></a>static 关键字解析</h3><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">在Java中，static关键字可以用于字段、方法和代码块上。</span><br><span class="line"></span><br><span class="line">当用于字段上时，static关键字表示该字段是静态的，也就是说这个属性属于类而不是属于对象，它被所有的对象实例共享。因此，static字段可以通过类名调用，而不需要生成对象实例。同时，静态字段的值在整个程序运行期间都是唯一不变的，因为它只会被初始化一次。</span><br><span class="line"></span><br><span class="line">当用于方法上时，static关键字表示该方法是静态方法，也就是说这个方法属于类而不是属于对象。和静态字段一样，它可以通过类名调用而不需要生成对象实例。静态方法不能访问对象的非静态属性，同时也不能使用this关键字。</span><br><span class="line"></span><br><span class="line">当用于代码块上时，static关键字表示该代码块是静态代码块，它会在类被加载时执行，且仅会执行一次，通常用于初始化静态字段或执行一些静态代码。</span><br><span class="line"></span><br><span class="line">总之，static关键字的作用是将字段或方法与对象之间的关系转化为与类之间的关系，使得我们可以在没有任何实例对象的情况下访问类或执行特定的代码块。</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h3><p>如果子类父类中出现<strong>重名</strong>的成员变量，这时的访问是<strong>有影响的</strong>。代码如下：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Fu1</span> &#123;</span><br><span class="line"><span class="comment">// Fu中的成员变量。</span></span><br><span class="line"><span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> <span class="number">5</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Zi1</span> <span class="keyword">extends</span> <span class="title class_">Fu1</span> &#123;</span><br><span class="line"><span class="comment">// Zi中的成员变量</span></span><br><span class="line"><span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> <span class="number">6</span>;</span><br><span class="line">  </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">show</span><span class="params">()</span> &#123;</span><br><span class="line"><span class="comment">// 访问父类中的num</span></span><br><span class="line">System.out.println(<span class="string">&quot;Fu num=&quot;</span> + num);</span><br><span class="line"><span class="comment">// 访问子类中的num</span></span><br><span class="line">System.out.println(<span class="string">&quot;Zi num=&quot;</span> + num);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Demo04</span> &#123;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">      <span class="comment">// 创建子类对象</span></span><br><span class="line"><span class="type">Zi1</span> <span class="variable">z</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Zi1</span>(); </span><br><span class="line">      <span class="comment">// 调用子类中的show方法</span></span><br><span class="line">z1.show(); </span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">演示结果：</span><br><span class="line"><span class="type">Fu</span> <span class="variable">num</span> <span class="operator">=</span> <span class="number">6</span></span><br><span class="line"><span class="type">Zi</span> <span class="variable">num</span> <span class="operator">=</span> <span class="number">6</span></span><br></pre></td></tr></table></figure><p>子父类中出现了同名的成员变量时，子类会优先访问自己对象中的成员变量。如果此时想访问父类成员变量如何解决呢？我们可以使用super关键字。</p><h3 id="super访问父类成员变量"><a href="#super访问父类成员变量" class="headerlink" title="super访问父类成员变量"></a>super访问父类成员变量</h3><p>子父类中出现了同名的成员变量时，在子类中需要访问父类中非私有成员变量时，需要使用<code>super</code> 关键字，修饰父类成员变量，类似于之前学过的 <code>this</code> 。</p><p>需要注意的是：<strong>super代表的是父类对象的引用，this代表的是当前对象的引用。</strong></p><p><strong>使用格式：</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">super</span>.父类成员变量名</span><br></pre></td></tr></table></figure><p>子类方法需要修改，代码如下：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Fu</span> &#123;</span><br><span class="line"><span class="comment">// Fu中的成员变量。</span></span><br><span class="line"><span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> <span class="number">5</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Zi</span> <span class="keyword">extends</span> <span class="title class_">Fu</span> &#123;</span><br><span class="line"><span class="comment">// Zi中的成员变量</span></span><br><span class="line"><span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> <span class="number">6</span>;</span><br><span class="line">  </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">show</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">      </span><br><span class="line">        <span class="comment">// 访问方法中的num</span></span><br><span class="line">        System.out.println(<span class="string">&quot;method num=&quot;</span> + num);</span><br><span class="line">        <span class="comment">// 访问子类中的num</span></span><br><span class="line">        System.out.println(<span class="string">&quot;Zi num=&quot;</span> + <span class="built_in">this</span>.num);</span><br><span class="line">        <span class="comment">// 访问父类中的num</span></span><br><span class="line">        System.out.println(<span class="string">&quot;Fu num=&quot;</span> + <span class="built_in">super</span>.num);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Demo04</span> &#123;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">      <span class="comment">// 创建子类对象</span></span><br><span class="line"><span class="type">Zi1</span> <span class="variable">z</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Zi1</span>(); </span><br><span class="line">      <span class="comment">// 调用子类中的show方法</span></span><br><span class="line">z1.show(); </span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">演示结果：</span><br><span class="line">method num=<span class="number">1</span></span><br><span class="line">Zi num=<span class="number">6</span></span><br><span class="line">Fu num=<span class="number">5</span></span><br></pre></td></tr></table></figure><blockquote><p>小贴士：Fu 类中的成员变量是非私有的，子类中可以直接访问。若Fu 类中的成员变量私有了，子类是不能直接访问的。通常编码时，我们遵循封装的原则，使用private修饰成员变量，那么如何访问父类的私有成员变量呢？对！<strong>可以在父类中提供公共的getXxx方法和setXxx方法</strong>。</p></blockquote><h3 id="成员方法重名"><a href="#成员方法重名" class="headerlink" title="成员方法重名"></a>成员方法重名</h3><p>如果子类父类中出现<strong>重名</strong>的成员方法，则创建子类对象调用该方法的时候，子类对象会优先调用自己的方法。</p><h3 id="Override重写注解"><a href="#Override重写注解" class="headerlink" title="@Override重写注解"></a>@Override重写注解</h3><h3 id="final-常量"><a href="#final-常量" class="headerlink" title="final 常量"></a>final 常量</h3><h3 id="静态代码块"><a href="#静态代码块" class="headerlink" title="静态代码块"></a>静态代码块</h3><p>只运行一次</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">static&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="java-反编译"><a href="#java-反编译" class="headerlink" title="java 反编译"></a>java 反编译</h3><p>把编译好的class 文件变成原来的文件</p><p>javap HelloWorld.class</p><p><img src="/images/pasted-32.png" alt="java反编译"></p><h3 id="匿名内部类"><a href="#匿名内部类" class="headerlink" title="匿名内部类"></a>匿名内部类</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">new Dog()&#123;</span><br><span class="line">@Override</span><br><span class="line">  public void show()&#123;</span><br><span class="line">   System.out.println(&quot;重写之后方法&quot;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;.show();</span><br></pre></td></tr></table></figure><h3 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h3><p>由高向低分别是： ()、!、算术运算符、关系运算符、逻辑运算符、 赋值运算符； </p><h3 id="项目界面"><a href="#项目界面" class="headerlink" title="项目界面"></a>项目界面</h3>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>docker 安装phpmyadmin</title>
      <link href="/2293724758.html"/>
      <url>/2293724758.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker run --name phpmyadmin -d -e PMA_ARBITRARY=1 -p 8080:80 phpmyadmin:latest</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>linux 使用寿命</title>
      <link href="/1791950421.html"/>
      <url>/1791950421.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat /sys/class/mmc_host/mmc0/mmc0\:0001/life_time</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>mysql 安装</title>
      <link href="/1558112624.html"/>
      <url>/1558112624.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"> sudo docker run -d -p 3306:3306 -v /usbdata/mysql/conf:/etc/mysql/conf.d -v /usbdata/mysql/data:/var/lib/mysql -e MYSQL_ROOT_PASSWORD=123456 --name  mysql mysql</span><br><span class="line"> </span><br><span class="line"> docker run -p 3306:3306 --name mysql --restart=always --privileged=<span class="literal">true</span> \</span><br><span class="line">-v /usbdata/mysql/log:/var/log/mysql \</span><br><span class="line">-v /usbdata/mysql/data:/var/lib/mysql \</span><br><span class="line">-v /usbdata/mysql/conf:/etc/mysql \</span><br><span class="line">-v /usbdata/mysql/etc/localtime:/etc/localtime:ro \</span><br><span class="line">-e MYSQL_ROOT_PASSWORD=123456 -d mysql:latest</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>mysql 登入</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql <span class="operator">-</span>h <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span> <span class="operator">-</span>u root <span class="operator">-</span>p</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>内网穿透</title>
      <link href="/3176183830.html"/>
      <url>/3176183830.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="natapp"><a href="#natapp" class="headerlink" title="natapp"></a>natapp</h2><p>natapp 穿透3306</p><ul><li>优点<br>  .&#x2F;natapp -authtoken&#x3D;2a1a3b865758f0cd #可以直接穿透      </li><li>缺点<br>   .&#x2F;natapp -authtoken&#x3D;2a1a3b865758f0cd #端口无法固定</li></ul><h2 id="cloudflare"><a href="#cloudflare" class="headerlink" title="cloudflare"></a>cloudflare</h2><p>2023年4月9日<br>穿透http端口成功<br>端口：端口固定<br>穿透tcp：3306 端口失败</p><h2 id="natfrp"><a href="#natfrp" class="headerlink" title="natfrp"></a>natfrp</h2><p>2023年4月9日<br>端口：端口固定<br>可以直接穿透tcp：3306</p><p>systemctl start frpc@usdhisoct3rc38zr7npl868vuri8whfa:7820442</p><p>systemctl status frpc@usdhisoct3rc38zr7npl868vuri8whfa:7820442</p><p>systemctl &lt;enable|disable&gt; &lt;Unit名称&gt;<br>systemctl status &lt;Unit名称&gt;<br>systemctl disable frpc@usdhisoct3rc38zr7npl868vuri8whfa:7820442</p><p>journalctl -u frpc@usdhisoct3rc38zr7npl868vuri8whfa:7820442</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>mariadb-server 安装</title>
      <link href="/554961827.html"/>
      <url>/554961827.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="安装MySQL的扩展-mariadb-server"><a href="#安装MySQL的扩展-mariadb-server" class="headerlink" title="安装MySQL的扩展 mariadb-server"></a>安装MySQL的扩展 mariadb-server</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt install -y mariadb-server</span><br></pre></td></tr></table></figure><h3 id="开启远程登入"><a href="#开启远程登入" class="headerlink" title="开启远程登入"></a>开启远程登入</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">use mysql</span><br><span class="line">select host,user,password from user;</span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">GRANT</span> <span class="keyword">ALL</span> PRIVILEGES <span class="keyword">ON</span> <span class="operator">*</span>.<span class="operator">*</span> <span class="keyword">TO</span> &quot;root&quot;@&quot;%&quot; IDENTIFIED <span class="keyword">BY</span> &quot;password&quot; <span class="keyword">WITH</span> <span class="keyword">GRANT</span> OPTION; </span><br><span class="line"><span class="keyword">GRANT</span> <span class="keyword">ALL</span> PRIVILEGES <span class="keyword">ON</span> <span class="operator">*</span>.<span class="operator">*</span> <span class="keyword">TO</span> &quot;root&quot;@&quot;192.168.0.1&quot; IDENTIFIED <span class="keyword">BY</span> &quot;password&quot; <span class="keyword">WITH</span> <span class="keyword">GRANT</span> OPTION;# 限制ip连接</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">flush privileges; # 刷新生效一下</span><br><span class="line">systemctl restart mariadb.service 或者 service mariadb restart # 还是连接不上就重启一下mysql</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">/etc/mysql 文件夹下修改文件 my.cnf，将 bind-address = 127.0.0.1 这句话注释掉</span><br><span class="line">/etc/mysql/mariadb.conf.d  文件夹下修改文件 50-server.cnf ,将 bind-address = 127.0.0.1 这句话注释掉</span><br></pre></td></tr></table></figure><h3 id="用户操作"><a href="#用户操作" class="headerlink" title="用户操作"></a>用户操作</h3><p>用户授权</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">grant SELECT, INSERT,update on test.* to dayu001@&#x27;%&#x27; identified by &#x27;password&#x27; with grant option;</span><br><span class="line">flush privileges;</span><br></pre></td></tr></table></figure><p>建立用户</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CREATE USER &quot;username&quot;@&quot;%&quot; IDENTIFIED BY &quot;password&quot;; </span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">REVOKE ALL PRIVILEGES ON *.* FROM &#x27;dayu001&#x27;@&#x27;%&#x27; ;</span><br></pre></td></tr></table></figure><p>mysql -u dayu001 -p</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run --detach --name some-mariadb --env MARIADB_USER=example-user --env MARIADB_PASSWORD=my_cool_secret --env MARIADB_ROOT_PASSWORD=my-secret-pw  mariadb:latest</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> 数据库 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>linux 查看端口启用</title>
      <link href="/3757300725.html"/>
      <url>/3757300725.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>netstat -an|grep 3306</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>typecho 博客安装</title>
      <link href="/2432914433.html"/>
      <url>/2432914433.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>#首先用下面的命令把数据源处理一下</p><p>true &gt; &#x2F;etc&#x2F;apt&#x2F;sources.list.d&#x2F;mobian.list</p><p>#然后更新依赖和安装需要支持软件。</p><p>sudo apt-get update</p><p>apt-get install -y wget</p><p>apt-get install -y curl</p><p>apt-get install -y vim</p><p>#然后开始安装php和sql</p><p>#安装Nginx</p><p>apt install -y nginx</p><p>#安装PHP及部分扩展</p><p>apt install -y php php-fpm php-mysqli php-mbstring</p><p>#安装MySQL</p><p>apt install -y mariadb-server</p><p>#安装解压工具</p><p>apt install -y zip</p><p>#然后输入下面的命令创建数据库，数据库名typecho，添加用户到MySQL数据库中，用户名typecho  密码typecho，登录主机为localhost(仅允许本机登录，无法远程登录)</p><p>mysql -u root -p密码 &lt;&lt;EOF</p><p>create database if  not exists typecho default charset utf8 collate utf8_general_ci;</p><p>create user ‘typecho‘@’localhost’ identified by ‘typecho’;</p><p>grant all on typecho.* to ‘typecho‘@’localhost’;</p><p>flush privileges;</p><p>EOF</p><p>#下载typecho</p><p>wget -O &#x2F;var&#x2F;www&#x2F;html&#x2F;typecho.zip <a href="https://github.com/typecho/typecho/releases/latest/download/typecho.zip">https://github.com/typecho/typecho/releases/latest/download/typecho.zip</a></p><p>#解压，解压完毕删除原压缩包 删除Nginx默认页面</p><p>unzip -d &#x2F;var&#x2F;www&#x2F;html &#x2F;var&#x2F;www&#x2F;html&#x2F;typecho.zip</p><p>rm &#x2F;var&#x2F;www&#x2F;html&#x2F;typecho.zip</p><p>rm &#x2F;var&#x2F;www&#x2F;html&#x2F;index.html</p><p>rm &#x2F;var&#x2F;www&#x2F;html&#x2F;index.nginx-debian.html</p><p>#授予读写权限</p><p>chmod -R 777 &#x2F;var&#x2F;www&#x2F;html</p><p>#备份Nginx配置</p><p>cp -p &#x2F;etc&#x2F;nginx&#x2F;sites-enabled&#x2F;default &#x2F;etc&#x2F;nginx&#x2F;sites-enabled_default.<code>date +%Y-%m-%d_%H-%M-%S</code>.bak</p><p>#还原Nginx配置</p><p>wget -O &#x2F;etc&#x2F;nginx&#x2F;sites-enabled&#x2F;default <a href="https://imtx-bucket.oss-cn-shenzhen.aliyuncs.com/linux/backup/typecho/default">https://imtx-bucket.oss-cn-shenzhen.aliyuncs.com/linux/backup/typecho/default</a></p><p>#重新加载配置文件，重启Nginx</p><p>nginx -s reload</p><p>systemctl restart nginx</p><p>等到它运行结束出现命令提示符就安装结束了，可以在浏览器中使用棒子的IP打开博客了。</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>青龙 拉取私有仓库</title>
      <link href="/702311515.html"/>
      <url>/702311515.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>青龙面板教程(二)：拉取私有仓库</p><p>开发大观园</p><p>已于 2022-12-15 12:29:06 修改</p><p>1854<br> 收藏 2<br>分类专栏： 青龙面板 文章标签： git github<br>版权</p><p>青龙面板<br>专栏收录该内容<br>7 篇文章5 订阅<br>订阅专栏<br>一.前言<br>青龙面板平时一般拉的都是公开仓库，可以直接命令拉取即可，但有时我们需要拉取自身的私有仓库，则需要进行仓库账号配置操作。</p><p>二.正文<br>青龙面板使用git工具来进行拉库操作，按照以下步骤即可完成私有仓库的账号配置。</p><p>1.进入青龙面板容器会话终端，宝塔面板管理的话在docker模块那里可以进入。</p><p> 2.git工具开启账号保存功能，控制台输入以下命令：</p><p>git config –global credential.helper store<br>3.克隆目标仓库，控制台输入以下命令：</p><p>git clone your_repository_url<br>4.按提示输入仓库用户名和密码，成功拉取即可。</p><p> 5.至此已经git工具已经保存好目标仓库的账号信息，青龙面板可以直接拉取该私有仓库了。</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>debian 端口开放与关闭</title>
      <link href="/1698519486.html"/>
      <url>/1698519486.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="安装相关依赖"><a href="#安装相关依赖" class="headerlink" title="安装相关依赖"></a>安装相关依赖</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get install iptables</span><br></pre></td></tr></table></figure><h2 id="查看已开放的端口"><a href="#查看已开放的端口" class="headerlink" title="查看已开放的端口"></a>查看已开放的端口</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">netstat -anp</span><br></pre></td></tr></table></figure><h2 id="存放端口的文件"><a href="#存放端口的文件" class="headerlink" title="存放端口的文件"></a>存放端口的文件</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/etc/services</span><br></pre></td></tr></table></figure><h2 id="端口开启与关闭"><a href="#端口开启与关闭" class="headerlink" title="端口开启与关闭"></a>端口开启与关闭</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># $PORT 指端口号</span><br><span class="line">&quot;sudo iptables -A INPUT -p tcp --dport $PORT -j DROP&quot;</span><br><span class="line">&quot;sudo iptables -A OUTPUT -p tcp --dport $PORT -j DROP&quot;  </span><br><span class="line"># 开放端口后 保存一些</span><br><span class="line">iptables-save</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> debian </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>docker一键安装可道云</title>
      <link href="/2458829238.html"/>
      <url>/2458829238.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="docker一键安装可道云"><a href="#docker一键安装可道云" class="headerlink" title="docker一键安装可道云"></a>docker一键安装可道云</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -itd -p 8089:80 --name kodbox -v /usbdata/kodbox:/var/www/html kodcloud/kodbox</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> 可道云 </tag>
            
            <tag> 云盘 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>docker下安装alist</title>
      <link href="/1345941684.html"/>
      <url>/1345941684.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="安装命令"><a href="#安装命令" class="headerlink" title="安装命令"></a>安装命令</h2><p><code>/usbdata/alist</code> 本地路径<br><code>/data</code>卷<br> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d --restart=always -v /usbdata/alist:/data -p 5244:5244 -e PUID=0 -e PGID=0 -e UMASK=022 --name=&quot;alist&quot; xhofe/alist:latest</span><br></pre></td></tr></table></figure><br>  <code>/mnt/alist/tem</code> 本地挂载路径<br> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">docker run -d --restart=always -v /mnt/alist:/mnt/alist/data  -v /mnt/alist/tem:/mnt/alist/tem -p 5244:5244 -e PUID=0 -e PGID=0 -e UMASK=022 --name=&quot;alist&quot; xhofe/alist-aria2:latest</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d --restart=always -v /mnt/usbdata/alist/data:/mnt/usbdata/alist/data  -v /mnt/usbdata/alist/tem:/mnt/usbdata/alist/tem -p 5244:5244 -e PUID=0 -e PGID=0 -e UMASK=022 --name=&quot;alist&quot; xhofe/alist-aria2:latest</span><br></pre></td></tr></table></figure><h2 id="查看密码"><a href="#查看密码" class="headerlink" title="查看密码"></a>查看密码</h2> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker exec -it alist ./alist admin</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>青龙部署cv cv 青龙面板</title>
      <link href="/2712148078.html"/>
      <url>/2712148078.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="青龙部署cv-cv"><a href="#青龙部署cv-cv" class="headerlink" title="青龙部署cv cv"></a>青龙部署cv cv</h1><h4 id="1-安装docker"><a href="#1-安装docker" class="headerlink" title="1.安装docker"></a>1.安装docker</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="literal">true</span> &gt; /etc/apt/sources.list.d/mobian.lis</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt install docker.io</span><br></pre></td></tr></table></figure><h4 id="2-安装青龙容器与镜像"><a href="#2-安装青龙容器与镜像" class="headerlink" title="2.安装青龙容器与镜像"></a>2.安装青龙容器与镜像</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">随身wifi用这个不卡 </span><br><span class="line">docker run -dit \</span><br><span class="line">-v <span class="variable">$PWD</span>/ql/config:/ql/config \</span><br><span class="line">-v <span class="variable">$PWD</span>/ql/log:/ql/log \</span><br><span class="line">-v <span class="variable">$PWD</span>/ql/db:/ql/db \</span><br><span class="line">-v <span class="variable">$PWD</span>/ql/scripts:/ql/scripts \</span><br><span class="line">-v <span class="variable">$PWD</span>/ql/jbot:/ql/jbot \</span><br><span class="line">-v <span class="variable">$PWD</span>/ql/repo:/ql/repo \</span><br><span class="line">-p 5700:5700 \</span><br><span class="line">-e ENABLE_HANGUP=<span class="literal">true</span> \</span><br><span class="line">-e ENABLE_WEB_PANEL=<span class="literal">true</span> \</span><br><span class="line">--name ql \</span><br><span class="line">--hostname ql \</span><br><span class="line">--privileged=<span class="literal">true</span> \</span><br><span class="line">--restart always \</span><br><span class="line">--network host\</span><br><span class="line">whyour/qinglong:2.10.13</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#这个可以是最新版本的</span></span><br><span class="line">docker run -dit \</span><br><span class="line">-v <span class="variable">$PWD</span>/ql/config:/ql/data/config \</span><br><span class="line">-v <span class="variable">$PWD</span>/ql/log:/ql/data/log \</span><br><span class="line">-v <span class="variable">$PWD</span>/ql/db:/ql/data/db \</span><br><span class="line">-v <span class="variable">$PWD</span>/ql/repo:/ql/data/repo \</span><br><span class="line">-v <span class="variable">$PWD</span>/ql/raw:/ql/data/raw \</span><br><span class="line">-v <span class="variable">$PWD</span>/ql/scripts:/ql/data/scripts \</span><br><span class="line">-v <span class="variable">$PWD</span>/ql/jbot:/ql/data/jbot \</span><br><span class="line">-v <span class="variable">$PWD</span>/ql/ninja:/ql/data/ninja \</span><br><span class="line">-p 5700:5700 \</span><br><span class="line">-p 5701:5701 \</span><br><span class="line">--name ql \</span><br><span class="line">--hostname ql \</span><br><span class="line">--restart unless-stopped \</span><br><span class="line">--network host\</span><br><span class="line">whyour/qinglong:2.15.17</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">docker run -dit \</span><br><span class="line">-v <span class="variable">$PWD</span>/ql/config:/ql/config \</span><br><span class="line">-v <span class="variable">$PWD</span>/ql/log:/ql/log \</span><br><span class="line">-v <span class="variable">$PWD</span>/ql/db:/ql/db \</span><br><span class="line">-v <span class="variable">$PWD</span>/ql/repo:/ql/repo \</span><br><span class="line">-v <span class="variable">$PWD</span>/ql/raw:/ql/raw \</span><br><span class="line">-v <span class="variable">$PWD</span>/ql/scripts:/ql/scripts \</span><br><span class="line">-p 5700:5700 \</span><br><span class="line">--name ql \</span><br><span class="line">--hostname ql \</span><br><span class="line">--network host \</span><br><span class="line">--restart unless-stopped \</span><br><span class="line">whyour/qinglong:2.11.1</span><br></pre></td></tr></table></figure><figure class="highlight bash"><figcaption><span>j1900  network host 能使用正向cqhttp</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">docker run -dit \</span><br><span class="line">  -v <span class="variable">$PWD</span>/ql/data:/ql/data \</span><br><span class="line">  -p 5700:5700 \</span><br><span class="line">  --name qinglong \</span><br><span class="line">  --hostname qinglong \</span><br><span class="line">  --restart always \</span><br><span class="line">  --network host\</span><br><span class="line">  whyour/qinglong:latest</span><br></pre></td></tr></table></figure><figure class="highlight bash"><figcaption><span>win10docker</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -dit    -v D:/docker/ql/config:/ql/config    -v D:/docker/ql/log:/ql/log    -v D:/docker/ql/db:/ql/db    -p 5700:5700    --name qinglong    --hostname qinglong    --restart always    whyour/qinglong:latest</span><br></pre></td></tr></table></figure><h4 id="3-安装傻妞"><a href="#3-安装傻妞" class="headerlink" title="3.安装傻妞"></a>3.安装傻妞</h4><p>随身wifi推荐不安装 </p><p>第一种方式</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(curl -sSL http://zkyun.cc/install.sh)</span><br></pre></td></tr></table></figure><p><img src="/images/pasted-33.png" alt="upload successful"></p><p>第二种方式</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">s=sillyGirl;a=arm64;<span class="keyword">if</span> [[ $(<span class="built_in">uname</span> -a | grep <span class="string">&quot;x86_64&quot;</span>) != <span class="string">&quot;&quot;</span> ]];<span class="keyword">then</span> a=amd64;<span class="keyword">fi</span> ;<span class="keyword">if</span> [ ! -d <span class="variable">$s</span> ];<span class="keyword">then</span> <span class="built_in">mkdir</span> <span class="variable">$s</span>;<span class="keyword">fi</span> ;<span class="built_in">cd</span> <span class="variable">$s</span>;wget https://yanyu.ltd/https://github.com/cdle/<span class="variable">$&#123;s&#125;</span>/releases/download/main/<span class="variable">$&#123;s&#125;</span>_linux_<span class="variable">$a</span> -O <span class="variable">$s</span> &amp;&amp; <span class="built_in">chmod</span> 777 <span class="variable">$s</span>;pkill -9 <span class="variable">$s</span>;$(<span class="built_in">pwd</span>)/<span class="variable">$s</span></span><br></pre></td></tr></table></figure><p><img src="/images/pasted-34.png" alt="upload successful"></p><p>成功运行截图<br><img src="/images/pasted-35.png" alt="upload successful"></p><h4 id="4-对接机器人go-cqhttp"><a href="#4-对接机器人go-cqhttp" class="headerlink" title="4.对接机器人go-cqhttp"></a>4.对接机器人go-cqhttp</h4><p><a href="https://dayuya.github.io/posts/20230502104122-1082586999/">linux 搭建qq机器人</a></p><h4 id="5-安装ark"><a href="#5-安装ark" class="headerlink" title="5.安装ark"></a>5.安装ark</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(curl -s -S -L https://maiark-1256973477.cos.ap-shanghai.myqcloud.com/kiss.sh)</span><br></pre></td></tr></table></figure><p>安装目录 arkconfig.json 对接青龙的地址</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    # 服务端口</span><br><span class="line">    <span class="attr">&quot;Port&quot;</span><span class="punctuation">:</span> <span class="number">8082</span><span class="punctuation">,</span></span><br><span class="line">    # 鉴权Token</span><br><span class="line">    <span class="attr">&quot;Token&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">    # 短信登陆是否使用代理</span><br><span class="line">    <span class="attr">&quot;useProxy&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">    # 代理api地址</span><br><span class="line">    <span class="attr">&quot;ProxyUrl&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">    # 青龙服务器配置</span><br><span class="line">    <span class="attr">&quot;servers&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="punctuation">&#123;</span></span><br><span class="line">            # 服务器ID</span><br><span class="line">            <span class="attr">&quot;ServerID&quot;</span><span class="punctuation">:</span> <span class="number">1</span><span class="punctuation">,</span></span><br><span class="line">            # 服务器名称</span><br><span class="line">            <span class="attr">&quot;ServerName&quot;</span><span class="punctuation">:</span> <span class="string">&quot;服务器1&quot;</span><span class="punctuation">,</span></span><br><span class="line">            # 服务器地址</span><br><span class="line">            <span class="attr">&quot;ServerUrl&quot;</span><span class="punctuation">:</span> <span class="string">&quot;http://192.168.10.4:5700&quot;</span><span class="punctuation">,</span></span><br><span class="line">            # 青龙客户端ID</span><br><span class="line">            <span class="attr">&quot;ServerClientId&quot;</span><span class="punctuation">:</span> <span class="string">&quot;nzC-3R2vU123&quot;</span><span class="punctuation">,</span></span><br><span class="line">            # 青龙客户端密钥</span><br><span class="line">            <span class="attr">&quot;ServerSecret&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Bnhz7aPK2-FjBD4Qjpe123&quot;</span><span class="punctuation">,</span></span><br><span class="line">            # 服务器最大CK数量</span><br><span class="line">            <span class="attr">&quot;ServerMAXck&quot;</span><span class="punctuation">:</span> <span class="number">99</span></span><br><span class="line">        <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">        # <span class="punctuation">&#123;</span></span><br><span class="line">        #     <span class="attr">&quot;ServerID&quot;</span><span class="punctuation">:</span> <span class="number">2</span><span class="punctuation">,</span></span><br><span class="line">        #     <span class="attr">&quot;ServerName&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">        #     <span class="attr">&quot;ServerUrl&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">        #     <span class="attr">&quot;ServerClientId&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">        #     <span class="attr">&quot;ServerSecret&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">        #     <span class="attr">&quot;ServerMAXck&quot;</span><span class="punctuation">:</span> <span class="number">99</span></span><br><span class="line">        # <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="nonebot"><a href="#nonebot" class="headerlink" title="nonebot"></a>nonebot</h4><p>注意在docker 中安装的青龙环境自带python3.8.10<br>使用进入容器<code>python3 -V</code></p><h4 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h4><p>在整个系统中查找名为 myfile.txt 的文件：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find / -name myfile.txt</span><br></pre></td></tr></table></figure><p><a href="https://github.com/sync-auto/6dylan6">推荐库</a></p><p><a href="https://nonebot.dev/docs/quick-start">nonebot2</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>hexo 文章永久链接</title>
      <link href="/2283798593.html"/>
      <url>/2283798593.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="文章永久链接"><a href="#文章永久链接" class="headerlink" title="文章永久链接"></a>文章永久链接</h3><h4 id="在hexo-根目录下安装需要用到的插件-终端"><a href="#在hexo-根目录下安装需要用到的插件-终端" class="headerlink" title="在hexo 根目录下安装需要用到的插件(终端)"></a>在hexo 根目录下安装需要用到的插件(终端)</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-abbrlink --save</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="修改站点配置文件-config-yml"><a href="#修改站点配置文件-config-yml" class="headerlink" title="修改站点配置文件_config.yml"></a>修改站点配置文件_config.yml</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># 原</span><br><span class="line"># URL</span><br><span class="line">## Set your site url here. For example, if you use GitHub Page, set url as &#x27;https://username.github.io/project&#x27;</span><br><span class="line">url: http://dayuya.github.io&#x27;</span><br><span class="line">permalink: :year/:month/:day/:title/</span><br><span class="line">permalink_defaults:</span><br><span class="line">pretty_urls:</span><br><span class="line">  trailing_index: true # Set to false to remove trailing &#x27;index.html&#x27; from permalinks</span><br><span class="line">  trailing_html: true # Set to false to remove trailing &#x27;.html&#x27; from permalinks</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"># 修改后</span><br><span class="line"># URL</span><br><span class="line">## Set your site url here. For example, if you use GitHub Page, set url as &#x27;https://username.github.io/project&#x27;</span><br><span class="line">url: http://dayuya.github.io&#x27;</span><br><span class="line"># permalink: :year/:month/:day/:title/</span><br><span class="line"># permalink_defaults:</span><br><span class="line"># pretty_urls:</span><br><span class="line">#   trailing_index: true # Set to false to remove trailing &#x27;index.html&#x27; from permalinks</span><br><span class="line">#   trailing_html: true # Set to false to remove trailing &#x27;.html&#x27; from permalinks</span><br><span class="line">permalink: posts/:abbrlink/</span><br><span class="line">abbrlink:</span><br><span class="line">  alg: crc32 #support crc16(default) and crc32</span><br><span class="line">  rep: dec   #support dec(default) and hex</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="最后重新生成即可"><a href="#最后重新生成即可" class="headerlink" title="最后重新生成即可"></a>最后重新生成即可</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo g</span><br><span class="line">hexo server</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/16107.html"/>
      <url>/16107.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>Welcome to [Hexo] 这是一篇 适用于hexo的Markdown语法</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p><h2 id="新建-文章-Post-，页面-Page-和草稿-Draft"><a href="#新建-文章-Post-，页面-Page-和草稿-Draft" class="headerlink" title="新建 文章(Post)，页面(Page)和草稿(Draft)"></a>新建 文章(Post)，页面(Page)和草稿(Draft)</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo new post text</span><br><span class="line">新建后会在/source/_post创建一个【text.md】的文件 </span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new Page text </span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new Draft text </span><br></pre></td></tr></table></figure><h3 id="标题"><a href="#标题" class="headerlink" title="标题"></a>标题</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"># 一级标题</span><br><span class="line"></span><br><span class="line">## 二级标题</span><br><span class="line"></span><br><span class="line">## 二级标题</span><br><span class="line"></span><br><span class="line">### 三级标题</span><br><span class="line"></span><br><span class="line">#### 四级标题</span><br><span class="line"></span><br><span class="line">##### 五级标题</span><br><span class="line"></span><br><span class="line">###### 六级标题</span><br></pre></td></tr></table></figure><h3 id="斜体文本"><a href="#斜体文本" class="headerlink" title="斜体文本"></a>斜体文本</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">*斜体文本* </span><br><span class="line">_斜体文本*</span><br></pre></td></tr></table></figure><h3 id="加粗文本"><a href="#加粗文本" class="headerlink" title="加粗文本"></a>加粗文本</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">**加粗文本**</span><br><span class="line">__加粗文本__</span><br></pre></td></tr></table></figure><h3 id="加粗并斜体"><a href="#加粗并斜体" class="headerlink" title="加粗并斜体"></a>加粗并斜体</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">***加粗并斜体文本***</span><br><span class="line">___加粗并斜体文本___</span><br><span class="line">*__加粗并斜体文本__*</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="高亮"><a href="#高亮" class="headerlink" title="高亮"></a>高亮</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">`高亮`文字</span><br></pre></td></tr></table></figure><h3 id="删除线"><a href="#删除线" class="headerlink" title="删除线"></a>删除线</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">~~删除文本~~</span><br></pre></td></tr></table></figure><h2 id="列表"><a href="#列表" class="headerlink" title="列表"></a>列表</h2><h3 id="有序列表"><a href="#有序列表" class="headerlink" title="有序列表"></a>有序列表</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">1. 一级列表</span><br><span class="line"></span><br><span class="line">   1. 二级列表</span><br><span class="line">   2. 二级列表</span><br><span class="line">      3. 三级列表</span><br><span class="line">      4. 三级列表</span><br><span class="line"></span><br><span class="line">2. 一级列表</span><br><span class="line"></span><br><span class="line">3. 一级列表</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="无序列表"><a href="#无序列表" class="headerlink" title="无序列表"></a>无序列表</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">* 一级列表</span><br><span class="line">  * 二级列表</span><br><span class="line">  * 二级列表</span><br><span class="line">    * 三级列表</span><br><span class="line">    * 三级列表</span><br><span class="line">* 一级列表</span><br><span class="line">* 一级列表</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="表格"><a href="#表格" class="headerlink" title="表格"></a>表格</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">左对齐</span><br><span class="line">:----------</span><br><span class="line">右对齐</span><br><span class="line">----------:</span><br><span class="line">居中对齐</span><br><span class="line">:----------:</span><br><span class="line"></span><br><span class="line">| 课程表 | 星期一  |  星期二  |  星期三  | 星期四  |  星期五  |</span><br><span class="line">| :----: | :-----: | :------: | :------: | :-----: | :------: |</span><br><span class="line">|  上午  |  Math   | Chinese  |  Music   |  Math   | Chinese  |</span><br><span class="line">|  下午  | Chinese |    PE    |   Math   | English | Computer |</span><br><span class="line">| 晚自习 | English | Computer | Computer |  Math   | Chinese  |</span><br><span class="line"></span><br></pre></td></tr></table></figure><table><thead><tr><th align="center">课程表</th><th align="center">星期一</th><th align="center">星期二</th><th align="center">星期三</th><th align="center">星期四</th><th align="center">星期五</th></tr></thead><tbody><tr><td align="center">上午</td><td align="center">Math</td><td align="center">Chinese</td><td align="center">Music</td><td align="center">Math</td><td align="center">Chinese</td></tr><tr><td align="center">下午</td><td align="center">Chinese</td><td align="center">PE</td><td align="center">Math</td><td align="center">English</td><td align="center">Computer</td></tr><tr><td align="center">晚自习</td><td align="center">English</td><td align="center">Computer</td><td align="center">Computer</td><td align="center">Math</td><td align="center">Chinese</td></tr></tbody></table><table><thead><tr><th align="center">课程表</th><th align="center">星期一</th></tr></thead><tbody><tr><td align="center">上午</td><td align="center">Math</td></tr></tbody></table><h3 id="链接"><a href="#链接" class="headerlink" title="链接"></a>链接</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[博客主页](https://baidu.com)</span><br><span class="line"></span><br><span class="line">[follow me](https://baidu.com)</span><br></pre></td></tr></table></figure><h3 id="图片"><a href="#图片" class="headerlink" title="图片"></a>图片</h3><p><img src="https://gitee.com/yesright/blogimage/raw/master/img/avatar.png" alt="头像"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">![头像](https://gitee.com/yesright/blogimage/raw/master/img/avatar.png)</span><br><span class="line">![头像](/img/avatar.png)  //可以用相对地址，此处没有对应图片所以无法显示</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="转义符"><a href="#转义符" class="headerlink" title="转义符"></a>转义符</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">\  </span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="剪切板的图片本地位置"><a href="#剪切板的图片本地位置" class="headerlink" title="剪切板的图片本地位置"></a>剪切板的图片本地位置</h3><p>&#x2F;source&#x2F;images</p><figure class="highlight plaintext"><figcaption><span>挂载到后台</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">nohup nb run --reload  &gt; nohup.out 2&gt;&amp;1 &amp;</span><br><span class="line">cat nohup.out</span><br><span class="line">ps -aux | grep go-cq</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>openwrt 基本使用</title>
      <link href="/12857.html"/>
      <url>/12857.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="网段设置"><a href="#网段设置" class="headerlink" title="网段设置"></a>网段设置</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">所有的 192.168.123.x 需要根据树莓派所处网段修改，option gateway和option dns填写路由器的 IP，若树莓派获得的 IP 为 192.168.2.154，路由器 IP 为192.168.2.1，则需要这样修改：没有option broadcast 需要自行添加</span><br><span class="line">config interface &#x27;lan&#x27;</span><br><span class="line">option type &#x27;bridge&#x27;</span><br><span class="line">option ifname &#x27;eth0&#x27;</span><br><span class="line">option proto &#x27;static&#x27;</span><br><span class="line">option ipaddr &#x27;192.168.2.100&#x27;</span><br><span class="line">option netmask &#x27;255.255.255.0&#x27;</span><br><span class="line">option ip6assign &#x27;60&#x27;</span><br><span class="line">option gateway &#x27;192.168.2.1&#x27;</span><br><span class="line">option broadcast &#x27;192.168.2.255&#x27;</span><br><span class="line">option dns &#x27;192.168.2.1&#x27;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>docker 基本使用</title>
      <link href="/7999.html"/>
      <url>/7999.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="查看所有容器"><a href="#查看所有容器" class="headerlink" title="查看所有容器"></a>查看所有容器</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker ps -a</span><br></pre></td></tr></table></figure><h3 id="运行已停止的容器"><a href="#运行已停止的容器" class="headerlink" title="运行已停止的容器"></a>运行已停止的容器</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker start 容器ID(或者容器名)</span><br></pre></td></tr></table></figure><h3 id="容器创建后修改自启"><a href="#容器创建后修改自启" class="headerlink" title="容器创建后修改自启"></a>容器创建后修改自启</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker update --restart=always 容器ID(或者容器名)</span><br></pre></td></tr></table></figure><h3 id="删除指定容器"><a href="#删除指定容器" class="headerlink" title="删除指定容器"></a>删除指定容器</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker rm -f &lt;containerid&gt;</span><br></pre></td></tr></table></figure><h3 id="按照镜像-ID-删除"><a href="#按照镜像-ID-删除" class="headerlink" title="按照镜像 ID 删除"></a>按照镜像 ID 删除</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker rmi ImageID</span><br></pre></td></tr></table></figure><h3 id="启动docker"><a href="#启动docker" class="headerlink" title="启动docker"></a>启动docker</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl start docker</span><br></pre></td></tr></table></figure><h3 id="关闭docker"><a href="#关闭docker" class="headerlink" title="关闭docker"></a>关闭docker</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl stop docker</span><br></pre></td></tr></table></figure><h3 id="重启docker"><a href="#重启docker" class="headerlink" title="重启docker"></a>重启docker</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart docker</span><br></pre></td></tr></table></figure><h3 id="查看docker运行状态"><a href="#查看docker运行状态" class="headerlink" title="查看docker运行状态"></a>查看docker运行状态</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl status docker</span><br></pre></td></tr></table></figure><h3 id="重启daemon"><a href="#重启daemon" class="headerlink" title="重启daemon"></a>重启daemon</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl  daemon-reload</span><br></pre></td></tr></table></figure><h3 id="查看所有数据卷"><a href="#查看所有数据卷" class="headerlink" title="查看所有数据卷"></a>查看所有数据卷</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker volume ls </span><br></pre></td></tr></table></figure><ul><li>ps:使用docker inspect {image_name:tag}可查看该image的架构，其中<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">true &gt; /etc/apt/sources.list.d/mobian.list  删掉配置的源，不然就需要翻</span><br></pre></td></tr></table></figure></li></ul><h1 id="更新"><a href="#更新" class="headerlink" title="更新"></a>更新</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">sudo mkdir -p /etc/docker</span><br><span class="line">sudo tee /etc/docker/daemon.json &lt;&lt;-&#x27;EOF&#x27;</span><br><span class="line">&#123;</span><br><span class="line">  &quot;registry-mirrors&quot;: [&quot;https://rzp7u4lf.mirror.aliyuncs.com&quot;]</span><br><span class="line">&#125;</span><br><span class="line">EOF</span><br><span class="line">sudo systemctl daemon-reload</span><br><span class="line">sudo systemctl restart docker</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/etc/apt</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">deb https://mirrors.aliyun.com/debian/ bullseye main non-free contrib</span><br><span class="line">deb-src https://mirrors.aliyun.com/debian/ bullseye main non-free contrib</span><br><span class="line">deb https://mirrors.aliyun.com/debian-security/ bullseye-security main</span><br><span class="line">deb-src https://mirrors.aliyun.com/debian-security/ bullseye-security main</span><br><span class="line">deb https://mirrors.aliyun.com/debian/ bullseye-updates main non-free contrib</span><br><span class="line">deb-src https://mirrors.aliyun.com/debian/ bullseye-updates main non-free contrib</span><br><span class="line">deb https://mirrors.aliyun.com/debian/ bullseye-backports main non-free contrib</span><br><span class="line">deb-src https://mirrors.aliyun.com/debian/ bullseye-backports main non-free contrib</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br></pre></td></tr></table></figure><h1 id="安装-依赖"><a href="#安装-依赖" class="headerlink" title="安装 依赖"></a>安装 依赖</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get install -y curl</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get install -y wget</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get install -y vim</span><br></pre></td></tr></table></figure><h3 id="安装docker"><a href="#安装docker" class="headerlink" title="安装docker"></a>安装docker</h3><p>安装命令如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -fsSL https://get.docker.com | bash -s docker --mirror Aliyun</span><br></pre></td></tr></table></figure><p>也可以使用国内 daocloud 一键安装命令：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -sSL https://get.daocloud.io/docker | sh</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt install docker.io</span><br></pre></td></tr></table></figure><h3 id="docker容器设置自动启动"><a href="#docker容器设置自动启动" class="headerlink" title="docker容器设置自动启动"></a>docker容器设置自动启动</h3><p>如果已经启动的项目，则使用update更新：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker update --restart=always name</span><br></pre></td></tr></table></figure><h3 id="设置开机自启docker"><a href="#设置开机自启docker" class="headerlink" title="设置开机自启docker"></a>设置开机自启docker</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">systemctl enable docker.service   </span><br><span class="line">systemctl start docker.service      </span><br><span class="line">systemctl status docker.service    #查看是否启动</span><br></pre></td></tr></table></figure><h3 id="docker-官网"><a href="#docker-官网" class="headerlink" title="docker 官网"></a>docker 官网</h3><p><a href="https://registry.hub.docker.com/">docker</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>linux 基本使用</title>
      <link href="/37983.html"/>
      <url>/37983.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="查看硬盘"><a href="#查看硬盘" class="headerlink" title="查看硬盘"></a>查看硬盘</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fdisk -l</span><br></pre></td></tr></table></figure><h3 id="编辑本地host"><a href="#编辑本地host" class="headerlink" title="编辑本地host"></a>编辑本地host</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">vi  /etc/hosts </span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="/%5Cimages%5Cpasted-0.png" alt="host文件"></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>docker 迅雷</title>
      <link href="/36473.html"/>
      <url>/36473.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d --name=xunlei --hostname=mynas --net=host -v /usbdata/xunlei:/xunlei/data -v /usbdata/downloads:/xunlei/downloads --restart=unless-stopped --privileged cnk3x/xunlei:latest</span><br></pre></td></tr></table></figure><p>默认端口:2345</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>docker 镜像位置修改</title>
      <link href="/11937.html"/>
      <url>/11937.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="docker-镜像位置修改"><a href="#docker-镜像位置修改" class="headerlink" title="docker 镜像位置修改"></a>docker 镜像位置修改</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">sudo vi /etc/docker/daemon.json </span><br><span class="line">&#123;</span><br><span class="line">  &quot;data-root&quot;: &quot;/www/docker&quot;</span><br><span class="line">&#125;</span><br><span class="line"># 重启</span><br><span class="line">systemctl restart docker</span><br><span class="line"></span><br><span class="line">#个人镜像加速地址</span><br><span class="line">&#123;</span><br><span class="line">  &quot;registry-mirrors&quot;: [&quot;https://rzp7u4lf.mirror.aliyuncs.com&quot;]</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>随身wifi</title>
      <link href="/51058.html"/>
      <url>/51058.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="挂载外置设备"><a href="#挂载外置设备" class="headerlink" title="挂载外置设备"></a>挂载外置设备</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">5.ssh连接地址10.42.0.1</span><br><span class="line">ssh root@10.42.0.1 密码:1313144</span><br><span class="line">切换usb功能命令：</span><br><span class="line">echo host&gt;/sys/kernel/debug/usb/ci_hdrc.0/role切换后可通过带供电的扩展坞插u盘硬盘（切换功能usb网络共享和adb会失效拔插棒子恢复)</span><br><span class="line">lsblk查看磁盘，lsusb查看hub接口插入情况</span><br><span class="line"></span><br><span class="line">设置swap：mkswap /dev/sda1</span><br><span class="line">启用swap：swapon /dev/sda1</span><br><span class="line"></span><br><span class="line">mount /dev/sda2 /usbdata</span><br></pre></td></tr></table></figure><h3 id="u盘自动挂载-启动配置文件"><a href="#u盘自动挂载-启动配置文件" class="headerlink" title="u盘自动挂载 启动配置文件"></a>u盘自动挂载 启动配置文件</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"># 文件地址</span><br><span class="line">/usr/sbin/mobian-usb-gadget</span><br><span class="line">    ###########################</span><br><span class="line">#    echo host&gt;/sys/kernel/debug/usb/ci_hdrc.0/role</span><br><span class="line">#    sleep 5</span><br><span class="line">#    mount /dev/sda2 /mnt/www</span><br><span class="line">#    sleep 1</span><br><span class="line">#    swapon /dev/sda1</span><br><span class="line">#    sleep 5</span><br><span class="line">#    service bt restart</span><br><span class="line">    ###########################</span><br><span class="line"># 文件内容</span><br><span class="line">#!/bin/sh</span><br><span class="line"></span><br><span class="line">CONFIGFS=/sys/kernel/config/usb_gadget/g1</span><br><span class="line"></span><br><span class="line">setup() &#123;</span><br><span class="line"></span><br><span class="line">    # Remove All Gadgets If Gadget Exist</span><br><span class="line">    [ -d $CONFIGFS ] &amp;&amp; gc -c</span><br><span class="line">    ###########################</span><br><span class="line">    #    echo host&gt;/sys/kernel/debug/usb/ci_hdrc.0/role</span><br><span class="line">    #    sleep 5</span><br><span class="line">    #    mount /dev/sda2 /mnt/www</span><br><span class="line">    #    sleep 1</span><br><span class="line">    #    swapon /dev/sda1</span><br><span class="line">    #    sleep 5</span><br><span class="line">    #    service bt restart</span><br><span class="line">    ###########################</span><br><span class="line">    # Setiing Up Rndis</span><br><span class="line">    gc -a rndis</span><br><span class="line">    sleep 1</span><br><span class="line"></span><br><span class="line">    # Setting Up Adbd</span><br><span class="line">    gc -a ffs</span><br><span class="line">    mkdir -p /dev/usb-ffs/adb</span><br><span class="line">    </span><br><span class="line">    # in offical version of gc name will be ffs.x</span><br><span class="line">    mount -t functionfs adb /dev/usb-ffs/adb</span><br><span class="line">    </span><br><span class="line">    # Fire Up Adbd</span><br><span class="line">    adbd -D &amp;</span><br><span class="line">    # (hack) wait adbd setup</span><br><span class="line">    sleep 1</span><br><span class="line"></span><br><span class="line">    # Enable Gadget</span><br><span class="line">    gc -e</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">reset() &#123;</span><br><span class="line">    echo &quot;Removing the USB gadget...&quot;</span><br><span class="line"></span><br><span class="line">    # Remove USB gadget</span><br><span class="line">    if [ -d $CONFIGFS ]; then</span><br><span class="line">        echo &quot;Removing gadget configuration...&quot;</span><br><span class="line">        gc -c</span><br><span class="line">    fi</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">case &quot;$1&quot; in</span><br><span class="line">    reset) reset ;;</span><br><span class="line">    setup) setup ;;</span><br><span class="line">    *) ;;</span><br><span class="line">esac</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="Casa-OS安装命令："><a href="#Casa-OS安装命令：" class="headerlink" title="Casa OS安装命令："></a>Casa OS安装命令：</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -qO- https://get.icewhale.io/casaos.sh | bash</span><br></pre></td></tr></table></figure><p>或</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -fsSL https://get.icewhale.io/casaos.sh | bash</span><br></pre></td></tr></table></figure><h3 id="Casa-OS卸载命令："><a href="#Casa-OS卸载命令：" class="headerlink" title="Casa OS卸载命令："></a>Casa OS卸载命令：</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -fsSL https://get.icewhale.io/casaos-uninstall.sh | bash</span><br></pre></td></tr></table></figure><h3 id="1panel"><a href="#1panel" class="headerlink" title="1panel"></a>1panel</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">debian 安装命令</span><br><span class="line">curl -sSL https://resource.fit2cloud.com/1panel/package/quick_start.sh -o quick_start.sh &amp;&amp; bash quick_start.sh</span><br></pre></td></tr></table></figure><h3 id="imei"><a href="#imei" class="headerlink" title="imei"></a>imei</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">特价卡：868396064881025</span><br><span class="line">864495063030602-&gt;iccid:89861123225043071517 迅游 0.9 20g 未使用 有点接触不良 pcb</span><br><span class="line">861323062536846 jz02v10 无限流量卡 iccid-》89861123201047092759 灵趣使用</span><br><span class="line">861323064879889-&gt;iccid:89861122245047030849 小方盒 无限自用  LK0317030790100563 在金菠萝里</span><br><span class="line">迅优 865629062614136 iccid-》89861123205044912018  自用 家人1</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">影腾 864797076981014 iccid-》8986112221808739020-》唐家乐</span><br><span class="line">860040061132788 3000g iccid-&gt;89861122250043472466</span><br><span class="line">860040060331753 ？？</span><br><span class="line">BJadmin1234</span><br></pre></td></tr></table></figure><h3 id="刷机"><a href="#刷机" class="headerlink" title="刷机"></a>刷机</h3><p>连接IP是10.42.0.1</p><p>账号root   密码1313144<br>压缩命令</p><pre><code>btrfs filesystem defragment -r -v -czstd /</code></pre><p>    </p><h3 id="锁频"><a href="#锁频" class="headerlink" title="锁频"></a>锁频</h3><p>查看modem</p><p>    mmcli -m 0</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>当当网数据爬取</title>
      <link href="/59496.html"/>
      <url>/59496.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="当当网数据爬取"><a href="#当当网数据爬取" class="headerlink" title="当当网数据爬取"></a>当当网数据爬取</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><span class="line">import requests</span><br><span class="line">from lxml import etree</span><br><span class="line">import urllib.request</span><br><span class="line">import json</span><br><span class="line">import time</span><br><span class="line"></span><br><span class="line">from multiprocessing.dummy import Pool as ThreadPool</span><br><span class="line">import os</span><br><span class="line"></span><br><span class="line"># 取所有分类</span><br><span class="line">url = &#x27;http://category.dangdang.com/?ref=www-0-C&#x27;</span><br><span class="line">def get_HTML(url):</span><br><span class="line">    res_info =requests.get(url) </span><br><span class="line">    return etree.HTML(res_info.text)</span><br><span class="line">tree=get_HTML(url)</span><br><span class="line"></span><br><span class="line">type_m=tree.xpath(&#x27;//div[@class=&quot;classify_books&quot;]&#x27;)</span><br><span class="line"></span><br><span class="line">type_c=&#123;&#125;</span><br><span class="line"></span><br><span class="line">for i in type_m:</span><br><span class="line">    tushu=i.xpath(&quot;./div/h3/a/text()&quot;)[0]#总分类name</span><br><span class="line">    tushu_type=i.xpath(&#x27;.//div[@class=&quot;classify_kind_name&quot;]/a/text()&#x27;)#总分类下的分类name </span><br><span class="line">    x=&#123;&#125;</span><br><span class="line">    y=0</span><br><span class="line">    for j in tushu_type:</span><br><span class="line">        y=y+1</span><br><span class="line">        tushu_type_typename=i.xpath(f&#x27;(./div/ul)[&#123;y&#125;]/li/a/text()&#x27;)#总分类下的分类下的分类name</span><br><span class="line">        tushu_type_typehref=i.xpath(f&#x27;(./div/ul)[&#123;y&#125;]/li/a/@href&#x27;)#总分类下的分类下的分类name</span><br><span class="line">        x[j]=[]</span><br><span class="line">        type_c[tushu]=x</span><br><span class="line">        for op in range(len(tushu_type_typename)):</span><br><span class="line">             type_c[tushu][j].append(&#123;&quot;title&quot;:tushu_type_typename[op],&quot;href&quot;:tushu_type_typehref[op]&#125;)</span><br><span class="line">             </span><br><span class="line">with open(&quot;type_c.json&quot;, &#x27;w&#x27;, encoding=&#x27;utf-8&#x27;) as dayu:</span><br><span class="line">        print(&#x27;正在写入..&#x27;) </span><br><span class="line">        json.dump(type_c, dayu, indent=4, ensure_ascii=False)</span><br><span class="line">        print(&#x27;写完拉..&#x27;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ff=&#123;&#125; #重新排列json数据</span><br><span class="line">for i in type_c: # 大目录</span><br><span class="line">    for j in type_c[i]: #小目录</span><br><span class="line">        for index in range(len(type_c[i][j])):</span><br><span class="line">            pass</span><br><span class="line">            ff[type_c[i][j][index][&#x27;title&#x27;]]=&#123;type_c[i][j][index][&#x27;href&#x27;]:[]&#125; # s[i][j][index][&#x27;href&#x27;] 取地址</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 下载图片函数</span><br><span class="line">#  @param imageUrl 图片地址</span><br><span class="line">def imageD(imageUrl):</span><br><span class="line">    filename=imageUrl.replace(&quot;/&quot;,&quot;@&quot;)</span><br><span class="line">    byte=requests.get(&quot;http:&quot;+imageUrl).content</span><br><span class="line">    with open(&quot;image/&#123;&#125;&quot;.format(filename), &quot;wb&quot;) as f: # 文件写入</span><br><span class="line">        f.write(byte)</span><br><span class="line">    print(&quot;图片:&#123;&#125;爬取成功!&quot;.format(filename))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#多线程下载图片数据</span><br><span class="line"></span><br><span class="line">def thread_imageD(imageUrlList):</span><br><span class="line">    try:</span><br><span class="line">        # 开4个 worker，没有参数时默认是 cpu 的核心数</span><br><span class="line">        pool = ThreadPool()</span><br><span class="line">        results = pool.map(imageD, imageUrlList)</span><br><span class="line">        pool.close()</span><br><span class="line">        pool.join()</span><br><span class="line">        print(&quot;采集所有图片完成！&quot;)</span><br><span class="line">    except:</span><br><span class="line">        print(&quot;Error: unable to start thread&quot;)</span><br><span class="line"></span><br><span class="line">detail=&#123;&#125;</span><br><span class="line">tree_s=get_HTML(&quot;http://category.dangdang.com/cp01.01.13.00.00.00.html&quot;)</span><br><span class="line">zjd=tree_s.xpath(&#x27;//ul[@class=&quot;bigimg&quot;]/li&#x27;)</span><br><span class="line"></span><br><span class="line">p=0</span><br><span class="line">imageUrlList=[]</span><br><span class="line">for i in zjd:</span><br><span class="line">    p=p+1</span><br><span class="line">    if not i.xpath(&quot;.//img/@data-original&quot;): </span><br><span class="line">     imageurl=i.xpath(&quot;.//img/@src&quot;)[0]</span><br><span class="line">    else:</span><br><span class="line">        imageurl=i.xpath(&quot;.//img/@data-original&quot;)[0]</span><br><span class="line">    if not i.xpath(&#x27;./p[@class=&quot;detail&quot;]/text()&#x27;):</span><br><span class="line">        detail=None</span><br><span class="line">    else :</span><br><span class="line">        detail=i.xpath(&#x27;./p[@class=&quot;detail&quot;]/text()&#x27;)[0]</span><br><span class="line">    ff[&quot;影视写真青春文学&quot;][&quot;//category.dangdang.com/cp01.01.13.00.00.00.html&quot;].append(&#123;&quot;imageurl&quot;:imageurl,&quot;title&quot;:i.xpath(&#x27;./p[@class=&quot;name&quot;]/a/text()&#x27;)[0],&quot;price&quot;:i.xpath(&#x27;./p[@class=&quot;price&quot;]/span[@class=&quot;search_now_price&quot;]/text()&#x27;)[0],&quot;auth&quot;:i.xpath(&#x27;(./p[@class=&quot;search_book_author&quot;])[1]//a/text()&#x27;),&quot;detail&quot;:detail&#125;)</span><br><span class="line">    imageUrlList.append(imageurl)</span><br><span class="line">thread_imageD(imageUrlList)</span><br><span class="line">with open(&quot;book.json&quot;, &#x27;w&#x27;, encoding=&#x27;utf-8&#x27;) as dayu:</span><br><span class="line">        print(&#x27;正在写入..&#x27;)</span><br><span class="line">        json.dump(ff, dayu, indent=4, ensure_ascii=False)</span><br><span class="line">        print(&#x27;写完拉..&#x27;)</span><br><span class="line">        </span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>python 字符串替换</title>
      <link href="/61684.html"/>
      <url>/61684.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">txt = &quot;I like bananas&quot;</span><br><span class="line"> </span><br><span class="line">x = txt.replace(&quot;bananas&quot;, &quot;apples&quot;)</span><br><span class="line"> </span><br><span class="line">print(x)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>python判断列表为空的三种方法</title>
      <link href="/28348.html"/>
      <url>/28348.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>python中判断列表为空</p><h3 id="方法1：len"><a href="#方法1：len" class="headerlink" title="方法1：len()"></a>方法1：len()</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">list = []</span><br><span class="line">if len(list) == 0:</span><br><span class="line">    print(&#x27;list is empty&#x27;)</span><br></pre></td></tr></table></figure><h3 id="方法2：直接使用if判断"><a href="#方法2：直接使用if判断" class="headerlink" title="方法2：直接使用if判断"></a>方法2：直接使用if判断</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">list = []</span><br><span class="line">if not list:</span><br><span class="line">    print(&#x27;list is empty&#x27;)</span><br><span class="line"></span><br><span class="line">直接使用list作为判断标准，则空列表相当于False</span><br></pre></td></tr></table></figure><h3 id="方法3：使用-进行判断"><a href="#方法3：使用-进行判断" class="headerlink" title="方法3：使用&#x3D;&#x3D;进行判断"></a>方法3：使用&#x3D;&#x3D;进行判断</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">EmptyList = []</span><br><span class="line">list = []</span><br><span class="line">if list==EmptyList:</span><br><span class="line">    print(&#x27;list is empty&#x27;)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> python </tag>
            
            <tag> python基础 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>大数据 HDFS的基本概念-Metadata</title>
      <link href="/24385.html"/>
      <url>/24385.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>元数据从类型上分可分三种信息形式，一是维护HDFS文件系统中文件和目录的信息，例如文件名、目录名、父目录信息、文件大小，创建时间、修改时间等；二是记录文件内客内容存储相关信息，例如文件分块情况、副本个致、每个副本所任的DataNode信息等；三是用来记录<br>HDFS中所有DataNlode的信息，用于DataNode管理。</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>speedgithub</title>
      <link href="/26298.html"/>
      <url>/26298.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br></pre></td><td class="code"><pre><span class="line">&#x27;use strict&#x27;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * static files (404.html, sw.js, conf.js)</span><br><span class="line"> */</span><br><span class="line">const ASSET_URL = &#x27;https://github.com/dayuya&#x27;</span><br><span class="line">// 前缀，如果自定义路由为example.com/gh/*，将PREFIX改为 &#x27;/gh/&#x27;，注意，少一个杠都会错！</span><br><span class="line">const PREFIX = &#x27;/&#x27;</span><br><span class="line">// git使用cnpmjs镜像、分支文件使用jsDelivr镜像的开关，0为关闭，默认开启</span><br><span class="line">const Config = &#123;</span><br><span class="line">    jsdelivr: 1,</span><br><span class="line">    cnpmjs: 1</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/** @type &#123;RequestInit&#125; */</span><br><span class="line">const PREFLIGHT_INIT = &#123;</span><br><span class="line">    status: 204,</span><br><span class="line">    headers: new Headers(&#123;</span><br><span class="line">        &#x27;access-control-allow-origin&#x27;: &#x27;*&#x27;,</span><br><span class="line">        &#x27;access-control-allow-methods&#x27;: &#x27;GET,POST,PUT,PATCH,TRACE,DELETE,HEAD,OPTIONS&#x27;,</span><br><span class="line">        &#x27;access-control-max-age&#x27;: &#x27;1728000&#x27;,</span><br><span class="line">    &#125;),</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">const exp1 = /^(?:https?:\/\/)?github\.com\/.+?\/.+?\/(?:releases|archive)\/.*$/i</span><br><span class="line">const exp2 = /^(?:https?:\/\/)?github\.com\/.+?\/.+?\/(?:blob|raw)\/.*$/i</span><br><span class="line">const exp3 = /^(?:https?:\/\/)?github\.com\/.+?\/.+?\/(?:info|git-).*$/i</span><br><span class="line">const exp4 = /^(?:https?:\/\/)?raw\.(?:githubusercontent|github)\.com\/.+?\/.+?\/.+?\/.+$/i</span><br><span class="line">const exp5 = /^(?:https?:\/\/)?gist\.(?:githubusercontent|github)\.com\/.+?\/.+?\/.+$/i</span><br><span class="line">const exp6 = /^(?:https?:\/\/)?github\.com\/.+?\/.+?\/tags.*$/i</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * @param &#123;any&#125; body</span><br><span class="line"> * @param &#123;number&#125; status</span><br><span class="line"> * @param &#123;Object&lt;string, string&gt;&#125; headers</span><br><span class="line"> */</span><br><span class="line">function makeRes(body, status = 200, headers = &#123;&#125;) &#123;</span><br><span class="line">    headers[&#x27;access-control-allow-origin&#x27;] = &#x27;*&#x27;</span><br><span class="line">    return new Response(body, &#123;status, headers&#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * @param &#123;string&#125; urlStr</span><br><span class="line"> */</span><br><span class="line">function newUrl(urlStr) &#123;</span><br><span class="line">    try &#123;</span><br><span class="line">        return new URL(urlStr)</span><br><span class="line">    &#125; catch (err) &#123;</span><br><span class="line">        return null</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">addEventListener(&#x27;fetch&#x27;, e =&gt; &#123;</span><br><span class="line">    const ret = fetchHandler(e)</span><br><span class="line">        .catch(err =&gt; makeRes(&#x27;cfworker error:\n&#x27; + err.stack, 502))</span><br><span class="line">    e.respondWith(ret)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">function checkUrl(u) &#123;</span><br><span class="line">    for (let i of [exp1, exp2, exp3, exp4, exp5, exp6 ]) &#123;</span><br><span class="line">        if (u.search(i) === 0) &#123;</span><br><span class="line">            return true</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return false</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * @param &#123;FetchEvent&#125; e</span><br><span class="line"> */</span><br><span class="line">async function fetchHandler(e) &#123;</span><br><span class="line">    const req = e.request</span><br><span class="line">    const urlStr = req.url</span><br><span class="line">    const urlObj = new URL(urlStr)</span><br><span class="line">    let path = urlObj.searchParams.get(&#x27;q&#x27;)</span><br><span class="line">    if (path) &#123;</span><br><span class="line">        return Response.redirect(&#x27;https://&#x27; + urlObj.host + PREFIX + path, 301)</span><br><span class="line">    &#125;</span><br><span class="line">    // cfworker 会把路径中的 `//` 合并成 `/`</span><br><span class="line">    path = urlObj.href.substr(urlObj.origin.length + PREFIX.length).replace(/^https?:\/+/, &#x27;https://&#x27;)</span><br><span class="line">    if (path.search(exp1) === 0 || path.search(exp5) === 0 || path.search(exp6) === 0 || !Config.cnpmjs &amp;&amp; (path.search(exp3) === 0 || path.search(exp4) === 0)) &#123;</span><br><span class="line">        return httpHandler(req, path)</span><br><span class="line">    &#125; else if (path.search(exp2) === 0) &#123;</span><br><span class="line">        if (Config.jsdelivr) &#123;</span><br><span class="line">            const newUrl = path.replace(&#x27;/blob/&#x27;, &#x27;@&#x27;).replace(/^(?:https?:\/\/)?github\.com/, &#x27;https://cdn.jsdelivr.net/gh&#x27;)</span><br><span class="line">            return Response.redirect(newUrl, 302)</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            path = path.replace(&#x27;/blob/&#x27;, &#x27;/raw/&#x27;)</span><br><span class="line">            return httpHandler(req, path)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; else if (path.search(exp3) === 0) &#123;</span><br><span class="line">        const newUrl = path.replace(/^(?:https?:\/\/)?github\.com/, &#x27;https://github.com.cnpmjs.org&#x27;)</span><br><span class="line">        return Response.redirect(newUrl, 302)</span><br><span class="line">    &#125; else if (path.search(exp4) === 0) &#123;</span><br><span class="line">        const newUrl = path.replace(/(?&lt;=com\/.+?\/.+?)\/(.+?\/)/, &#x27;@$1&#x27;).replace(/^(?:https?:\/\/)?raw\.(?:githubusercontent|github)\.com/, &#x27;https://cdn.jsdelivr.net/gh&#x27;)</span><br><span class="line">        return Response.redirect(newUrl, 302)</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        return fetch(ASSET_URL + path)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * @param &#123;Request&#125; req</span><br><span class="line"> * @param &#123;string&#125; pathname</span><br><span class="line"> */</span><br><span class="line">function httpHandler(req, pathname) &#123;</span><br><span class="line">    const reqHdrRaw = req.headers</span><br><span class="line"></span><br><span class="line">    // preflight</span><br><span class="line">    if (req.method === &#x27;OPTIONS&#x27; &amp;&amp;</span><br><span class="line">        reqHdrRaw.has(&#x27;access-control-request-headers&#x27;)</span><br><span class="line">    ) &#123;</span><br><span class="line">        return new Response(null, PREFLIGHT_INIT)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    const reqHdrNew = new Headers(reqHdrRaw)</span><br><span class="line"></span><br><span class="line">    let urlStr = pathname</span><br><span class="line">    if (urlStr.startsWith(&#x27;github&#x27;)) &#123;</span><br><span class="line">        urlStr = &#x27;https://&#x27; + urlStr</span><br><span class="line">    &#125;</span><br><span class="line">    const urlObj = newUrl(urlStr)</span><br><span class="line"></span><br><span class="line">    /** @type &#123;RequestInit&#125; */</span><br><span class="line">    const reqInit = &#123;</span><br><span class="line">        method: req.method,</span><br><span class="line">        headers: reqHdrNew,</span><br><span class="line">        redirect: &#x27;manual&#x27;,</span><br><span class="line">        body: req.body</span><br><span class="line">    &#125;</span><br><span class="line">    return proxy(urlObj, reqInit)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> *</span><br><span class="line"> * @param &#123;URL&#125; urlObj</span><br><span class="line"> * @param &#123;RequestInit&#125; reqInit</span><br><span class="line"> */</span><br><span class="line">async function proxy(urlObj, reqInit) &#123;</span><br><span class="line">    const res = await fetch(urlObj.href, reqInit)</span><br><span class="line">    const resHdrOld = res.headers</span><br><span class="line">    const resHdrNew = new Headers(resHdrOld)</span><br><span class="line"></span><br><span class="line">    const status = res.status</span><br><span class="line"></span><br><span class="line">    if (resHdrNew.has(&#x27;location&#x27;)) &#123;</span><br><span class="line">        let _location = resHdrNew.get(&#x27;location&#x27;)</span><br><span class="line">        if (checkUrl(_location))</span><br><span class="line">            resHdrNew.set(&#x27;location&#x27;, PREFIX + _location)</span><br><span class="line">        else &#123;</span><br><span class="line">            reqInit.redirect = &#x27;follow&#x27;</span><br><span class="line">            return proxy(newUrl(_location), reqInit)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    resHdrNew.set(&#x27;access-control-expose-headers&#x27;, &#x27;*&#x27;)</span><br><span class="line">    resHdrNew.set(&#x27;access-control-allow-origin&#x27;, &#x27;*&#x27;)</span><br><span class="line"></span><br><span class="line">    resHdrNew.delete(&#x27;content-security-policy&#x27;)</span><br><span class="line">    resHdrNew.delete(&#x27;content-security-policy-report-only&#x27;)</span><br><span class="line">    resHdrNew.delete(&#x27;clear-site-data&#x27;)</span><br><span class="line"></span><br><span class="line">    return new Response(res.body, &#123;</span><br><span class="line">        status,</span><br><span class="line">        headers: resHdrNew,</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>sqlserver</title>
      <link href="/13.html"/>
      <url>/13.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="要求"><a href="#要求" class="headerlink" title="要求"></a>要求</h2><ol><li>创建数据库BookDB</li><li>创建数据表tBook（id、书名、作者、价格、出版社）</li><li>插入4行数据<br>001Java程序设计张三34.00清华大学出版社<br>002Java编程圣经李四66.00清华大学出版社<br>003Python入门王五54.00机械工业出版社<br>004Java面试宝典张三42.00人民邮电出版社</li></ol>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>leancloud</title>
      <link href="/25485.html"/>
      <url>/25485.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>typecho 安装</title>
      <link href="/12495.html"/>
      <url>/12495.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="typecho-window"><a href="#typecho-window" class="headerlink" title="typecho window"></a>typecho window</h2><p>外观使用</p><h2 id="typecho-linux"><a href="#typecho-linux" class="headerlink" title="typecho linux"></a>typecho linux</h2><h3 id="首先用下面的命令把数据源处理一下"><a href="#首先用下面的命令把数据源处理一下" class="headerlink" title="首先用下面的命令把数据源处理一下"></a>首先用下面的命令把数据源处理一下</h3><p>true &gt; &#x2F;etc&#x2F;apt&#x2F;sources.list.d&#x2F;mobian.list</p><h3 id="然后更新依赖和安装需要支持软件。"><a href="#然后更新依赖和安装需要支持软件。" class="headerlink" title="然后更新依赖和安装需要支持软件。"></a>然后更新依赖和安装需要支持软件。</h3><p>sudo apt-get update</p><p>apt-get install -y wget</p><p>apt-get install -y curl</p><p>apt-get install -y vim</p><h3 id="然后开始安装php和sql"><a href="#然后开始安装php和sql" class="headerlink" title="然后开始安装php和sql"></a>然后开始安装php和sql</h3><h4 id="安装Nginx"><a href="#安装Nginx" class="headerlink" title="安装Nginx"></a>安装Nginx</h4><p>apt install -y nginx</p><h4 id="安装PHP及部分扩展"><a href="#安装PHP及部分扩展" class="headerlink" title="安装PHP及部分扩展"></a>安装PHP及部分扩展</h4><p>apt install -y php php-fpm php-mysqli php-mbstring</p><h4 id="安装MySQL"><a href="#安装MySQL" class="headerlink" title="安装MySQL"></a>安装MySQL</h4><p>apt install -y mariadb-server</p><h4 id="安装解压工具"><a href="#安装解压工具" class="headerlink" title="安装解压工具"></a>安装解压工具</h4><p>apt install -y zip</p><h4 id="然后输入下面的命令创建数据库，数据库名typecho，添加用户到MySQL数据库中，用户名typecho-密码typecho，登录主机为localhost-仅允许本机登录，无法远程登录"><a href="#然后输入下面的命令创建数据库，数据库名typecho，添加用户到MySQL数据库中，用户名typecho-密码typecho，登录主机为localhost-仅允许本机登录，无法远程登录" class="headerlink" title="然后输入下面的命令创建数据库，数据库名typecho，添加用户到MySQL数据库中，用户名typecho  密码typecho，登录主机为localhost(仅允许本机登录，无法远程登录)"></a>然后输入下面的命令创建数据库，数据库名typecho，添加用户到MySQL数据库中，用户名typecho  密码typecho，登录主机为localhost(仅允许本机登录，无法远程登录)</h4><p>mysql -u root -p密码 &lt;&lt;EOF</p><p>create database if  not exists typecho default charset utf8 collate utf8_general_ci;</p><p>create user ‘typecho‘@’localhost’ identified by ‘typecho’;</p><p>grant all on typecho.* to ‘typecho‘@’localhost’;</p><p>flush privileges;</p><p>EOF</p><h4 id="下载typecho"><a href="#下载typecho" class="headerlink" title="下载typecho"></a>下载typecho</h4><p>wget -O &#x2F;var&#x2F;www&#x2F;html&#x2F;typecho.zip <a href="https://github.com/typecho/typecho/releases/latest/download/typecho.zip">https://github.com/typecho/typecho/releases/latest/download/typecho.zip</a></p><h4 id="解压，解压完毕删除原压缩包-删除Nginx默认页面"><a href="#解压，解压完毕删除原压缩包-删除Nginx默认页面" class="headerlink" title="解压，解压完毕删除原压缩包 删除Nginx默认页面"></a>解压，解压完毕删除原压缩包 删除Nginx默认页面</h4><p>unzip -d &#x2F;var&#x2F;www&#x2F;html &#x2F;var&#x2F;www&#x2F;html&#x2F;typecho.zip</p><p>rm &#x2F;var&#x2F;www&#x2F;html&#x2F;typecho.zip</p><p>rm &#x2F;var&#x2F;www&#x2F;html&#x2F;index.html</p><p>rm &#x2F;var&#x2F;www&#x2F;html&#x2F;index.nginx-debian.html</p><h4 id="授予读写权限"><a href="#授予读写权限" class="headerlink" title="授予读写权限"></a>授予读写权限</h4><p>chmod -R 777 &#x2F;var&#x2F;www&#x2F;html</p><h4 id="备份Nginx配置"><a href="#备份Nginx配置" class="headerlink" title="备份Nginx配置"></a>备份Nginx配置</h4><p>cp -p &#x2F;etc&#x2F;nginx&#x2F;sites-enabled&#x2F;default &#x2F;etc&#x2F;nginx&#x2F;sites-enabled_default.<code>date +%Y-%m-%d_%H-%M-%S</code>.bak</p><h4 id="还原Nginx配置"><a href="#还原Nginx配置" class="headerlink" title="还原Nginx配置"></a>还原Nginx配置</h4><p>wget -O &#x2F;etc&#x2F;nginx&#x2F;sites-enabled&#x2F;default <a href="https://imtx-bucket.oss-cn-shenzhen.aliyuncs.com/linux/backup/typecho/default">https://imtx-bucket.oss-cn-shenzhen.aliyuncs.com/linux/backup/typecho/default</a></p><h4 id="重新加载配置文件，重启Nginx"><a href="#重新加载配置文件，重启Nginx" class="headerlink" title="重新加载配置文件，重启Nginx"></a>重新加载配置文件，重启Nginx</h4><p>nginx -s reload</p><p>systemctl restart nginx</p><p>等到它运行结束出现命令提示符就安装结束了，可以在浏览器中使用棒子的IP打开博客了。</p><p>tunnel: 91a4a296-32db-4e1e-a243-f6a3ff61af47<br>credentials-file: &#x2F;root&#x2F;.cloudflared&#x2F;91a4a296-32db-4e1e-a243-f6a3ff61af47.json<br>ingress:</p><ul><li>hostname: typecho.146334.xyz<br>service: <a href="http://127.0.0.1/">http://127.0.0.1</a></li><li>service: http_status:404</li></ul><p>cloudflared tunnel create cho<br>cloudflared tunnel route dns cho cho.146334.xyz</p><p>cloudflared service install</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>内网穿透</title>
      <link href="/45608.html"/>
      <url>/45608.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="cloudflare-windows-http"><a href="#cloudflare-windows-http" class="headerlink" title="cloudflare windows http"></a>cloudflare windows http</h2><h3 id="域名停靠"><a href="#域名停靠" class="headerlink" title="域名停靠"></a>域名停靠</h3><h3 id="本地运行"><a href="#本地运行" class="headerlink" title="本地运行"></a>本地运行</h3><p>下载cloudflare.exe</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure><p>运行<br>配置hostname</p><h2 id="zerotier"><a href="#zerotier" class="headerlink" title="zerotier"></a>zerotier</h2><p><a href="https://my.zerotier.com/network/abfd31bd4761ba43">https://my.zerotier.com/network/abfd31bd4761ba43</a></p><p>docker pull bltavares&#x2F;zerotier</p><p>docker run -d –device&#x3D;&#x2F;dev&#x2F;net&#x2F;tun <br>–name zerotier-one <br>–net&#x3D;host <br>–restart&#x3D;always <br>–cap-add&#x3D;NET_ADMIN <br>–cap-add&#x3D;SYS_ADMIN <br>-v &#x2F;var&#x2F;lib&#x2F;zerotier-one:&#x2F;var&#x2F;lib&#x2F;zerotier-one <br>bltavares&#x2F;zerotier:latest</p><p>docker exec zerotier-one zerotier-cli join [网络ID]</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>vscode 远程访问</title>
      <link href="/2826.html"/>
      <url>/2826.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="远程访问"><a href="#远程访问" class="headerlink" title="远程访问"></a>远程访问</h2><h3 id="官方文档"><a href="#官方文档" class="headerlink" title="官方文档"></a>官方文档</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://code.visualstudio.com/docs/remote/tunnels</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>java基础</title>
      <link href="/61982.html"/>
      <url>/61982.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="第一章-初识Java"><a href="#第一章-初识Java" class="headerlink" title="第一章 初识Java"></a>第一章 初识Java</h2><ol><li>解什么是程序及Java</li><li>搭建Java运行环境</li><li>如何写Java代码</li><li>编写第一个Java程序</li><li>如何解决程序的错误</li><li>学会注释及输出控制符</li></ol><h2 id="第二章：变量、数据类型和运算符"><a href="#第二章：变量、数据类型和运算符" class="headerlink" title="第二章：变量、数据类型和运算符"></a>第二章：变量、数据类型和运算符</h2><ol><li>认识变量</li><li>如何声明变量</li><li>变量命名规则与数据类型</li><li>赋值运算符</li><li>算数运算符的应用 点击观看</li><li>认识%求余</li><li>数据类型的自动转换</li><li>数据类型的强制转换</li><li>数据的输入</li></ol><h2 id="第三章：条件选择结构"><a href="#第三章：条件选择结构" class="headerlink" title="第三章：条件选择结构"></a>第三章：条件选择结构</h2><ol><li>实例:数字交换</li><li>boolean数据类型与关系运算符</li><li>if条件语句的使用</li><li>逻辑运算符</li><li>运算符的优先级</li><li>else分支</li><li>多重if结构</li><li>if嵌套结构</li><li>switch多分支结构</li><li>实例:求偶数</li><li>实例:判读瑞年</li><li>取随机数</li></ol><h3 id="实例-猜拳游戏1"><a href="#实例-猜拳游戏1" class="headerlink" title="实例:猜拳游戏1"></a>实例:猜拳游戏1</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> B20221228;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Random;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@author</span> dayu</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line"><span class="keyword">public</span> class 猜拳小游戏 &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Random</span> <span class="variable">random</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Random</span>();</span><br><span class="line">        System.out.println(<span class="string">&quot;游戏开始&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;石头 剪刀 布 三种情况&quot;</span>);</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>)&#123;</span><br><span class="line">            <span class="type">int</span>  result=random.nextInt( <span class="number">4</span> )+<span class="number">1</span>;</span><br><span class="line">            System.out.println(<span class="string">&quot;请输入 石头、剪刀、布、退出\n&quot;</span>);</span><br><span class="line">            Scanner aa=<span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">            String gg=aa.next();</span><br><span class="line">            <span class="type">int</span> a=<span class="number">0</span>;</span><br><span class="line">            <span class="keyword">if</span>(gg.equals(<span class="string">&quot;石头&quot;</span>))&#123;</span><br><span class="line">                a=<span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(gg.equals(<span class="string">&quot;剪刀&quot;</span>))&#123;</span><br><span class="line">                a=<span class="number">2</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(gg.equals(<span class="string">&quot;布&quot;</span>))&#123;</span><br><span class="line">                a=<span class="number">3</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(gg.equals(<span class="string">&quot;退出&quot;</span>))&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;good by&quot;</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">switch</span> (a)&#123;</span><br><span class="line">                <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">                    <span class="keyword">if</span>(a==result)&#123;</span><br><span class="line">                        System.out.println(<span class="string">&quot;平局，你出的是石头，我出的也是石头&quot;</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">if</span>(result==<span class="number">2</span>)&#123;</span><br><span class="line">                        System.out.println(<span class="string">&quot;你赢了，你出的是石头，我出的是剪刀&quot;</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">if</span>(result==<span class="number">3</span>)&#123;</span><br><span class="line">                        System.out.println(<span class="string">&quot;你输了，你出的是石头，我出的是布&quot;</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">                    <span class="keyword">if</span>(result==<span class="number">1</span>)&#123;</span><br><span class="line">                        System.out.println(<span class="string">&quot;你输了，你出的是剪刀，我出的是石头&quot;</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">if</span>(result==<span class="number">2</span>)&#123;</span><br><span class="line">                        System.out.println(<span class="string">&quot;平局，你出的是剪刀，我出的是剪刀&quot;</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">if</span>(result==<span class="number">3</span>)&#123;</span><br><span class="line">                        System.out.println(<span class="string">&quot;你赢了，你出的是剪刀，我出的是布&quot;</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">                    <span class="keyword">if</span>(result==<span class="number">1</span>)&#123;</span><br><span class="line">                        System.out.println(<span class="string">&quot;你赢了，你出的是布，我出的也是石头&quot;</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">if</span>(result==<span class="number">2</span>)&#123;</span><br><span class="line">                        System.out.println(<span class="string">&quot;你输了，你出的是布，我出的是剪刀&quot;</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">if</span>(result==<span class="number">3</span>)&#123;</span><br><span class="line">                        System.out.println(<span class="string">&quot;平局，你出的是布，我出的是布&quot;</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">default</span>:</span><br><span class="line">                    System.out.println(<span class="string">&quot;异常&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li>实例:猜拳游戏2</li><li>实例:猜拳游戏3</li></ol><h2 id="第四章：循环结构"><a href="#第四章：循环结构" class="headerlink" title="第四章：循环结构"></a>第四章：循环结构</h2><ol><li>章节项目预告</li><li>认识循环</li><li>算术运算符的分类</li><li>while循环语句</li><li>实例:累加求和</li><li>实例:求学员平均成绩</li><li>while循环小结</li><li>do-while循环结构</li><li>实例:猜数字游戏</li><li>安装MyEclipse </li><li>使用MyEclipse新建项目</li><li>使用MyEclipse创建java文件</li><li>程序调试 (1)</li><li>程序调试（2）</li><li>程序调试（3）</li><li>for循环结构</li><li>for循环结构练习</li><li>for循环常见问题及break语句</li><li>Continue语句</li><li>循环嵌套</li><li>实例:九九乘法表</li><li>实例:日历的制作（1）</li><li>实例:日历的制作（2）</li><li>实例:日历的制作（3）</li><li>实例:日历的制作（4）</li><li>实例:日历的制作（5）</li><li>实例:日历的制作（6）</li></ol><h2 id="第五章：数组"><a href="#第五章：数组" class="headerlink" title="第五章：数组"></a>第五章：数组</h2><ol><li>JVM内存分析</li><li>认识数组（1）</li><li>认识数组（2）</li><li>数组的存储原理</li><li>键盘录入赋值</li><li>数组的length属性</li><li>数组求最大值</li><li>数组的排序（1）</li><li>数组的排序（2）</li><li>数组复制算法</li><li>数组查找算法</li><li>数组插入算法</li><li>数组冒泡排序<br>概念：两两比较<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span>[] arr = &#123; <span class="number">8</span>, <span class="number">7</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">0</span>, <span class="number">4</span>, <span class="number">9</span> &#125;;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; arr.length - <span class="number">1</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; arr.length - <span class="number">1</span> - i; j++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (arr[j] &gt; arr[j + <span class="number">1</span>]) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span> arr[j];</span><br><span class="line">            arr[j] = arr[j + <span class="number">1</span>];</span><br><span class="line">            arr[j + <span class="number">1</span>] = temp;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i : arr) &#123;</span><br><span class="line">    System.out.println(i);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>选择排序原理</li><li>选择排序实例<br>概念：每个值依次比较<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span>[] arr = &#123; <span class="number">8</span>, <span class="number">7</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">0</span>, <span class="number">4</span>, <span class="number">9</span> &#125;;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; arr.length - <span class="number">1</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i+<span class="number">1</span>; j &lt; arr.length; j++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (arr[i] &gt; arr[j]) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span> arr[i];</span><br><span class="line">            arr[i] = arr[j];</span><br><span class="line">            arr[j] = temp;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i : arr) &#123;</span><br><span class="line">    System.out.println(i);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>插入排序<br>概念: 分有序和无序两部分<br>条件：找出无序其实索引并且记录<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span>[] arr = &#123; <span class="number">8</span>, <span class="number">7</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">0</span>, <span class="number">4</span>, <span class="number">9</span> &#125;;</span><br><span class="line"><span class="type">int</span> startIndex=-<span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; arr.length - <span class="number">1</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (arr[i] &gt; arr[i + <span class="number">1</span>]) &#123;</span><br><span class="line">        startIndex = i + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> startIndex; i &lt; arr.length - <span class="number">1</span>; i++) &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i;</span><br><span class="line">    <span class="keyword">while</span> (j &gt; <span class="number">0</span> &amp;&amp; arr[j] &lt; arr[j - <span class="number">1</span>]) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span> arr[j-<span class="number">1</span>];</span><br><span class="line">        arr[j-<span class="number">1</span>] = arr[j];</span><br><span class="line">        arr[j] = temp;</span><br><span class="line">        j--;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i : arr) &#123;</span><br><span class="line">    System.out.println(i);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>递归排序<br>概念:自己调用自己<br>条件:需要一个出口，也就是方法返回值<figure class="highlight java"><figcaption><span>乘阶</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">         <span class="type">int</span> a=get(<span class="number">2</span>);</span><br><span class="line">         System.out.println(a);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">get</span><span class="params">(<span class="type">int</span> number)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(number==<span class="number">1</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> number*get(number-<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>快速排序<br>概念：找到基准数<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">int</span>[] arr = &#123; <span class="number">8</span>, <span class="number">7</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">0</span>, <span class="number">4</span>, <span class="number">9</span> &#125;;</span><br><span class="line">        quickSort(arr, <span class="number">0</span>, arr.length - <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i : arr) &#123;</span><br><span class="line">            System.out.print(i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">quickSort</span><span class="params">(<span class="type">int</span>[] arr, <span class="type">int</span> i, <span class="type">int</span> j)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">start</span> <span class="operator">=</span> i;</span><br><span class="line">        <span class="type">int</span> <span class="variable">end</span> <span class="operator">=</span> j;</span><br><span class="line">        <span class="keyword">if</span>(start&gt;end)&#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> <span class="variable">baseNumber</span> <span class="operator">=</span> arr[i];</span><br><span class="line">        <span class="keyword">while</span> (start != end) &#123;</span><br><span class="line">            <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (end &lt;= start || arr[end] &lt; baseNumber) &#123;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                end--;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (end &lt;= start || arr[start] &gt; baseNumber) &#123;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                start++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span> arr[start];</span><br><span class="line">            arr[start] = arr[end];</span><br><span class="line">            arr[end] = temp;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span> arr[i];</span><br><span class="line">        arr[i] = arr[start];</span><br><span class="line">        arr[end] = temp;</span><br><span class="line">        quickSort(arr, i, start - <span class="number">1</span>);</span><br><span class="line">        quickSort(arr, start + <span class="number">1</span>, j);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li><li>多维数组（1）</li><li>多维数组（2）</li><li>学生成绩管理系统（1）</li><li>学生成绩管理系统（2）</li><li>学生成绩管理系统（3）</li><li>学生成绩管理系统（4）</li><li>学生成绩管理系统（5）</li><li>学生成绩管理系统（6）</li></ol><h2 id="第六章：类与对象"><a href="#第六章：类与对象" class="headerlink" title="第六章：类与对象"></a>第六章：类与对象</h2><h2 id="GUI-编程-JFrame"><a href="#GUI-编程-JFrame" class="headerlink" title="GUI 编程 JFrame"></a>GUI 编程 JFrame</h2><h2 id="基础"><a href="#基础" class="headerlink" title="基础"></a>基础</h2><pre><code>short 在运算的过程会自动转化int</code></pre><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a++;  <span class="comment">// 先赋值再运算（自增）</span></span><br><span class="line">--a;  <span class="comment">// 先运算（自增）再赋值</span></span><br></pre></td></tr></table></figure><h1 id="java中都有什么运算符"><a href="#java中都有什么运算符" class="headerlink" title="java中都有什么运算符"></a>java中都有什么运算符</h1><ol><li>算术运算符：用于执行基本的数学运算，如加法、减法、乘法、除法和取模等。</li><li>赋值运算符：用于给变量赋值，如 &#x3D;、+&#x3D;、-&#x3D; 等。</li><li>比较运算符：用于比较两个值，返回一个布尔值，如 &#x3D;&#x3D;、!&#x3D;、&lt;、&gt;、&lt;&#x3D;、&gt;&#x3D; 等。</li><li>逻辑运算符：用于在布尔类型的操作数上执行逻辑运算，如 &amp;&amp;（与）、||（或）、!（非）等。</li><li>位运算符：用于对整数类型的数据执行位级别的操作，如按位与（&amp;）、按位或（|）、按位异或（^）等。</li><li>条件运算符（三元运算符）：用于根据布尔表达式的结果选择两个值中的一个，如 condition ? value1 : value2。</li><li>instanceof 运算符：用于检查对象是否是特定类的实例，返回布尔值。</li></ol><h1 id="项目"><a href="#项目" class="headerlink" title="项目"></a>项目</h1><h2 id="猜拳游戏-thread"><a href="#猜拳游戏-thread" class="headerlink" title="猜拳游戏(thread)"></a>猜拳游戏(thread)</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.jiawendd;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *  多线程运行  服务端与客户端同时进行</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> class 猜拳游戏 &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String[] CHOICES = &#123;<span class="string">&quot;rock&quot;</span>, <span class="string">&quot;paper&quot;</span>, <span class="string">&quot;scissors&quot;</span>&#125;;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">ROCK</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">PAPER</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">SCISSORS</span> <span class="operator">=</span> <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> <span class="variable">playerScore</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> <span class="variable">computerScore</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">getUserChoice</span><span class="params">(Scanner scanner)</span> &#123;</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;Enter your choice (0 for rock, 1 for paper, 2 for scissors):&quot;</span>);</span><br><span class="line">            <span class="keyword">if</span> (scanner.hasNextInt()) &#123;</span><br><span class="line">                <span class="type">int</span> <span class="variable">choice</span> <span class="operator">=</span> scanner.nextInt();</span><br><span class="line">                <span class="keyword">if</span> (choice &gt;= <span class="number">0</span> &amp;&amp; choice &lt;= <span class="number">2</span>) &#123;</span><br><span class="line">                    <span class="keyword">return</span> choice;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(<span class="string">&quot;Invalid input. Please enter a number between 0 and 2.&quot;</span>);</span><br><span class="line">            scanner.nextLine(); <span class="comment">// Clear the input buffer</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">getComputerChoice</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> (<span class="type">int</span>) (Math.random() * <span class="number">3</span>); <span class="comment">// 0 for rock, 1 for paper, 2 for scissors</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">determineWinner</span><span class="params">(<span class="type">int</span> userChoice, <span class="type">int</span> computerChoice)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;You chose: &quot;</span> + CHOICES[userChoice]);</span><br><span class="line">        System.out.println(<span class="string">&quot;Computer chose: &quot;</span> + CHOICES[computerChoice]);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (userChoice == computerChoice) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;It&#x27;s a tie!&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> ((userChoice == ROCK &amp;&amp; computerChoice == SCISSORS) ||</span><br><span class="line">                (userChoice == PAPER &amp;&amp; computerChoice == ROCK) ||</span><br><span class="line">                (userChoice == SCISSORS &amp;&amp; computerChoice == PAPER)) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;You win this round!&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;Computer wins this round!&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">scanner</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        System.out.println(<span class="string">&quot;Let&#x27;s play Rock, Paper, Scissors!&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">Thread</span> <span class="variable">playerThread</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">            <span class="keyword">while</span> (playerScore &lt; <span class="number">3</span> &amp;&amp; computerScore &lt; <span class="number">3</span>) &#123;</span><br><span class="line">                <span class="type">int</span> <span class="variable">userChoice</span> <span class="operator">=</span> getUserChoice(scanner);</span><br><span class="line">                <span class="type">int</span> <span class="variable">computerChoice</span> <span class="operator">=</span> getComputerChoice();</span><br><span class="line">                determineWinner(userChoice, computerChoice);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        <span class="type">Thread</span> <span class="variable">computerThread</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">            <span class="keyword">while</span> (playerScore &lt; <span class="number">3</span> &amp;&amp; computerScore &lt; <span class="number">3</span>) &#123;</span><br><span class="line">                <span class="type">int</span> <span class="variable">computerChoice</span> <span class="operator">=</span> getComputerChoice();</span><br><span class="line">                <span class="type">int</span> <span class="variable">userChoice</span> <span class="operator">=</span> getUserChoice(scanner);</span><br><span class="line">                determineWinner(userChoice, computerChoice);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        playerThread.start();</span><br><span class="line">        computerThread.start();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            playerThread.join();</span><br><span class="line">            computerThread.join();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (playerScore &gt; computerScore) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;Congratulations! You win the game!&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;Computer wins the game. Better luck next time!&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        scanner.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="chat-socket"><a href="#chat-socket" class="headerlink" title="chat socket"></a>chat socket</h2><p>这是一个 socket 的聊天控制台收发的聊天程序</p><figure class="highlight java"><figcaption><span>客户端</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.jiawendd.chat_socket;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintWriter;</span><br><span class="line"><span class="keyword">import</span> java.net.Socket;</span><br><span class="line"><span class="keyword">import</span> java.net.UnknownHostException;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ClientDemo</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">testClient</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;正在向服务器请求连接。。。&quot;</span>);</span><br><span class="line">        <span class="type">Socket</span> <span class="variable">socket</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">keybordscanner</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">inScanner</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">PrintWriter</span> <span class="variable">pwtoserver</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            socket = <span class="keyword">new</span> <span class="title class_">Socket</span>(<span class="string">&quot;127.0.0.1&quot;</span>, <span class="number">6666</span>);</span><br><span class="line">            inScanner = <span class="keyword">new</span> <span class="title class_">Scanner</span>(socket.getInputStream());</span><br><span class="line">            System.out.println(inScanner.nextLine());</span><br><span class="line">            pwtoserver = <span class="keyword">new</span> <span class="title class_">PrintWriter</span>(socket.getOutputStream());</span><br><span class="line">            System.out.print(<span class="string">&quot;我(客户端)：&quot;</span>);</span><br><span class="line">            <span class="comment">//先读取键盘录入方可向服务端发送消息</span></span><br><span class="line">            keybordscanner = <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">            <span class="keyword">while</span>(keybordscanner.hasNextLine())&#123;</span><br><span class="line">                <span class="type">String</span> <span class="variable">keyborddata</span> <span class="operator">=</span> keybordscanner.nextLine();</span><br><span class="line">                <span class="comment">//展示到己方的控制台</span></span><br><span class="line">                System.out.println(<span class="string">&quot;我(客户端)：&quot;</span>+keyborddata);</span><br><span class="line">                <span class="comment">//写到服务端的的控制台</span></span><br><span class="line">                pwtoserver.println(keyborddata);</span><br><span class="line">                pwtoserver.flush();</span><br><span class="line">                <span class="comment">//阻塞等待接收服务端的消息</span></span><br><span class="line">                <span class="type">String</span> <span class="variable">indata</span> <span class="operator">=</span> inScanner.nextLine();</span><br><span class="line">                System.out.println(<span class="string">&quot;服务端：&quot;</span>+indata);</span><br><span class="line">                System.out.print(<span class="string">&quot;我(客户端)：&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (UnknownHostException e) &#123;</span><br><span class="line">            <span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            <span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            keybordscanner.close();</span><br><span class="line">            pwtoserver.close();</span><br><span class="line">            inScanner.close();</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                socket.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                <span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        testClient();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight java"><figcaption><span>服务端</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.jiawendd.chat_socket;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintWriter;</span><br><span class="line"><span class="keyword">import</span> java.net.ServerSocket;</span><br><span class="line"><span class="keyword">import</span> java.net.Socket;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ServerDemo</span> &#123;</span><br><span class="line">    <span class="comment">//服务器</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">testServer</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">//创建一个服务器</span></span><br><span class="line">        System.out.println(<span class="string">&quot;等待客户端连接。。。&quot;</span>);</span><br><span class="line">        <span class="type">PrintWriter</span> <span class="variable">pwtoclien</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">keybordscanner</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">inScanner</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">ServerSocket</span> <span class="variable">ss</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            ss = <span class="keyword">new</span> <span class="title class_">ServerSocket</span>(<span class="number">6666</span>);</span><br><span class="line">            <span class="comment">//创建一个接收连接客户端的对象</span></span><br><span class="line">            <span class="type">Socket</span> <span class="variable">socket</span> <span class="operator">=</span> ss.accept();</span><br><span class="line">            System.out.println(socket.getInetAddress()+<span class="string">&quot;已成功连接到此台服务器上。&quot;</span>);</span><br><span class="line">            <span class="comment">//字符输出流</span></span><br><span class="line">            pwtoclien = <span class="keyword">new</span> <span class="title class_">PrintWriter</span>(socket.getOutputStream());</span><br><span class="line">            pwtoclien.println(<span class="string">&quot;已成功连接到远程服务器！&quot;</span>+<span class="string">&quot;\t&quot;</span>+<span class="string">&quot;请您先发言。&quot;</span>);</span><br><span class="line">            pwtoclien.flush();</span><br><span class="line">            keybordscanner = <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">            inScanner = <span class="keyword">new</span> <span class="title class_">Scanner</span>(socket.getInputStream());</span><br><span class="line">            <span class="comment">//阻塞等待客户端发送消息过来</span></span><br><span class="line">            <span class="keyword">while</span>(inScanner.hasNextLine())&#123;</span><br><span class="line">                <span class="type">String</span> <span class="variable">indata</span> <span class="operator">=</span> inScanner.nextLine();</span><br><span class="line">                System.out.println(<span class="string">&quot;客户端：&quot;</span>+indata);</span><br><span class="line">                System.out.print(<span class="string">&quot;我(服务端)：&quot;</span>);</span><br><span class="line">                <span class="type">String</span> <span class="variable">keyborddata</span> <span class="operator">=</span> keybordscanner.nextLine();</span><br><span class="line">                System.out.println(<span class="string">&quot;我(服务端)：&quot;</span>+keyborddata);</span><br><span class="line">                pwtoclien.println(keyborddata);</span><br><span class="line">                pwtoclien.flush();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            <span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            pwtoclien.close();</span><br><span class="line">            keybordscanner.close();</span><br><span class="line">            inScanner.close();</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                ss.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                <span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        testServer();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><mark style="color: red;">注意：</mark>package com.jiawendd.chat_socket; 这里填自己的空间。  先运行服务端</p><h2 id="chat-socket-thread"><a href="#chat-socket-thread" class="headerlink" title="chat socket_thread"></a>chat socket_thread</h2><p>这是一个 socket 的 多线程聊天控制台收发的聊天程序</p><figure class="highlight java"><figcaption><span>客户端</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.jiawendd.chat_socket_thread;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">import</span> java.net.Socket;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MultiThreadedChatClient</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">SERVER_ADDRESS</span> <span class="operator">=</span> <span class="string">&quot;jiawendd.cn&quot;</span>; <span class="comment">// 服务器地址</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">PORT</span> <span class="operator">=</span> <span class="number">1234</span>; <span class="comment">// 服务器端口</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Socket</span> <span class="variable">socket</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            socket = <span class="keyword">new</span> <span class="title class_">Socket</span>(SERVER_ADDRESS, PORT);</span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">Thread</span>(<span class="keyword">new</span> <span class="title class_">ClientRunnable</span>(socket)).start(); <span class="comment">// 启动客户端线程</span></span><br><span class="line">            <span class="type">Scanner</span> <span class="variable">scanner</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">            <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">                <span class="type">String</span> <span class="variable">userInput</span> <span class="operator">=</span> scanner.nextLine();</span><br><span class="line">                <span class="type">OutputStreamWriter</span> <span class="variable">writer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">OutputStreamWriter</span>(socket.getOutputStream());</span><br><span class="line">                writer.write(userInput + <span class="string">&quot;\n&quot;</span>);</span><br><span class="line">                writer.flush();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (socket != <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    socket.close();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">ClientRunnable</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span> &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">final</span> Socket socket;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="title function_">ClientRunnable</span><span class="params">(Socket socket)</span> &#123;</span><br><span class="line">            <span class="built_in">this</span>.socket = socket;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">try</span> (<span class="type">BufferedReader</span> <span class="variable">in</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedReader</span>(<span class="keyword">new</span> <span class="title class_">InputStreamReader</span>(socket.getInputStream()))) &#123;</span><br><span class="line">                String serverMessage;</span><br><span class="line">                <span class="keyword">while</span> ((serverMessage = in.readLine()) != <span class="literal">null</span>) &#123;</span><br><span class="line">                    System.out.println(serverMessage);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight java"><figcaption><span>服务端</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.jiawendd.chat_socket_thread;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">import</span> java.net.*;</span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MultiThreadedChatServer</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">PORT</span> <span class="operator">=</span> <span class="number">1234</span>; <span class="comment">// 服务器端口</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">THREAD_POOL_SIZE</span> <span class="operator">=</span> <span class="number">10</span>; <span class="comment">// 线程池大小</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> List&lt;ClientHandler&gt; clients = Collections.synchronizedList(<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;()); <span class="comment">// 客户端管理列表</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> List&lt;String&gt; chatHistory = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;(); <span class="comment">// 聊天记录列表</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">ExecutorService</span> <span class="variable">threadPool</span> <span class="operator">=</span> Executors.newFixedThreadPool(THREAD_POOL_SIZE);</span><br><span class="line">        <span class="keyword">try</span> (<span class="type">ServerSocket</span> <span class="variable">serverSocket</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ServerSocket</span>(PORT)) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;Chat server is listening on port &quot;</span> + PORT);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">while</span> (<span class="literal">true</span>) &#123; <span class="comment">// 循环等待新的连接</span></span><br><span class="line">                <span class="type">Socket</span> <span class="variable">clientSocket</span> <span class="operator">=</span> serverSocket.accept(); <span class="comment">// 阻塞等待连接</span></span><br><span class="line">                System.out.println(<span class="string">&quot;New client connected: &quot;</span> + clientSocket.getInetAddress());</span><br><span class="line">                <span class="comment">// 将新的客户端连接任务提交到线程池</span></span><br><span class="line">                threadPool.submit(<span class="keyword">new</span> <span class="title class_">ClientHandler</span>(clientSocket, clients));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 添加一个方法来获取聊天记录</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> List&lt;String&gt; <span class="title function_">getChatHistory</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">synchronized</span> (chatHistory) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;(chatHistory); <span class="comment">// 返回聊天记录的副本</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">ClientHandler</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span> &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">final</span> Socket clientSocket;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">final</span> List&lt;ClientHandler&gt; clients;</span><br><span class="line">        <span class="keyword">public</span> <span class="title function_">ClientHandler</span><span class="params">(Socket socket, List&lt;ClientHandler&gt; clients)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">            <span class="built_in">this</span>.clientSocket = socket;</span><br><span class="line">            <span class="built_in">this</span>.clients = clients;</span><br><span class="line">            clients.add(<span class="built_in">this</span>); <span class="comment">// 添加当前客户端到管理列表</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">try</span> (<span class="type">BufferedReader</span> <span class="variable">in</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedReader</span>(<span class="keyword">new</span> <span class="title class_">InputStreamReader</span>(clientSocket.getInputStream()));</span><br><span class="line">                 <span class="type">PrintWriter</span> <span class="variable">out</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">PrintWriter</span>(clientSocket.getOutputStream(), <span class="literal">true</span>)) &#123;</span><br><span class="line">                <span class="comment">// 发送聊天记录给新连接的客户端</span></span><br><span class="line">                <span class="keyword">for</span> (String message : chatHistory) &#123;</span><br><span class="line">                    out.println(message);</span><br><span class="line">                &#125;</span><br><span class="line">                out.flush();</span><br><span class="line">                String clientMessage;</span><br><span class="line">                <span class="keyword">while</span> ((clientMessage = in.readLine()) != <span class="literal">null</span>) &#123;</span><br><span class="line">                    System.out.println(<span class="string">&quot;Received from &quot;</span> + clientSocket.getInetAddress() + <span class="string">&quot;: &quot;</span> + clientMessage);</span><br><span class="line">                    <span class="keyword">synchronized</span> (chatHistory) &#123;</span><br><span class="line">                        chatHistory.add(clientSocket.getInetAddress()+<span class="string">&quot;:&quot;</span>+clientMessage); <span class="comment">// 将消息添加到聊天记录中</span></span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="comment">// 广播消息给所有连接的客户端，除了发送者</span></span><br><span class="line">                    broadcastMessage(clientSocket.getInetAddress() + <span class="string">&quot;: &quot;</span>+clientMessage, <span class="built_in">this</span>);</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">            &#125;<span class="keyword">catch</span> (SocketException e) &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;Client &quot;</span> + clientSocket.getInetAddress() + <span class="string">&quot; has disconnected.&quot;</span>);</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    <span class="keyword">synchronized</span> (chatHistory) &#123;</span><br><span class="line">                        chatHistory.add(<span class="string">&quot;A user has left the chat.&quot;</span>+clientSocket.getInetAddress()); <span class="comment">// 将消息添加到聊天记录中</span></span><br><span class="line">                    &#125;</span><br><span class="line">                    broadcastMessage(<span class="string">&quot;A user has left the chat.&quot;</span>+clientSocket.getInetAddress(), <span class="built_in">this</span>);</span><br><span class="line">                &#125; <span class="keyword">catch</span> (IOException ex) &#123;</span><br><span class="line">                    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(ex);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">                <span class="comment">// 从客户端管理列表中移除当前客户端</span></span><br><span class="line">                clients.remove(<span class="built_in">this</span>);</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    clientSocket.close(); <span class="comment">// 关闭连接</span></span><br><span class="line">                &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">broadcastMessage</span><span class="params">(String message, ClientHandler exclude)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">            <span class="keyword">for</span> (ClientHandler client : clients) &#123;</span><br><span class="line">                <span class="keyword">if</span> (client != exclude) &#123;</span><br><span class="line">                    client.sendMessage(message);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">sendMessage</span><span class="params">(String message)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">            <span class="type">PrintWriter</span> <span class="variable">out</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">PrintWriter</span>(clientSocket.getOutputStream(), <span class="literal">true</span>);</span><br><span class="line">            out.println(message);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><mark style="color: red;">注意：</mark>package com.jiawendd.chat_socket; 这里填自己的空间。  先运行服务端</p><h2 id="生成验证码"><a href="#生成验证码" class="headerlink" title="生成验证码"></a>生成验证码</h2><h3 id="验证码1"><a href="#验证码1" class="headerlink" title="验证码1"></a>验证码1</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> src.main.java.com.jiawendd;</span><br><span class="line"><span class="keyword">import</span> java.util.Random;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> class 生成验证码 &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">char</span>[] UPPER_CHARS = <span class="string">&quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;</span>.toCharArray();</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">char</span>[] LOWER_CHARS = <span class="string">&quot;abcdefghijklmnopqrstuvwxyz&quot;</span>.toCharArray();</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">char</span>[] DIGITS = <span class="string">&quot;0123456789&quot;</span>.toCharArray();</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Random rd=<span class="keyword">new</span> <span class="title class_">Random</span>();</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        System.out.println(code(<span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in).nextInt()));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> String <span class="title function_">code</span><span class="params">(<span class="type">int</span> i)</span> &#123;</span><br><span class="line">        String code=<span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>)&#123;</span><br><span class="line">            <span class="keyword">switch</span> (rd.nextInt(<span class="number">3</span>))&#123;</span><br><span class="line">                <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">                    code+=UPPER_CHARS[rd.nextInt(UPPER_CHARS.length)];</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">                    code+=LOWER_CHARS[rd.nextInt(LOWER_CHARS.length)];</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">                    code+=DIGITS[rd.nextInt(DIGITS.length)];</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            i--;</span><br><span class="line">            <span class="keyword">if</span>(i==<span class="number">0</span>)&#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">       <span class="keyword">return</span> code;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="验证码2"><a href="#验证码2" class="headerlink" title="验证码2"></a>验证码2</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itheima.com;</span><br><span class="line"><span class="keyword">import</span> java.util.Random;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo_</span>验证码 &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;请输入您需要获得验证码的长度：&quot;</span>);</span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">sc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        <span class="type">int</span> <span class="variable">length</span> <span class="operator">=</span> sc.nextInt(); <span class="comment">// 修改变量名为length，并使用int类型接收输入</span></span><br><span class="line">        yanZhengma(length); <span class="comment">// 调用验证码生成方法，并传递验证码长度</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">yanZhengma</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">        <span class="type">Random</span> <span class="variable">r</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Random</span>();</span><br><span class="line">        String[] arr = <span class="keyword">new</span> <span class="title class_">String</span>[n];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; arr.length; i++) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">flag</span> <span class="operator">=</span> r.nextInt(<span class="number">3</span>); <span class="comment">//修改随机数的范围为3，以包含数字、大写字母和小写字母</span></span><br><span class="line">            <span class="keyword">if</span> (flag == <span class="number">0</span>) &#123;</span><br><span class="line">                arr[i] = String.valueOf(r.nextInt(<span class="number">10</span>)); <span class="comment">// 生成0-9之间的随机数字</span></span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (flag == <span class="number">1</span>) &#123;</span><br><span class="line">                arr[i] = Character.toString((<span class="type">char</span>) (r.nextInt(<span class="number">26</span>) + <span class="number">65</span>)); <span class="comment">// 生成A-Z之间的随机大写字母</span></span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                arr[i] = Character.toString((<span class="type">char</span>) (r.nextInt(<span class="number">26</span>) + <span class="number">97</span>)); <span class="comment">// 生成a-z之间的随机小写字母</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 输出生成的验证码</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            System.out.print(arr[i] + <span class="string">&quot; &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="数字加密"><a href="#数字加密" class="headerlink" title="数字加密"></a>数字加密</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itheima.com;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo_</span>数字加密 &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">/*某系统的数字密码是一个四位数，如1983，为了安全，需要加密后再传输，</span></span><br><span class="line"><span class="comment">          加密规则是：对密码中的每位数，都加5，再对10求余，最后将所有数字顺序反转，得到一串加密后的新数*/</span></span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">sc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        System.out.println(<span class="string">&quot;请输入一个四位数的密码： &quot;</span>);</span><br><span class="line">        <span class="type">int</span> <span class="variable">passWord</span> <span class="operator">=</span> sc.nextInt();</span><br><span class="line">        System.out.println(numLock(passWord));</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">numLock</span><span class="params">(<span class="type">int</span> p)</span>&#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">q</span> <span class="operator">=</span> (p / <span class="number">1000</span> + <span class="number">5</span>) % <span class="number">10</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">b</span> <span class="operator">=</span> (p / <span class="number">100</span> % <span class="number">10</span> + <span class="number">5</span>) % <span class="number">10</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">s</span> <span class="operator">=</span> (p / <span class="number">10</span> % <span class="number">10</span> + <span class="number">5</span>) % <span class="number">10</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">g</span> <span class="operator">=</span> (p % <span class="number">10</span> + <span class="number">5</span>) % <span class="number">10</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">newNum</span> <span class="operator">=</span> g * <span class="number">1000</span> + s * <span class="number">100</span> + b * <span class="number">10</span> + q;</span><br><span class="line">        <span class="keyword">return</span> newNum;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="抢红包"><a href="#抢红包" class="headerlink" title="抢红包"></a>抢红包</h3><ul><li>抢红包1<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> src.main.java.com.jiawendd;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.Random;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> class 抢红包 &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        getQianghobao();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">getQianghobao</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">int</span>[] arr=&#123;<span class="number">9</span>,<span class="number">666</span>,<span class="number">188</span>,<span class="number">520</span>,<span class="number">99999</span>&#125;;</span><br><span class="line">        Scanner sc=<span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        Random rd=<span class="keyword">new</span> <span class="title class_">Random</span>();</span><br><span class="line">        <span class="type">int</span> tmp;<span class="comment">//临时变量交换数组</span></span><br><span class="line">        <span class="type">int</span> r;<span class="comment">//随机数变量</span></span><br><span class="line">        <span class="type">int</span> rlen=arr.length;<span class="comment">// 跳出循环条件</span></span><br><span class="line">        <span class="keyword">while</span> (rlen!=<span class="number">0</span>)&#123;<span class="comment">// 跳出循环条件</span></span><br><span class="line">            System.out.println(<span class="string">&quot;按任意按键完成抽奖：&quot;</span>);</span><br><span class="line">            <span class="comment">//sc.next();</span></span><br><span class="line">            r=rd.nextInt(rlen);</span><br><span class="line">            System.out.println(<span class="string">&quot;恭喜你，你抽到了：&quot;</span>+arr[r]);</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> r; i &lt; arr.length; i++) &#123;</span><br><span class="line">                <span class="keyword">if</span>(i==arr.length-<span class="number">1</span>)&#123;</span><br><span class="line">                    rlen--;<span class="comment">// 每次移动到最后一个的时候跳出总长度减一</span></span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                tmp=arr[i];</span><br><span class="line">                arr[i]=arr[i+<span class="number">1</span>];</span><br><span class="line">                arr[i+<span class="number">1</span>]=tmp;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(Arrays.toString(arr));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li><li>抢红包2</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> src.main.java.com.jiawendd;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.InputMismatchException;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> class 双色球 &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">int</span>[] userNumbers = userSelectNumbers();</span><br><span class="line">        <span class="type">int</span>[] luckNumbers = createLuckNumbers();</span><br><span class="line">        judge(userNumbers, luckNumbers);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">judge</span><span class="params">(<span class="type">int</span>[] userNumbers, <span class="type">int</span>[] luckNumbers)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">redballcount</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">bullballcount</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; luckNumbers.length - <span class="number">1</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i1</span> <span class="operator">=</span> <span class="number">0</span>; i1 &lt; userNumbers.length - <span class="number">1</span>; i1++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (luckNumbers[i] == userNumbers[i1]) &#123;</span><br><span class="line">                    redballcount++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (userNumbers[userNumbers.length - <span class="number">1</span>] == luckNumbers[luckNumbers.length - <span class="number">1</span>]) &#123;</span><br><span class="line">            bullballcount++;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;红球中了：&quot;</span> + redballcount + <span class="string">&quot; 蓝球中了：&quot;</span> + bullballcount);</span><br><span class="line">        <span class="keyword">if</span> (redballcount == <span class="number">6</span> &amp;&amp; bullballcount == <span class="number">1</span>) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;最高1000万&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (redballcount == <span class="number">6</span> &amp;&amp; bullballcount == <span class="number">0</span>) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;最高500万&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (redballcount == <span class="number">5</span> &amp;&amp; bullballcount == <span class="number">1</span>) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;3000&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (redballcount == <span class="number">5</span> &amp;&amp; bullballcount == <span class="number">0</span>) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;200&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span> (redballcount == <span class="number">4</span> &amp;&amp; bullballcount == <span class="number">1</span>) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;200&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span> (redballcount == <span class="number">4</span> &amp;&amp; bullballcount == <span class="number">0</span>) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;10&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span> (redballcount == <span class="number">3</span> &amp;&amp; bullballcount == <span class="number">1</span>) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;10&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span> (redballcount == <span class="number">2</span> &amp;&amp; bullballcount == <span class="number">1</span>) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;5&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span> (redballcount == <span class="number">1</span> &amp;&amp; bullballcount == <span class="number">1</span>) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;5&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span> (redballcount == <span class="number">0</span> &amp;&amp; bullballcount == <span class="number">1</span>) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;5&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;很遗憾！&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span>[] userSelectNumbers() &#123;</span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">scanner</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        <span class="type">int</span>[] balls = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">7</span>];</span><br><span class="line">        <span class="type">int</span> <span class="variable">redBall</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; balls.length-<span class="number">1</span>; i++) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;请输入您第&quot;</span> + (i + <span class="number">1</span>) + <span class="string">&quot;个红色号码&quot;</span>);</span><br><span class="line">            <span class="type">boolean</span> <span class="variable">validInput</span> <span class="operator">=</span> <span class="literal">false</span>;</span><br><span class="line">            <span class="keyword">while</span> (!validInput) &#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    redBall = scanner.nextInt();</span><br><span class="line">                    validInput = <span class="literal">true</span>; <span class="comment">// 确认输入为整数</span></span><br><span class="line">                &#125; <span class="keyword">catch</span> (InputMismatchException e) &#123;</span><br><span class="line">                    System.out.println(<span class="string">&quot;输入无效，请输入整数！&quot;</span>);</span><br><span class="line">                    scanner.next(); <span class="comment">// 清除Scanner中的无效输入</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="type">boolean</span> <span class="variable">isDuplicate</span> <span class="operator">=</span> <span class="literal">false</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> ball : balls) &#123;</span><br><span class="line">                <span class="keyword">if</span> (ball == redBall &amp;&amp; ball!=<span class="number">0</span>) &#123;</span><br><span class="line">                    isDuplicate = <span class="literal">true</span>;</span><br><span class="line">                    System.out.println(<span class="string">&quot;重复了&quot;</span>);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            balls[i] = redBall;</span><br><span class="line">            <span class="keyword">if</span> (redBall &lt; <span class="number">1</span> || redBall &gt; <span class="number">33</span> || isDuplicate) &#123;</span><br><span class="line">                i--;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (redBall &lt; <span class="number">1</span> || redBall &gt; <span class="number">33</span>) &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;请输入1到33之间的整数。&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;请输入您蓝球号码&quot;</span>);</span><br><span class="line">        <span class="type">boolean</span> <span class="variable">validInput</span> <span class="operator">=</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="type">int</span> blueBall=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (!validInput) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                blueBall= scanner.nextInt();</span><br><span class="line">                validInput = <span class="literal">true</span>;</span><br><span class="line">                <span class="keyword">if</span> (blueBall &lt; <span class="number">1</span> || blueBall &gt; <span class="number">16</span>) &#123;</span><br><span class="line">                    System.out.println(<span class="string">&quot;请输入1到16之间的整数:&quot;</span>);</span><br><span class="line">                    validInput = <span class="literal">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InputMismatchException e) &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;输入无效，请输入整数！&quot;</span>);</span><br><span class="line">                scanner.next(); <span class="comment">// 清除Scanner中的无效输入</span></span><br><span class="line">                validInput = <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        balls[balls.length - <span class="number">1</span>] = blueBall;</span><br><span class="line">        System.out.println(Arrays.toString(balls));</span><br><span class="line">        <span class="keyword">return</span> balls;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span>[] createLuckNumbers() &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">redCount</span> <span class="operator">=</span> <span class="number">6</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">blueCount</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">        <span class="type">int</span>[] redBalls = <span class="keyword">new</span> <span class="title class_">int</span>[redCount + blueCount];</span><br><span class="line">        <span class="type">int</span> blueBall;</span><br><span class="line">        <span class="comment">// 生成红球号码</span></span><br><span class="line">        <span class="keyword">while</span> (redCount &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">number</span> <span class="operator">=</span> (<span class="type">int</span>) (Math.random() * <span class="number">33</span>) + <span class="number">1</span>;</span><br><span class="line">            <span class="comment">// 检查是否重复</span></span><br><span class="line">            <span class="type">boolean</span> <span class="variable">isDuplicate</span> <span class="operator">=</span> <span class="literal">false</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> ball : redBalls) &#123;</span><br><span class="line">                <span class="keyword">if</span> (ball == number) &#123;</span><br><span class="line">                    isDuplicate = <span class="literal">true</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (!isDuplicate) &#123;</span><br><span class="line">                redBalls[redCount - <span class="number">1</span>] = number;</span><br><span class="line">                redCount--;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 生成蓝球号码</span></span><br><span class="line">        blueBall = (<span class="type">int</span>) (Math.random() * <span class="number">16</span>) + <span class="number">1</span>;</span><br><span class="line">        redBalls[redBalls.length - <span class="number">1</span>] = blueBall;</span><br><span class="line">        System.out.println(<span class="string">&quot;模拟的双色球号码为：&quot;</span>);</span><br><span class="line">        System.out.println(Arrays.toString(redBalls));</span><br><span class="line">        System.out.println(<span class="string">&quot;蓝球号码为：&quot;</span> + blueBall);</span><br><span class="line">        <span class="keyword">return</span> redBalls;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
